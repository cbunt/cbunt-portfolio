"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwebgpu_basic"] = self["webpackChunkwebgpu_basic"] || []).push([["src_samples_cubemap-blur_cubemap-blur-sample_ts"],{

/***/ "./src/rendering/constants.ts":
/*!************************************!*\
  !*** ./src/rendering/constants.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextureFormatToChannelSize: () => (/* binding */ TextureFormatToChannelSize),\n/* harmony export */   TextureFormatToSize: () => (/* binding */ TextureFormatToSize),\n/* harmony export */   TypeSizes: () => (/* binding */ TypeSizes),\n/* harmony export */   VkFormatToWebGPU: () => (/* binding */ VkFormatToWebGPU),\n/* harmony export */   WebGPUToVkFormat: () => (/* binding */ WebGPUToVkFormat),\n/* harmony export */   textureTypeToDimension: () => (/* binding */ textureTypeToDimension)\n/* harmony export */ });\n/* harmony import */ var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js */ \"./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js\");\n/* harmony import */ var ktx_parse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ktx-parse */ \"./node_modules/.pnpm/ktx-parse@0.7.0/node_modules/ktx-parse/dist/ktx-parse.modern.js\");\n/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ \"./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js\");\n\n__webpack_require__.$Refresh$.runtime = /*#__PURE__*/ (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__, 2)));\n\n\nconst TypeSizes = {\n    mat4x4Count: 16,\n    sizeofMat4x4f: 16 * Float32Array.BYTES_PER_ELEMENT,\n};\nconst VkFormatToWebGPU = {\n    // 8-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8_UNORM]: 'r8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8_SNORM]: 'r8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8_UINT]: 'r8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8_SINT]: 'r8sint',\n    // 16-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16_UINT]: 'r16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16_SINT]: 'r16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16_SFLOAT]: 'r16float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8_UNORM]: 'rg8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8_SNORM]: 'rg8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8_UINT]: 'rg8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8_SINT]: 'rg8sint',\n    // 32-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32_UINT]: 'r32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32_SINT]: 'r32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32_SFLOAT]: 'r32float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16G16_UINT]: 'rg16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16G16_SINT]: 'rg16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16G16_SFLOAT]: 'rg16float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8B8A8_UNORM]: 'rgba8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8B8A8_SRGB]: 'rgba8unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8B8A8_SNORM]: 'rgba8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8B8A8_UINT]: 'rgba8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R8G8B8A8_SINT]: 'rgba8sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_B8G8R8A8_UNORM]: 'bgra8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_B8G8R8A8_SRGB]: 'bgra8unorm-srgb',\n    // Packed 32-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_E5B9G9R9_UFLOAT_PACK32]: 'rgb9e5ufloat',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_A2R10G10B10_UINT_PACK32]: 'rgb10a2uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_A2R10G10B10_UNORM_PACK32]: 'rgb10a2unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_B10G11R11_UFLOAT_PACK32]: 'rg11b10ufloat',\n    // 64-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32G32_UINT]: 'rg32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32G32_SINT]: 'rg32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32G32_SFLOAT]: 'rg32float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16G16B16A16_UINT]: 'rgba16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16G16B16A16_SINT]: 'rgba16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R16G16B16A16_SFLOAT]: 'rgba16float',\n    // 128-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32G32B32A32_UINT]: 'rgba32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32G32B32A32_SINT]: 'rgba32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_R32G32B32A32_SFLOAT]: 'rgba32float',\n    // BC compressed formats usable if \"texture-compression-bc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC1_RGBA_UNORM_BLOCK]: 'bc1-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC1_RGBA_SRGB_BLOCK]: 'bc1-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC2_UNORM_BLOCK]: 'bc2-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC2_SRGB_BLOCK]: 'bc2-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC3_UNORM_BLOCK]: 'bc3-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC3_SRGB_BLOCK]: 'bc3-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC4_UNORM_BLOCK]: 'bc4-r-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC4_SNORM_BLOCK]: 'bc4-r-snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC5_UNORM_BLOCK]: 'bc5-rg-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC5_SNORM_BLOCK]: 'bc5-rg-snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC6H_UFLOAT_BLOCK]: 'bc6h-rgb-ufloat',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC6H_SFLOAT_BLOCK]: 'bc6h-rgb-float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC7_UNORM_BLOCK]: 'bc7-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_1__.VK_FORMAT_BC7_SRGB_BLOCK]: 'bc7-rgba-unorm-srgb',\n    // Currently unsupported extension formats:\n    // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // \"etc2-rgb8unorm\",\n    // \"etc2-rgb8unorm-srgb\",\n    // \"etc2-rgb8a1unorm\",\n    // \"etc2-rgb8a1unorm-srgb\",\n    // \"etc2-rgba8unorm\",\n    // \"etc2-rgba8unorm-srgb\",\n    // \"eac-r11unorm\",\n    // \"eac-r11snorm\",\n    // \"eac-rg11unorm\",\n    // \"eac-rg11snorm\",\n    // ASTC compressed formats usable if \"texture-compression-astc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // \"astc-4x4-unorm\",\n    // \"astc-4x4-unorm-srgb\",\n    // \"astc-5x4-unorm\",\n    // \"astc-5x4-unorm-srgb\",\n    // \"astc-5x5-unorm\",\n    // \"astc-5x5-unorm-srgb\",\n    // \"astc-6x5-unorm\",\n    // \"astc-6x5-unorm-srgb\",\n    // \"astc-6x6-unorm\",\n    // \"astc-6x6-unorm-srgb\",\n    // \"astc-8x5-unorm\",\n    // \"astc-8x5-unorm-srgb\",\n    // \"astc-8x6-unorm\",\n    // \"astc-8x6-unorm-srgb\",\n    // \"astc-8x8-unorm\",\n    // \"astc-8x8-unorm-srgb\",\n    // \"astc-10x5-unorm\",\n    // \"astc-10x5-unorm-srgb\",\n    // \"astc-10x6-unorm\",\n    // \"astc-10x6-unorm-srgb\",\n    // \"astc-10x8-unorm\",\n    // \"astc-10x8-unorm-srgb\",\n    // \"astc-10x10-unorm\",\n    // \"astc-10x10-unorm-srgb\",\n    // \"astc-12x10-unorm\",\n    // \"astc-12x10-unorm-srgb\",\n    // \"astc-12x12-unorm\",\n};\nconst TextureFormatToSize = {\n    // 8-bit formats\n    r8unorm: 1,\n    r8snorm: 1,\n    r8uint: 1,\n    r8sint: 1,\n    // 16-bit formats\n    r16uint: 2,\n    r16sint: 2,\n    r16float: 2,\n    rg8unorm: 2,\n    rg8snorm: 2,\n    rg8uint: 2,\n    rg8sint: 2,\n    // 32-bit formats\n    r32uint: 4,\n    r32sint: 4,\n    r32float: 4,\n    rg16uint: 4,\n    rg16sint: 4,\n    rg16float: 4,\n    rgba8unorm: 4,\n    'rgba8unorm-srgb': 4,\n    rgba8snorm: 4,\n    rgba8uint: 4,\n    rgba8sint: 4,\n    bgra8unorm: 4,\n    'bgra8unorm-srgb': 4,\n    // Packed 32-bit formats\n    rgb9e5ufloat: 4,\n    rgb10a2uint: 4,\n    rgb10a2unorm: 4,\n    rg11b10ufloat: 4,\n    // 64-bit formats\n    rg32uint: 8,\n    rg32sint: 8,\n    rg32float: 8,\n    rgba16uint: 8,\n    rgba16sint: 8,\n    rgba16float: 8,\n    // 128-bit formats\n    rgba32uint: 16,\n    rgba32sint: 16,\n    rgba32float: 16,\n};\nconst TextureFormatToChannelSize = {\n    // 8-bit formats\n    r8unorm: 1,\n    r8snorm: 1,\n    r8uint: 1,\n    r8sint: 1,\n    // 16-bit formats\n    r16uint: 2,\n    r16sint: 2,\n    r16float: 2,\n    rg8unorm: 1,\n    rg8snorm: 1,\n    rg8uint: 1,\n    rg8sint: 1,\n    // 32-bit formats\n    r32uint: 4,\n    r32sint: 4,\n    r32float: 4,\n    rg16uint: 2,\n    rg16sint: 2,\n    rg16float: 2,\n    rgba8unorm: 1,\n    'rgba8unorm-srgb': 1,\n    rgba8snorm: 1,\n    rgba8uint: 1,\n    rgba8sint: 1,\n    bgra8unorm: 1,\n    'bgra8unorm-srgb': 1,\n    // Packed 32-bit formats\n    rgb9e5ufloat: 4,\n    rgb10a2uint: 4,\n    rgb10a2unorm: 4,\n    rg11b10ufloat: 4,\n    // 64-bit formats\n    rg32uint: 4,\n    rg32sint: 4,\n    rg32float: 4,\n    rgba16uint: 2,\n    rgba16sint: 2,\n    rgba16float: 2,\n    // 128-bit formats\n    rgba32uint: 4,\n    rgba32sint: 4,\n    rgba32float: 4,\n};\nconst WebGPUToVkFormat = Object.fromEntries(Object.entries(VkFormatToWebGPU).map(([vk, wgpu]) => [wgpu, parseInt(vk, 10)]));\nconst textureTypeToDimension = {\n    texture_cube: 'cube',\n    texture_3d: '3d',\n    texture_2d: '2d',\n};\n\n\nconst $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;\nconst $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(\n\t$ReactRefreshModuleId$\n);\n\nfunction $ReactRefreshModuleRuntime$(exports) {\n\tif (false) {}\n}\n\nif (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {\n\t$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);\n} else {\n\t$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sc0JBQXNCLEdBQTRDO0lBQzNFLFlBQVksRUFBRSxNQUFNO0lBQ3BCLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLFVBQVUsRUFBRSxJQUFJO0NBQ25CLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJncHUtYmFzaWMvLi9zcmMvcmVuZGVyaW5nL2NvbnN0YW50cy50cz8yZThlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGt0eHAgZnJvbSAna3R4LXBhcnNlJztcblxuZXhwb3J0IGNvbnN0IFR5cGVTaXplcyA9IHtcbiAgICBtYXQ0eDRDb3VudDogMTYsXG4gICAgc2l6ZW9mTWF0NHg0ZjogMTYgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXG59O1xuXG5leHBvcnQgY29uc3QgVmtGb3JtYXRUb1dlYkdQVTogUmVjb3JkPG51bWJlciwgR1BVVGV4dHVyZUZvcm1hdD4gPSB7XG4gICAgLy8gOC1iaXQgZm9ybWF0c1xuICAgIFtrdHhwLlZLX0ZPUk1BVF9SOF9VTk9STV06ICdyOHVub3JtJyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfU05PUk1dOiAncjhzbm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX1I4X1VJTlRdOiAncjh1aW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfU0lOVF06ICdyOHNpbnQnLFxuICAgIC8vIDE2LWJpdCBmb3JtYXRzXG4gICAgW2t0eHAuVktfRk9STUFUX1IxNl9VSU5UXTogJ3IxNnVpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMTZfU0lOVF06ICdyMTZzaW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1NGTE9BVF06ICdyMTZmbG9hdCcsXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhfVU5PUk1dOiAncmc4dW5vcm0nLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SOEc4X1NOT1JNXTogJ3JnOHNub3JtJyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9VSU5UXTogJ3JnOHVpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SOEc4X1NJTlRdOiAncmc4c2ludCcsXG4gICAgLy8gMzItYml0IGZvcm1hdHNcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1VJTlRdOiAncjMydWludCcsXG4gICAgW2t0eHAuVktfRk9STUFUX1IzMl9TSU5UXTogJ3IzMnNpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJfU0ZMT0FUXTogJ3IzMmZsb2F0JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2X1VJTlRdOiAncmcxNnVpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMTZHMTZfU0lOVF06ICdyZzE2c2ludCcsXG4gICAgW2t0eHAuVktfRk9STUFUX1IxNkcxNl9TRkxPQVRdOiAncmcxNmZsb2F0JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfVU5PUk1dOiAncmdiYTh1bm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhCOEE4X1NSR0JdOiAncmdiYTh1bm9ybS1zcmdiJyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfU05PUk1dOiAncmdiYThzbm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhCOEE4X1VJTlRdOiAncmdiYTh1aW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfU0lOVF06ICdyZ2JhOHNpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9COEc4UjhBOF9VTk9STV06ICdiZ3JhOHVub3JtJyxcbiAgICBba3R4cC5WS19GT1JNQVRfQjhHOFI4QThfU1JHQl06ICdiZ3JhOHVub3JtLXNyZ2InLFxuICAgIC8vIFBhY2tlZCAzMi1iaXQgZm9ybWF0c1xuICAgIFtrdHhwLlZLX0ZPUk1BVF9FNUI5RzlSOV9VRkxPQVRfUEFDSzMyXTogJ3JnYjllNXVmbG9hdCcsXG4gICAgW2t0eHAuVktfRk9STUFUX0EyUjEwRzEwQjEwX1VJTlRfUEFDSzMyXTogJ3JnYjEwYTJ1aW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfQTJSMTBHMTBCMTBfVU5PUk1fUEFDSzMyXTogJ3JnYjEwYTJ1bm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX0IxMEcxMVIxMV9VRkxPQVRfUEFDSzMyXTogJ3JnMTFiMTB1ZmxvYXQnLFxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXG4gICAgW2t0eHAuVktfRk9STUFUX1IzMkczMl9VSU5UXTogJ3JnMzJ1aW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyRzMyX1NJTlRdOiAncmczMnNpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJfU0ZMT0FUXTogJ3JnMzJmbG9hdCcsXG4gICAgW2t0eHAuVktfRk9STUFUX1IxNkcxNkIxNkExNl9VSU5UXTogJ3JnYmExNnVpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMTZHMTZCMTZBMTZfU0lOVF06ICdyZ2JhMTZzaW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1NGTE9BVF06ICdyZ2JhMTZmbG9hdCcsXG4gICAgLy8gMTI4LWJpdCBmb3JtYXRzXG4gICAgW2t0eHAuVktfRk9STUFUX1IzMkczMkIzMkEzMl9VSU5UXTogJ3JnYmEzMnVpbnQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfU0lOVF06ICdyZ2JhMzJzaW50JyxcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyRzMyQjMyQTMyX1NGTE9BVF06ICdyZ2JhMzJmbG9hdCcsXG4gICAgLy8gQkMgY29tcHJlc3NlZCBmb3JtYXRzIHVzYWJsZSBpZiBcInRleHR1cmUtY29tcHJlc3Npb24tYmNcIiBpcyBib3RoXG4gICAgLy8gc3VwcG9ydGVkIGJ5IHRoZSBkZXZpY2UvdXNlciBhZ2VudCBhbmQgZW5hYmxlZCBpbiByZXF1ZXN0RGV2aWNlLlxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzFfUkdCQV9VTk9STV9CTE9DS106ICdiYzEtcmdiYS11bm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMV9SR0JBX1NSR0JfQkxPQ0tdOiAnYmMxLXJnYmEtdW5vcm0tc3JnYicsXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMl9VTk9STV9CTE9DS106ICdiYzItcmdiYS11bm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMl9TUkdCX0JMT0NLXTogJ2JjMi1yZ2JhLXVub3JtLXNyZ2InLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzNfVU5PUk1fQkxPQ0tdOiAnYmMzLXJnYmEtdW5vcm0nLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzNfU1JHQl9CTE9DS106ICdiYzMtcmdiYS11bm9ybS1zcmdiJyxcbiAgICBba3R4cC5WS19GT1JNQVRfQkM0X1VOT1JNX0JMT0NLXTogJ2JjNC1yLXVub3JtJyxcbiAgICBba3R4cC5WS19GT1JNQVRfQkM0X1NOT1JNX0JMT0NLXTogJ2JjNC1yLXNub3JtJyxcbiAgICBba3R4cC5WS19GT1JNQVRfQkM1X1VOT1JNX0JMT0NLXTogJ2JjNS1yZy11bm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX0JDNV9TTk9STV9CTE9DS106ICdiYzUtcmctc25vcm0nLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzZIX1VGTE9BVF9CTE9DS106ICdiYzZoLXJnYi11ZmxvYXQnLFxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzZIX1NGTE9BVF9CTE9DS106ICdiYzZoLXJnYi1mbG9hdCcsXG4gICAgW2t0eHAuVktfRk9STUFUX0JDN19VTk9STV9CTE9DS106ICdiYzctcmdiYS11bm9ybScsXG4gICAgW2t0eHAuVktfRk9STUFUX0JDN19TUkdCX0JMT0NLXTogJ2JjNy1yZ2JhLXVub3JtLXNyZ2InLFxuICAgIC8vIEN1cnJlbnRseSB1bnN1cHBvcnRlZCBleHRlbnNpb24gZm9ybWF0czpcbiAgICAvLyBFVEMyIGNvbXByZXNzZWQgZm9ybWF0cyB1c2FibGUgaWYgXCJ0ZXh0dXJlLWNvbXByZXNzaW9uLWV0YzJcIiBpcyBib3RoXG4gICAgLy8gc3VwcG9ydGVkIGJ5IHRoZSBkZXZpY2UvdXNlciBhZ2VudCBhbmQgZW5hYmxlZCBpbiByZXF1ZXN0RGV2aWNlLlxuICAgIC8vIFwiZXRjMi1yZ2I4dW5vcm1cIixcbiAgICAvLyBcImV0YzItcmdiOHVub3JtLXNyZ2JcIixcbiAgICAvLyBcImV0YzItcmdiOGExdW5vcm1cIixcbiAgICAvLyBcImV0YzItcmdiOGExdW5vcm0tc3JnYlwiLFxuICAgIC8vIFwiZXRjMi1yZ2JhOHVub3JtXCIsXG4gICAgLy8gXCJldGMyLXJnYmE4dW5vcm0tc3JnYlwiLFxuICAgIC8vIFwiZWFjLXIxMXVub3JtXCIsXG4gICAgLy8gXCJlYWMtcjExc25vcm1cIixcbiAgICAvLyBcImVhYy1yZzExdW5vcm1cIixcbiAgICAvLyBcImVhYy1yZzExc25vcm1cIixcbiAgICAvLyBBU1RDIGNvbXByZXNzZWQgZm9ybWF0cyB1c2FibGUgaWYgXCJ0ZXh0dXJlLWNvbXByZXNzaW9uLWFzdGNcIiBpcyBib3RoXG4gICAgLy8gc3VwcG9ydGVkIGJ5IHRoZSBkZXZpY2UvdXNlciBhZ2VudCBhbmQgZW5hYmxlZCBpbiByZXF1ZXN0RGV2aWNlLlxuICAgIC8vIFwiYXN0Yy00eDQtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtNHg0LXVub3JtLXNyZ2JcIixcbiAgICAvLyBcImFzdGMtNXg0LXVub3JtXCIsXG4gICAgLy8gXCJhc3RjLTV4NC11bm9ybS1zcmdiXCIsXG4gICAgLy8gXCJhc3RjLTV4NS11bm9ybVwiLFxuICAgIC8vIFwiYXN0Yy01eDUtdW5vcm0tc3JnYlwiLFxuICAgIC8vIFwiYXN0Yy02eDUtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtNng1LXVub3JtLXNyZ2JcIixcbiAgICAvLyBcImFzdGMtNng2LXVub3JtXCIsXG4gICAgLy8gXCJhc3RjLTZ4Ni11bm9ybS1zcmdiXCIsXG4gICAgLy8gXCJhc3RjLTh4NS11bm9ybVwiLFxuICAgIC8vIFwiYXN0Yy04eDUtdW5vcm0tc3JnYlwiLFxuICAgIC8vIFwiYXN0Yy04eDYtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtOHg2LXVub3JtLXNyZ2JcIixcbiAgICAvLyBcImFzdGMtOHg4LXVub3JtXCIsXG4gICAgLy8gXCJhc3RjLTh4OC11bm9ybS1zcmdiXCIsXG4gICAgLy8gXCJhc3RjLTEweDUtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtMTB4NS11bm9ybS1zcmdiXCIsXG4gICAgLy8gXCJhc3RjLTEweDYtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtMTB4Ni11bm9ybS1zcmdiXCIsXG4gICAgLy8gXCJhc3RjLTEweDgtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtMTB4OC11bm9ybS1zcmdiXCIsXG4gICAgLy8gXCJhc3RjLTEweDEwLXVub3JtXCIsXG4gICAgLy8gXCJhc3RjLTEweDEwLXVub3JtLXNyZ2JcIixcbiAgICAvLyBcImFzdGMtMTJ4MTAtdW5vcm1cIixcbiAgICAvLyBcImFzdGMtMTJ4MTAtdW5vcm0tc3JnYlwiLFxuICAgIC8vIFwiYXN0Yy0xMngxMi11bm9ybVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFRleHR1cmVGb3JtYXRUb1NpemU6IFBhcnRpYWw8UmVjb3JkPEdQVVRleHR1cmVGb3JtYXQsIG51bWJlcj4+ID0ge1xuICAgIC8vIDgtYml0IGZvcm1hdHNcbiAgICByOHVub3JtOiAxLFxuICAgIHI4c25vcm06IDEsXG4gICAgcjh1aW50OiAxLFxuICAgIHI4c2ludDogMSxcbiAgICAvLyAxNi1iaXQgZm9ybWF0c1xuICAgIHIxNnVpbnQ6IDIsXG4gICAgcjE2c2ludDogMixcbiAgICByMTZmbG9hdDogMixcbiAgICByZzh1bm9ybTogMixcbiAgICByZzhzbm9ybTogMixcbiAgICByZzh1aW50OiAyLFxuICAgIHJnOHNpbnQ6IDIsXG4gICAgLy8gMzItYml0IGZvcm1hdHNcbiAgICByMzJ1aW50OiA0LFxuICAgIHIzMnNpbnQ6IDQsXG4gICAgcjMyZmxvYXQ6IDQsXG4gICAgcmcxNnVpbnQ6IDQsXG4gICAgcmcxNnNpbnQ6IDQsXG4gICAgcmcxNmZsb2F0OiA0LFxuICAgIHJnYmE4dW5vcm06IDQsXG4gICAgJ3JnYmE4dW5vcm0tc3JnYic6IDQsXG4gICAgcmdiYThzbm9ybTogNCxcbiAgICByZ2JhOHVpbnQ6IDQsXG4gICAgcmdiYThzaW50OiA0LFxuICAgIGJncmE4dW5vcm06IDQsXG4gICAgJ2JncmE4dW5vcm0tc3JnYic6IDQsXG4gICAgLy8gUGFja2VkIDMyLWJpdCBmb3JtYXRzXG4gICAgcmdiOWU1dWZsb2F0OiA0LFxuICAgIHJnYjEwYTJ1aW50OiA0LFxuICAgIHJnYjEwYTJ1bm9ybTogNCxcbiAgICByZzExYjEwdWZsb2F0OiA0LFxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXG4gICAgcmczMnVpbnQ6IDgsXG4gICAgcmczMnNpbnQ6IDgsXG4gICAgcmczMmZsb2F0OiA4LFxuICAgIHJnYmExNnVpbnQ6IDgsXG4gICAgcmdiYTE2c2ludDogOCxcbiAgICByZ2JhMTZmbG9hdDogOCxcbiAgICAvLyAxMjgtYml0IGZvcm1hdHNcbiAgICByZ2JhMzJ1aW50OiAxNixcbiAgICByZ2JhMzJzaW50OiAxNixcbiAgICByZ2JhMzJmbG9hdDogMTYsXG59O1xuXG5leHBvcnQgY29uc3QgVGV4dHVyZUZvcm1hdFRvQ2hhbm5lbFNpemU6IFBhcnRpYWw8UmVjb3JkPEdQVVRleHR1cmVGb3JtYXQsIG51bWJlcj4+ID0ge1xuICAgIC8vIDgtYml0IGZvcm1hdHNcbiAgICByOHVub3JtOiAxLFxuICAgIHI4c25vcm06IDEsXG4gICAgcjh1aW50OiAxLFxuICAgIHI4c2ludDogMSxcbiAgICAvLyAxNi1iaXQgZm9ybWF0c1xuICAgIHIxNnVpbnQ6IDIsXG4gICAgcjE2c2ludDogMixcbiAgICByMTZmbG9hdDogMixcbiAgICByZzh1bm9ybTogMSxcbiAgICByZzhzbm9ybTogMSxcbiAgICByZzh1aW50OiAxLFxuICAgIHJnOHNpbnQ6IDEsXG4gICAgLy8gMzItYml0IGZvcm1hdHNcbiAgICByMzJ1aW50OiA0LFxuICAgIHIzMnNpbnQ6IDQsXG4gICAgcjMyZmxvYXQ6IDQsXG4gICAgcmcxNnVpbnQ6IDIsXG4gICAgcmcxNnNpbnQ6IDIsXG4gICAgcmcxNmZsb2F0OiAyLFxuICAgIHJnYmE4dW5vcm06IDEsXG4gICAgJ3JnYmE4dW5vcm0tc3JnYic6IDEsXG4gICAgcmdiYThzbm9ybTogMSxcbiAgICByZ2JhOHVpbnQ6IDEsXG4gICAgcmdiYThzaW50OiAxLFxuICAgIGJncmE4dW5vcm06IDEsXG4gICAgJ2JncmE4dW5vcm0tc3JnYic6IDEsXG4gICAgLy8gUGFja2VkIDMyLWJpdCBmb3JtYXRzXG4gICAgcmdiOWU1dWZsb2F0OiA0LFxuICAgIHJnYjEwYTJ1aW50OiA0LFxuICAgIHJnYjEwYTJ1bm9ybTogNCxcbiAgICByZzExYjEwdWZsb2F0OiA0LFxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXG4gICAgcmczMnVpbnQ6IDQsXG4gICAgcmczMnNpbnQ6IDQsXG4gICAgcmczMmZsb2F0OiA0LFxuICAgIHJnYmExNnVpbnQ6IDIsXG4gICAgcmdiYTE2c2ludDogMixcbiAgICByZ2JhMTZmbG9hdDogMixcbiAgICAvLyAxMjgtYml0IGZvcm1hdHNcbiAgICByZ2JhMzJ1aW50OiA0LFxuICAgIHJnYmEzMnNpbnQ6IDQsXG4gICAgcmdiYTMyZmxvYXQ6IDQsXG59O1xuXG5leHBvcnQgY29uc3QgV2ViR1BVVG9Wa0Zvcm1hdCA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhWa0Zvcm1hdFRvV2ViR1BVKS5tYXAoKFt2aywgd2dwdV0pID0+IFt3Z3B1LCBwYXJzZUludCh2aywgMTApXSksXG4pIGFzIFJlY29yZDxHUFVUZXh0dXJlRm9ybWF0LCBudW1iZXI+O1xuXG5leHBvcnQgY29uc3QgdGV4dHVyZVR5cGVUb0RpbWVuc2lvbjogUmVjb3JkPHN0cmluZywgR1BVVGV4dHVyZVZpZXdEaW1lbnNpb24+ID0ge1xuICAgIHRleHR1cmVfY3ViZTogJ2N1YmUnLFxuICAgIHRleHR1cmVfM2Q6ICczZCcsXG4gICAgdGV4dHVyZV8yZDogJzJkJyxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/rendering/constants.ts\n");

/***/ }),

/***/ "./src/samples/cubemap-blur/cubemap-blur-sample.ts":
/*!*********************************************************!*\
  !*** ./src/samples/cubemap-blur/cubemap-blur-sample.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js */ \"./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js\");\n/* harmony import */ var native_file_system_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! native-file-system-adapter */ \"./node_modules/.pnpm/native-file-system-adapter@3.0.1/node_modules/native-file-system-adapter/src/es6.js\");\n/* harmony import */ var public_environment_maps_shoreline_ktx2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! public/environment-maps/shoreline.ktx2 */ \"./public/environment-maps/shoreline.ktx2\");\n/* harmony import */ var public_environment_maps_papermill_ktx2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! public/environment-maps/papermill.ktx2 */ \"./public/environment-maps/papermill.ktx2\");\n/* harmony import */ var public_environment_maps_leland_market_ktx2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! public/environment-maps/leland-market.ktx2 */ \"./public/environment-maps/leland-market.ktx2\");\n/* harmony import */ var _property_listener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../property-listener */ \"./src/samples/property-listener.ts\");\n/* harmony import */ var _utils_data_copy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/data-copy */ \"./src/utils/data-copy.ts\");\n/* harmony import */ var _cubemap_guassian_pyramid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cubemap-guassian-pyramid */ \"./src/samples/cubemap-blur/cubemap-guassian-pyramid.ts\");\n/* harmony import */ var _utils_general__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/general */ \"./src/utils/general.ts\");\n/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ \"./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js\");\n\n__webpack_require__.$Refresh$.runtime = /*#__PURE__*/ (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__, 2)));\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _CubemapBlurModel_settings;\n\n\n\n\n\n\n\n\nvar BlurState;\n(function (BlurState) {\n    BlurState[BlurState[\"IDLE\"] = 0] = \"IDLE\";\n    BlurState[BlurState[\"BLUR\"] = 1] = \"BLUR\";\n    BlurState[BlurState[\"WAIT\"] = 2] = \"WAIT\";\n})(BlurState || (BlurState = {}));\nclass CubemapBlurModel {\n    constructor(device, skyboxTarget, target) {\n        this.device = device;\n        this.skyboxTarget = skyboxTarget;\n        this.colorAttachment = {\n            clearValue: { r: 0, g: 0, b: 0, a: 1 },\n            loadOp: 'clear',\n            storeOp: 'store',\n            view: undefined,\n        };\n        this.passDescriptor = { colorAttachments: [this.colorAttachment] };\n        this.state = BlurState.IDLE;\n        _CubemapBlurModel_settings.set(this, (0,_property_listener__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n            nearestSample: {\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$type]: 'checkbox',\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$callback]: (val) => {\n                    this.skyboxTarget.useNearestSample = val;\n                },\n                value: this.skyboxTarget.useNearestSample,\n                description: 'Disables linear sampling in the viewer.',\n            },\n            mipLevel: {\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$type]: 'slider',\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$callback]: (value) => { this.skyboxTarget.mipLevel = value; },\n                value: 0,\n                min: 0,\n                max: 1,\n                step: 0.1,\n                description: 'The blur level to display in the viewer.',\n            },\n            filterDistance: {\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$type]: 'slider',\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$callback]: this.reblur.bind(this),\n                value: 2,\n                max: 64,\n                min: 0,\n                step: 0.1,\n                description: 'The number of pixels to blur from.',\n            },\n            skybox: {\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$type]: 'file',\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$callback]: (val) => __awaiter(this, void 0, void 0, function* () { return this.setSkybox(yield val); }),\n                accept: '.ktx2',\n                initialSelection: 'papermill',\n                initialValues: (0,_utils_general__WEBPACK_IMPORTED_MODULE_8__.mapValues)({ papermill: public_environment_maps_papermill_ktx2__WEBPACK_IMPORTED_MODULE_3__, shoreline: public_environment_maps_shoreline_ktx2__WEBPACK_IMPORTED_MODULE_2__, market: public_environment_maps_leland_market_ktx2__WEBPACK_IMPORTED_MODULE_4__ }, this.processSkybox.bind(this)),\n                process: this.processSkybox.bind(this),\n            },\n            'Download Result': {\n                [_property_listener__WEBPACK_IMPORTED_MODULE_5__.ListenerSyms.$type]: 'button',\n                onClick: this.saveFile.bind(this),\n            },\n        }));\n        this.settings = __classPrivateFieldGet(this, _CubemapBlurModel_settings, \"f\").publicSettings;\n        this.depthTexture = device.createTexture({\n            dimension: '2d',\n            format: 'depth32float',\n            size: { width: 1, height: 1 },\n            usage: GPUTextureUsage.RENDER_ATTACHMENT\n                | GPUTextureUsage.TEXTURE_BINDING,\n        });\n        this.depthTextureView = this.depthTexture.createView();\n        this.colorAttachment.view = target.view;\n        const encoder = device.createCommandEncoder({ label: 'cubemap blur dummy depth encoder' });\n        const pass = encoder.beginRenderPass({\n            colorAttachments: [],\n            depthStencilAttachment: {\n                depthClearValue: 1,\n                depthLoadOp: 'clear',\n                depthStoreOp: 'store',\n                view: this.depthTextureView,\n            },\n        });\n        pass.end();\n        this.device.queue.submit([encoder.finish()]);\n    }\n    render(encoder) {\n        return encoder.beginRenderPass(this.passDescriptor);\n    }\n    setTarget(view) {\n        this.colorAttachment.view = view.view;\n    }\n    processSkybox(file) {\n        return (0,_utils_data_copy__WEBPACK_IMPORTED_MODULE_6__.copyKTX)(file, this.device, {\n            mipLevelCount: 'max',\n            textureUsage: GPUTextureUsage.STORAGE_BINDING | GPUTextureUsage.COPY_SRC,\n            validate: true,\n        });\n    }\n    setSkybox(resource) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.skybox = resource instanceof GPUTexture\n                ? resource\n                : yield this.processSkybox(resource);\n            __classPrivateFieldGet(this, _CubemapBlurModel_settings, \"f\").privateSettings.mipLevel.max = this.skybox.mipLevelCount - 1;\n            __classPrivateFieldGet(this, _CubemapBlurModel_settings, \"f\").privateSettings.mipLevel.value = 1;\n            this.skyboxTarget.mipLevel = 1;\n            this.reblur();\n        });\n    }\n    resolve() {\n        this.refresh();\n        const lastState = this.state;\n        this.state = BlurState.IDLE;\n        if (lastState === BlurState.WAIT)\n            this.reblur();\n    }\n    reblur() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.skybox == null || this.state === BlurState.WAIT)\n                return;\n            if (this.state === BlurState.BLUR) {\n                this.state = BlurState.WAIT;\n                return;\n            }\n            this.state = BlurState.BLUR;\n            yield (0,_cubemap_guassian_pyramid__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this.device, this.skybox, {\n                inPlace: true,\n                steps: this.settings.filterDistance.value,\n                delayWork: requestAnimationFrame,\n            });\n            this.resolve();\n        });\n    }\n    refresh() {\n        if (this.skybox == null)\n            return;\n        this.skyboxTarget.skyTexture = this.skybox.createView({ dimension: 'cube' });\n    }\n    saveFile() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.skybox == null)\n                return;\n            try {\n                const proms = Promise.all([\n                    (0,_utils_data_copy__WEBPACK_IMPORTED_MODULE_6__.textureToKTX)(this.device, this.skybox, true),\n                    (0,native_file_system_adapter__WEBPACK_IMPORTED_MODULE_1__.showSaveFilePicker)({\n                        types: [{ accept: { 'image/ktx2': ['.ktx2'] } }],\n                        suggestedName: 'blured-skybox.ktx2',\n                    }).then((handle) => handle.createWritable({ keepExistingData: false })),\n                ]);\n                const [ktx2, stream] = yield proms;\n                yield new Blob([ktx2], { type: 'image/ktx2' }).stream().pipeTo(stream);\n            }\n            catch (e) {\n                console.warn(e);\n            }\n        });\n    }\n}\n_CubemapBlurModel_settings = new WeakMap();\nCubemapBlurModel.title = '';\nCubemapBlurModel.description = '';\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CubemapBlurModel);\n\n\nconst $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;\nconst $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(\n\t$ReactRefreshModuleId$\n);\n\nfunction $ReactRefreshModuleRuntime$(exports) {\n\tif (false) {}\n}\n\nif (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {\n\t$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);\n} else {\n\t$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2FtcGxlcy9jdWJlbWFwLWJsdXIvY3ViZW1hcC1ibHVyLXNhbXBsZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0U7QUFFRDtBQUNBO0FBQ0M7QUFHTTtBQUVSO0FBQ0U7QUFDaEI7QUFFaEQsSUFBSyxTQUE4QjtBQUFuQyxXQUFLLFNBQVM7SUFBRyx5Q0FBSTtJQUFFLHlDQUFJO0lBQUUseUNBQUk7QUFBQyxDQUFDLEVBQTlCLFNBQVMsS0FBVCxTQUFTLFFBQXFCO0FBRW5DLE1BQXFCLGdCQUFnQjtJQWtFakMsWUFDcUIsTUFBaUIsRUFDakIsWUFBMEIsRUFDM0MsTUFBZ0I7UUFGQyxXQUFNLEdBQU4sTUFBTSxDQUFXO1FBQ2pCLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBaEUvQyxvQkFBZSxHQUFpQztZQUM1QyxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3RDLE1BQU0sRUFBRSxPQUFPO1lBQ2YsT0FBTyxFQUFFLE9BQU87WUFDaEIsSUFBSSxFQUFFLFNBQVU7U0FDbkIsQ0FBQztRQUVGLG1CQUFjLEdBQTRCLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQztRQU12RixVQUFLLEdBQWMsU0FBUyxDQUFDLElBQUksQ0FBQztRQUV6QixxQ0FBWSw4REFBZ0IsQ0FBQztZQUNsQyxhQUFhLEVBQUU7Z0JBQ1gsQ0FBQyw0REFBWSxDQUFDLEtBQUssQ0FBQyxFQUFFLFVBQW1CO2dCQUN6QyxDQUFDLDREQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxHQUFZLEVBQUUsRUFBRTtvQkFDdkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsR0FBRyxHQUFHLENBQUM7aUJBQzVDO2dCQUNELEtBQUssRUFBRSxJQUFJLENBQUMsWUFB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QUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQztvQkFDNUMsOEVBQWtCLENBQUM7d0JBQ2YsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUM7d0JBQ2hELGFBQWEsRUFBRSxvQkFBb0I7cUJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO2lCQUMxRSxDQUFDLENBQUM7Z0JBRUgsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxNQUFNLEtBQUssQ0FBQztnQkFDbkMsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzFFO1lBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztnQkFDVCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ25COztLQUNKOzs7QUExS00sc0JBQUssR0FBRyxFQUFFLENBQUM7QUFDWCw0QkFBVyxHQUFHLEVBQUUsQ0FBQztpRUFGUCxnQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJncHUtYmFzaWMvLi9zcmMvc2FtcGxlcy9jdWJlbWFwLWJsdXIvY3ViZW1hcC1ibHVyLXNhbXBsZS50cz80ZTI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNob3dTYXZlRmlsZVBpY2tlciB9IGZyb20gJ25hdGl2ZS1maWxlLXN5c3RlbS1hZGFwdGVyJztcblxuaW1wb3J0IHNob3JlbGluZSBmcm9tICdwdWJsaWMvZW52aXJvbm1lbnQtbWFwcy9zaG9yZWxpbmUua3R4Mic7XG5pbXBvcnQgcGFwZXJtaWxsIGZyb20gJ3B1YmxpYy9lbnZpcm9ubWVudC1tYXBzL3BhcGVybWlsbC5rdHgyJztcbmltcG9ydCBtYXJrZXQgZnJvbSAncHVibGljL2Vudmlyb25tZW50LW1hcHMvbGVsYW5kLW1hcmtldC5rdHgyJztcblxuaW1wb3J0IHsgRnVsbFJlbmRlck1vZGVsIH0gZnJvbSAnLi4vc2FtcGxlLXNwZWMnO1xuaW1wb3J0IHByb3BlcnR5TGlzdGVuZXIsIHsgTGlzdGVuZXJTeW1zIH0gZnJvbSAnLi4vcHJvcGVydHktbGlzdGVuZXInO1xuaW1wb3J0IHR5cGUgeyBWaWV3SW5mbywgU2t5Ym94VGFyZ2V0IH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlci1tb2RlbCc7XG5pbXBvcnQgeyBjb3B5S1RYLCB0ZXh0dXJlVG9LVFggfSBmcm9tICcuLi8uLi91dGlscy9kYXRhLWNvcHknO1xuaW1wb3J0IGN1YmVtYXBHdWFzc2lhblB5cmFtaWQgZnJvbSAnLi9jdWJlbWFwLWd1YXNzaWFuLXB5cmFtaWQnO1xuaW1wb3J0IHsgbWFwVmFsdWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZ2VuZXJhbCc7XG5cbmVudW0gQmx1clN0YXRlIHsgSURMRSwgQkxVUiwgV0FJVCB9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVtYXBCbHVyTW9kZWwgaW1wbGVtZW50cyBGdWxsUmVuZGVyTW9kZWwge1xuICAgIHN0YXRpYyB0aXRsZSA9ICcnO1xuICAgIHN0YXRpYyBkZXNjcmlwdGlvbiA9ICcnO1xuXG4gICAgY29sb3JBdHRhY2htZW50OiBHUFVSZW5kZXJQYXNzQ29sb3JBdHRhY2htZW50ID0ge1xuICAgICAgICBjbGVhclZhbHVlOiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDEgfSxcbiAgICAgICAgbG9hZE9wOiAnY2xlYXInLFxuICAgICAgICBzdG9yZU9wOiAnc3RvcmUnLFxuICAgICAgICB2aWV3OiB1bmRlZmluZWQhLFxuICAgIH07XG5cbiAgICBwYXNzRGVzY3JpcHRvcjogR1BVUmVuZGVyUGFzc0Rlc2NyaXB0b3IgPSB7IGNvbG9yQXR0YWNobWVudHM6IFt0aGlzLmNvbG9yQXR0YWNobWVudF0gfTtcblxuICAgIGRlcHRoVGV4dHVyZTogR1BVVGV4dHVyZTtcbiAgICBkZXB0aFRleHR1cmVWaWV3OiBHUFVUZXh0dXJlVmlldztcblxuICAgIHNreWJveD86IEdQVVRleHR1cmU7XG4gICAgc3RhdGU6IEJsdXJTdGF0ZSA9IEJsdXJTdGF0ZS5JRExFO1xuXG4gICAgcmVhZG9ubHkgI3NldHRpbmdzID0gcHJvcGVydHlMaXN0ZW5lcih7XG4gICAgICAgIG5lYXJlc3RTYW1wbGU6IHtcbiAgICAgICAgICAgIFtMaXN0ZW5lclN5bXMuJHR5cGVdOiAnY2hlY2tib3gnIGFzIGNvbnN0LFxuICAgICAgICAgICAgW0xpc3RlbmVyU3ltcy4kY2FsbGJhY2tdOiAodmFsOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5za3lib3hUYXJnZXQudXNlTmVhcmVzdFNhbXBsZSA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5za3lib3hUYXJnZXQudXNlTmVhcmVzdFNhbXBsZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGlzYWJsZXMgbGluZWFyIHNhbXBsaW5nIGluIHRoZSB2aWV3ZXIuJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWlwTGV2ZWw6IHtcbiAgICAgICAgICAgIFtMaXN0ZW5lclN5bXMuJHR5cGVdOiAnc2xpZGVyJyBhcyBjb25zdCxcbiAgICAgICAgICAgIFtMaXN0ZW5lclN5bXMuJGNhbGxiYWNrXTogKHZhbHVlOiBudW1iZXIpID0+IHsgdGhpcy5za3lib3hUYXJnZXQubWlwTGV2ZWwgPSB2YWx1ZTsgfSxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgc3RlcDogMC4xLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgYmx1ciBsZXZlbCB0byBkaXNwbGF5IGluIHRoZSB2aWV3ZXIuJyxcbiAgICAgICAgfSxcbiAgICAgICAgZmlsdGVyRGlzdGFuY2U6IHtcbiAgICAgICAgICAgIFtMaXN0ZW5lclN5bXMuJHR5cGVdOiAnc2xpZGVyJyBhcyBjb25zdCxcbiAgICAgICAgICAgIFtMaXN0ZW5lclN5bXMuJGNhbGxiYWNrXTogdGhpcy5yZWJsdXIuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHZhbHVlOiAyLFxuICAgICAgICAgICAgbWF4OiA2NCxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIHN0ZXA6IDAuMSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBwaXhlbHMgdG8gYmx1ciBmcm9tLicsXG4gICAgICAgIH0sXG4gICAgICAgIHNreWJveDoge1xuICAgICAgICAgICAgW0xpc3RlbmVyU3ltcy4kdHlwZV06ICdmaWxlJyBhcyBjb25zdCxcbiAgICAgICAgICAgIFtMaXN0ZW5lclN5bXMuJGNhbGxiYWNrXTpcbiAgICAgICAgICAgICAgICBhc3luYyAodmFsOiBQcm9taXNlPEdQVVRleHR1cmU+KSA9PiB0aGlzLnNldFNreWJveChhd2FpdCB2YWwpLFxuICAgICAgICAgICAgYWNjZXB0OiAnLmt0eDInLFxuICAgICAgICAgICAgaW5pdGlhbFNlbGVjdGlvbjogJ3BhcGVybWlsbCcsXG4gICAgICAgICAgICBpbml0aWFsVmFsdWVzOiBtYXBWYWx1ZXMoXG4gICAgICAgICAgICAgICAgeyBwYXBlcm1pbGwsIHNob3JlbGluZSwgbWFya2V0IH0sXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzU2t5Ym94LmJpbmQodGhpcyksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgcHJvY2VzczogdGhpcy5wcm9jZXNzU2t5Ym94LmJpbmQodGhpcyksXG4gICAgICAgIH0sXG4gICAgICAgICdEb3dubG9hZCBSZXN1bHQnOiB7XG4gICAgICAgICAgICBbTGlzdGVuZXJTeW1zLiR0eXBlXTogJ2J1dHRvbicgYXMgY29uc3QsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNhdmVGaWxlLmJpbmQodGhpcyksXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZWFkb25seSBzZXR0aW5ncyA9IHRoaXMuI3NldHRpbmdzLnB1YmxpY1NldHRpbmdzO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgZGV2aWNlOiBHUFVEZXZpY2UsXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgc2t5Ym94VGFyZ2V0OiBTa3lib3hUYXJnZXQsXG4gICAgICAgIHRhcmdldDogVmlld0luZm8sXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgZGltZW5zaW9uOiAnMmQnLFxuICAgICAgICAgICAgZm9ybWF0OiAnZGVwdGgzMmZsb2F0JyxcbiAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDEsIGhlaWdodDogMSB9LFxuICAgICAgICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVFxuICAgICAgICAgICAgfCBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZVZpZXcgPSB0aGlzLmRlcHRoVGV4dHVyZS5jcmVhdGVWaWV3KCk7XG4gICAgICAgIHRoaXMuY29sb3JBdHRhY2htZW50LnZpZXcgPSB0YXJnZXQudmlldztcblxuICAgICAgICBjb25zdCBlbmNvZGVyID0gZGV2aWNlLmNyZWF0ZUNvbW1hbmRFbmNvZGVyKHsgbGFiZWw6ICdjdWJlbWFwIGJsdXIgZHVtbXkgZGVwdGggZW5jb2RlcicgfSk7XG4gICAgICAgIGNvbnN0IHBhc3MgPSBlbmNvZGVyLmJlZ2luUmVuZGVyUGFzcyh7XG4gICAgICAgICAgICBjb2xvckF0dGFjaG1lbnRzOiBbXSxcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbEF0dGFjaG1lbnQ6IHtcbiAgICAgICAgICAgICAgICBkZXB0aENsZWFyVmFsdWU6IDEsXG4gICAgICAgICAgICAgICAgZGVwdGhMb2FkT3A6ICdjbGVhcicsXG4gICAgICAgICAgICAgICAgZGVwdGhTdG9yZU9wOiAnc3RvcmUnLFxuICAgICAgICAgICAgICAgIHZpZXc6IHRoaXMuZGVwdGhUZXh0dXJlVmlldyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBwYXNzLmVuZCgpO1xuICAgICAgICB0aGlzLmRldmljZS5xdWV1ZS5zdWJtaXQoW2VuY29kZXIuZmluaXNoKCldKTtcbiAgICB9XG5cbiAgICByZW5kZXIoZW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHRoaXMucGFzc0Rlc2NyaXB0b3IpO1xuICAgIH1cblxuICAgIHNldFRhcmdldCh2aWV3OiBWaWV3SW5mbykge1xuICAgICAgICB0aGlzLmNvbG9yQXR0YWNobWVudC52aWV3ID0gdmlldy52aWV3O1xuICAgIH1cblxuICAgIHByb2Nlc3NTa3lib3goZmlsZTogc3RyaW5nIHwgVVJMIHwgRmlsZSB8IEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjb3B5S1RYKGZpbGUsIHRoaXMuZGV2aWNlLCB7XG4gICAgICAgICAgICBtaXBMZXZlbENvdW50OiAnbWF4JyxcbiAgICAgICAgICAgIHRleHR1cmVVc2FnZTogR1BVVGV4dHVyZVVzYWdlLlNUT1JBR0VfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX1NSQyxcbiAgICAgICAgICAgIHZhbGlkYXRlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRTa3lib3gocmVzb3VyY2U6IEdQVVRleHR1cmUgfCBzdHJpbmcgfCBVUkwgfCBGaWxlIHwgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgdGhpcy5za3lib3ggPSByZXNvdXJjZSBpbnN0YW5jZW9mIEdQVVRleHR1cmVcbiAgICAgICAgICAgID8gcmVzb3VyY2VcbiAgICAgICAgICAgIDogYXdhaXQgdGhpcy5wcm9jZXNzU2t5Ym94KHJlc291cmNlKTtcblxuICAgICAgICB0aGlzLiNzZXR0aW5ncy5wcml2YXRlU2V0dGluZ3MubWlwTGV2ZWwubWF4ID0gdGhpcy5za3lib3gubWlwTGV2ZWxDb3VudCAtIDE7XG4gICAgICAgIHRoaXMuI3NldHRpbmdzLnByaXZhdGVTZXR0aW5ncy5taXBMZXZlbC52YWx1ZSA9IDE7XG4gICAgICAgIHRoaXMuc2t5Ym94VGFyZ2V0Lm1pcExldmVsID0gMTtcblxuICAgICAgICB0aGlzLnJlYmx1cigpO1xuICAgIH1cblxuICAgIHJlc29sdmUoKSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB0aGlzLnN0YXRlID0gQmx1clN0YXRlLklETEU7XG4gICAgICAgIGlmIChsYXN0U3RhdGUgPT09IEJsdXJTdGF0ZS5XQUlUKSB0aGlzLnJlYmx1cigpO1xuICAgIH1cblxuICAgIGFzeW5jIHJlYmx1cigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2t5Ym94ID09IG51bGwgfHwgdGhpcy5zdGF0ZSA9PT0gQmx1clN0YXRlLldBSVQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQmx1clN0YXRlLkJMVVIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBCbHVyU3RhdGUuV0FJVDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBCbHVyU3RhdGUuQkxVUjtcblxuICAgICAgICBhd2FpdCBjdWJlbWFwR3Vhc3NpYW5QeXJhbWlkKHRoaXMuZGV2aWNlLCB0aGlzLnNreWJveCwge1xuICAgICAgICAgICAgaW5QbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHN0ZXBzOiB0aGlzLnNldHRpbmdzLmZpbHRlckRpc3RhbmNlLnZhbHVlLFxuICAgICAgICAgICAgZGVsYXlXb3JrOiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGlmICh0aGlzLnNreWJveCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2t5Ym94VGFyZ2V0LnNreVRleHR1cmUgPSB0aGlzLnNreWJveC5jcmVhdGVWaWV3KHsgZGltZW5zaW9uOiAnY3ViZScgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZUZpbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNreWJveCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm9tcyA9IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlVG9LVFgodGhpcy5kZXZpY2UsIHRoaXMuc2t5Ym94LCB0cnVlKSxcbiAgICAgICAgICAgICAgICBzaG93U2F2ZUZpbGVQaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlczogW3sgYWNjZXB0OiB7ICdpbWFnZS9rdHgyJzogWycua3R4MiddIH0gfV0sXG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE5hbWU6ICdibHVyZWQtc2t5Ym94Lmt0eDInLFxuICAgICAgICAgICAgICAgIH0pLnRoZW4oKGhhbmRsZSkgPT4gaGFuZGxlLmNyZWF0ZVdyaXRhYmxlKHsga2VlcEV4aXN0aW5nRGF0YTogZmFsc2UgfSkpLFxuICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IFtrdHgyLCBzdHJlYW1dID0gYXdhaXQgcHJvbXM7XG4gICAgICAgICAgICBhd2FpdCBuZXcgQmxvYihba3R4Ml0sIHsgdHlwZTogJ2ltYWdlL2t0eDInIH0pLnN0cmVhbSgpLnBpcGVUbyhzdHJlYW0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/samples/cubemap-blur/cubemap-blur-sample.ts\n");

/***/ }),

/***/ "./src/samples/cubemap-blur/cubemap-guassian-pyramid.ts":
/*!**************************************************************!*\
  !*** ./src/samples/cubemap-blur/cubemap-guassian-pyramid.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ cubemapGuassianPyramid)\n/* harmony export */ });\n/* harmony import */ var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js */ \"./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js\");\n/* harmony import */ var _utils_data_copy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/data-copy */ \"./src/utils/data-copy.ts\");\n/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ \"./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js\");\n\n__webpack_require__.$Refresh$.runtime = /*#__PURE__*/ (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__, 2)));\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nconst defaultOptions = {\n    inPlace: false,\n    minWidth: 8,\n    steps: 4,\n    maxOpsPerPass: 6 * (Math.pow((32 * 256), 2)),\n    delayWork: (fn) => fn(),\n};\nconst cubemapSampling = /* wgsl */ `\n    const INVALID_FACE = 6;\n    const INVALID_IDX = 4294967295u; // max u32\n\n    fn cubeSampleUVF(coord: vec3i, w: u32) -> vec3u {\n        const dfaces = array(\n            //                               I  Up Down Left Right Invalid\n            0, 2, 3, 4, 5, INVALID_FACE, // +X  +Y   -Y   +Z   -Z   \n            1, 2, 3, 5, 4, INVALID_FACE, // -X  +Y   -Y   -Z   +Z \n            2, 5, 4, 1, 0, INVALID_FACE, // +Y  -Z   +Z   -X   +X \n            3, 4, 5, 1, 0, INVALID_FACE, // -Y  +Z   -Z   -X   +X \n            4, 2, 3, 1, 0, INVALID_FACE, // +Z  +Y   -Y   -X   +X \n            5, 2, 3, 0, 1, INVALID_FACE, // -Z  +Y   -Y   +X   -X \n        );\n\n        const dindices = array(\n            0, 1,  2,  3,  4,  0,\n            0, 5,  6,  3,  4,  0,\n            0, 7,  8,  9,  10, 0,\n            0, 11, 12, 13, 14, 0,\n            0, 11, 8,  3,  4,  0,\n            0, 7, 12,  3,  4,  0,\n        );\n\n        const dmats = array(\n            array(// 0\n                vec4(1, 0, 0, 0),   // u = u\n                vec4(0, 1, 0, 0),   // v = v\n            ),\n            array(// 1\n                vec4(0, 1, 1, 0),   // u = v + w\n                vec4(-1, 0, 1, -1), // v = w - u - 1\n            ),\n            array(// 2\n                vec4(0, -1, 2, -1), // u = 2w - v - 1\n                vec4(1, 0, 0, 0),   // v = u\n            ),\n            array(// 3\n                vec4(1, 0, 1, 0),   // u = u + w\n                vec4(0, 1, 0, 0),   // v = v\n            ),\n            array(// 4\n                vec4(1, 0, -1, 0),  // u = u - w\n                vec4(0, 1, 0, 0),   // v = v\n            ),\n            array(// 5\n                vec4(0, -1, 0, -1), // u = -v - 1\n                vec4(1, 0, 0, 0),   // v = u\n            ),\n            array(// 6\n                vec4(0, 1, -1, 0),  // u = v - w\n                vec4(-1, 0, 1, -1), // v = w - u - 1\n            ),\n            array(// 7\n                vec4(-1, 0, 1, -1), // u = w - u - 1\n                vec4(0, -1, 0, -1), // v = -v - 1\n            ),\n            array(// 8\n                vec4(1, 0, 0, 0),   // u = u\n                vec4(0, 1, -1, 0),  // v = v - w\n            ),\n            array(// 9\n                vec4(0, 1, 0, 0),   // u = v\n                vec4(-1, 0, 0, -1), // v = -u - 1\n            ),\n            array(// 10\n                vec4(0, -1, 1, -1), // u = w - v - 1\n                vec4(1, 0, -1, 0),  // v = u - w\n            ),\n            array(// 11\n                vec4(1, 0, 0, 0),   // u = u\n                vec4(0, 1, 1, 0),   // v = v + w\n            ),\n            array(// 12\n                vec4(-1, 0, 1, -1), // u = w - u - 1\n                vec4(0, -1, 2, -1), // v = 2w - v - 1\n            ),\n            array(// 13\n                vec4(0, -1, 1, -1), // u = w - v - 1\n                vec4(1, 0, 1, 0),   // v = u + w\n            ),\n            array(// 14\n                vec4(0, 1, 0, 0),   // u = v\n                vec4(-1, 0, 2, -1), // v = 2w - u - 1\n            ),\n        );\n\n        let iw = i32(w);\n\n        var dir = 0;\n        if (coord.y >= iw * 2 - 1 || coord.y <= -iw || coord.x >= iw * 2 - 1 || coord.x <= -iw) {\n            dir = 5;\n        } else {\n            if (coord.y < 0) {\n                dir = 1;\n            } else if (coord.y >= iw) {\n                dir = 2;\n            }\n            if (coord.x < 0) {\n                dir = select(5, 3, dir == 0);\n            } else if (coord.x >= iw) {\n                dir = select(5, 4, dir == 0);\n            }\n        }\n\n        let idx = coord.z * 6 + dir;\n        let samp = vec4(coord.xy, iw, 1);\n        let dmat = dmats[dindices[idx]];\n        return vec3u(vec3(dot(dmat[0], samp), dot(dmat[1], samp), dfaces[idx]));\n    }\n\n    fn cubeCoordToIdx(coord: vec3u, w: u32) -> u32 {\n        return coord.x + coord.y * w + coord.z * w * w;\n    }\n\n    fn cubeIdxToCoord(idx: u32, w: u32) -> vec3u {\n        let w2 = w * w;\n        let fidx = idx % w2;\n        return vec3u(fidx % w, fidx / w, idx / w2);\n    }\n\n    fn cubeSampleIdx(uvf: vec3i, w: u32) -> u32 {\n        let coord = cubeSampleUVF(uvf, w);\n        return select(cubeCoordToIdx(coord, w), INVALID_IDX, coord.z == INVALID_FACE);\n    }\n`;\nconst mipBlur = (groups, format) => /* wgsl */ `\n    ${cubemapSampling}\n\n    override STEPS: i32 = 4;\n\n    fn to_world_coords(coord: vec3u, size: u32) -> vec3f {\n        let uv = (2.0 / f32(size)) * (vec2f(coord.xy) + 0.5) - 1.0;\n\n        var pos: vec3f;\n        switch (coord.z) {\n            case 0  { pos = vec3(  1.0, -uv.y, -uv.x); }\n            case 1  { pos = vec3( -1.0, -uv.y,  uv.x); }\n            case 2  { pos = vec3( uv.x,   1.0,  uv.y); }\n            case 3  { pos = vec3( uv.x,  -1.0, -uv.y); }\n            case 4  { pos = vec3( uv.x, -uv.y,   1.0); }\n            default { pos = vec3(-uv.x, -uv.y,  -1.0); }\n        }\n\n        return normalize(pos);\n    }\n\n    @group(0) @binding(0) var previousMip: texture_2d_array<f32>;\n    @group(0) @binding(1) var outputTexture: texture_storage_2d_array<${format}, write>;\n\n    // simga[0] resevered for work offset\n    @group(0) @binding(2) var<storage> sigmas : array<f32>;\n    \n    @compute @workgroup_size(${groups}, 1, 1)\n    fn main(@builtin(global_invocation_id) gid: vec3u) {\n        let mipSize = textureDimensions(outputTexture).x;\n\n        let idx = gid.x + u32(sigmas[0]);\n        let faceSize = mipSize * mipSize;\n        let faceIdx = idx % faceSize;\n        let coord = vec3u(faceIdx % mipSize, faceIdx / mipSize, idx / faceSize); \n        if (coord.x >= mipSize || coord.y >= mipSize || coord.z >= 6) { return; }\n\n        let previousSize = textureDimensions(previousMip).x;\n        let baseCoord = vec3i(vec3u(coord.x * 2, coord.y * 2, coord.z));\n        let pos = to_world_coords(vec3u(coord), mipSize);\n\n        let size = arrayLength(&sigmas);\n        let level = size - u32(ceil(log2(f32(previousSize))));\n        let sigma = sigmas[level];\n        let guassian_factor = -0.5 / (sigma * sigma);\n\n        var weight = 0.0;\n        var res = vec3(0.0);\n\n        for (var u = -STEPS; u <= STEPS + 1; u += 1) {\n            for (var v = -STEPS; v <= STEPS + 1; v += 1) {\n                let sampleCoord = cubeSampleUVF(baseCoord + vec3i(u, v, 0), previousSize);\n                if (sampleCoord.z == INVALID_FACE) { continue; }\n\n                let samplePos = to_world_coords(sampleCoord, previousSize);\n                let x = max(0.0, acos(dot(samplePos, pos)));\n                let w = exp(x * x * guassian_factor);\n                let color = textureLoad(previousMip, sampleCoord.xy, sampleCoord.z, 0);\n\n                res += color.rgb * w;\n                weight += w;\n            }\n        }\n\n        textureStore(outputTexture, coord.xy, coord.z, vec4(res / weight, 1));\n    }\n`;\n// the minimum angular distance between any pixel on in cubemap\n// of the given face width and any pixel lying on a perimeter the given\n// pixel steps away\nfunction minStepDistance(steps, width) {\n    // the angular distance\n    // from the uvf: face = 0, u = 0, and v = width - Math.floor(steps / 2) - 1\n    // to the uvf: face = 3, u = 2 * width - baseV - steps - 2, and v = either 0 or 1.\n    // It's likely possible to programitically determine whether the destition pixel\n    // should be v = 0 or v = 1, but checking both works fine.\n    const nextMipWidth = width >> 1;\n    const baseV = nextMipWidth - Math.floor(steps / 4) - 1;\n    const baseVN = (2 / nextMipWidth) * (baseV + 0.5) - 1;\n    const baseUN = (1 / nextMipWidth) - 1;\n    const baseMag2 = 1 + baseVN * baseVN + baseUN * baseUN;\n    const sampU = 2 * width - (baseV * 2) - steps - 2;\n    const sampUN = (2 / width) * (sampU + 0.5) - 1;\n    const samp0VN = (1 / width) - 1;\n    const samp0Mag2 = 1 + sampUN * sampUN + samp0VN * samp0VN;\n    const samp1VN = (3 / width) - 1;\n    const samp1Mag2 = 1 + sampUN * sampUN + samp1VN * samp1VN;\n    const dot0 = (sampUN + baseVN + samp0VN * baseUN) / Math.sqrt(samp0Mag2 * baseMag2);\n    const dot1 = (sampUN + baseVN + samp1VN * baseUN) / Math.sqrt(samp1Mag2 * baseMag2);\n    return Math.min(1 - dot0, 1 - dot1);\n}\nfunction cubemapGuassianPyramid(device, texture, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { inPlace, minWidth, outputTextureLabel, steps, maxOpsPerPass, delayWork, } = options ? Object.assign(Object.assign({}, defaultOptions), options) : defaultOptions;\n        const { width, format } = texture;\n        const mipLevelCount = inPlace\n            ? texture.mipLevelCount\n            : (Math.log2(width) - Math.log2(minWidth) + 1);\n        if (mipLevelCount <= 1)\n            return texture;\n        const groups = Math.min(device.limits.maxComputeWorkgroupSizeX, device.limits.maxComputeInvocationsPerWorkgroup);\n        const maxWorkgroups = device.limits.maxComputeWorkgroupsPerDimension;\n        const shader = device.createShaderModule({\n            label: 'cubemapGuassianPyramid -- shader',\n            code: mipBlur(groups, format),\n        });\n        const bindgroupLayout = device.createBindGroupLayout({\n            label: 'cubemapGuassianPyramid -- bindgroup layout',\n            entries: [\n                {\n                    binding: 0,\n                    texture: { viewDimension: '2d-array' },\n                    visibility: GPUShaderStage.COMPUTE,\n                },\n                {\n                    binding: 1,\n                    storageTexture: {\n                        access: 'write-only',\n                        viewDimension: '2d-array',\n                        format,\n                    },\n                    visibility: GPUShaderStage.COMPUTE,\n                },\n                {\n                    binding: 2,\n                    buffer: { type: 'read-only-storage' },\n                    visibility: GPUShaderStage.COMPUTE,\n                },\n            ],\n        });\n        const pipeline = device.createComputePipeline({\n            label: 'cubemapGuassianPyramid -- pipeline',\n            layout: device.createPipelineLayout({\n                label: 'cubemapGuassianPyramid -- pipeline layout',\n                bindGroupLayouts: [bindgroupLayout],\n            }),\n            compute: {\n                module: shader,\n                entryPoint: 'main',\n                constants: { STEPS: Math.ceil(steps) },\n            },\n        });\n        let gaussianPyramid = texture;\n        if (!inPlace) {\n            const size = { width, height: width, depthOrArrayLayers: 6 };\n            gaussianPyramid = device.createTexture({\n                label: outputTextureLabel,\n                usage: GPUTextureUsage.STORAGE_BINDING\n                    | GPUTextureUsage.TEXTURE_BINDING\n                    | GPUTextureUsage.COPY_SRC\n                    | GPUTextureUsage.COPY_DST,\n                dimension: '2d',\n                format,\n                mipLevelCount,\n                size,\n            });\n            const copyEncoder = device.createCommandEncoder({ label: 'cubemapGuassianPyramid -- copy encoder' });\n            copyEncoder.copyTextureToTexture({ texture, mipLevel: 0 }, { texture: gaussianPyramid, mipLevel: 0 }, size);\n            device.queue.submit([copyEncoder.finish()]);\n            yield device.queue.onSubmittedWorkDone();\n        }\n        const mipViews = [...Array(mipLevelCount).keys()].map((i) => gaussianPyramid.createView({\n            label: `cubemapGuassianPyramid -- mip view ${i}`,\n            dimension: '2d-array',\n            baseMipLevel: i,\n            mipLevelCount: 1,\n        }));\n        const stepCount = 1 + (steps * 2);\n        const maxDispatches = Math.max((maxOpsPerPass / ((Math.pow(stepCount, 2)) * groups)) | 0, 1);\n        const maxLayers = Math.ceil(Math.log2(width));\n        const propertyArray = new Float32Array([0, ...[...(Array(maxLayers).keys())].map((i) => {\n                const w = width >> i;\n                return Math.acos(1 - minStepDistance(Math.min(w, steps), w)) / 3;\n            })]);\n        const propertyBuffer = (0,_utils_data_copy__WEBPACK_IMPORTED_MODULE_1__.createAndCopyBuffer)(propertyArray, GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST, device);\n        yield new Promise((resolve) => {\n            let i = 0;\n            let totalDispatches = 0;\n            let dispatchCount = 0;\n            let batchCount = 0;\n            let batchDispatches = 0;\n            let bindgroup;\n            function runPass() {\n                return __awaiter(this, void 0, void 0, function* () {\n                    if (dispatchCount >= totalDispatches) {\n                        i += 1;\n                        dispatchCount = 0;\n                        batchCount = 0;\n                        if (i >= mipLevelCount) {\n                            resolve();\n                            return;\n                        }\n                        totalDispatches = Math.max(Math.ceil((6 * (Math.pow((width >> i), 2))) / groups), 1.0);\n                        bindgroup = device.createBindGroup({\n                            layout: bindgroupLayout,\n                            entries: [\n                                {\n                                    binding: 0,\n                                    resource: mipViews[i - 1],\n                                },\n                                {\n                                    binding: 1,\n                                    resource: mipViews[i],\n                                },\n                                {\n                                    binding: 2,\n                                    resource: { buffer: propertyBuffer },\n                                },\n                            ],\n                        });\n                    }\n                    propertyArray[0] = dispatchCount * groups;\n                    device.queue.writeBuffer(propertyBuffer, 0, propertyArray, 0, 1);\n                    const passDispatches = Math.min(totalDispatches - dispatchCount, maxDispatches - batchDispatches, maxWorkgroups);\n                    const passEncoder = device.createCommandEncoder({ label: `cubemapGuassianPyramid -- mip ${i}, pass ${batchCount}` });\n                    const pass = passEncoder.beginComputePass({ label: `cubemapGuassianPyramid -- mip ${i}, pass ${batchCount}` });\n                    pass.setPipeline(pipeline);\n                    pass.setBindGroup(0, bindgroup);\n                    pass.dispatchWorkgroups(passDispatches, 1, 1);\n                    pass.end();\n                    device.queue.submit([passEncoder.finish()]);\n                    dispatchCount += passDispatches;\n                    batchDispatches += passDispatches;\n                    batchCount += 1;\n                    if (batchDispatches >= maxDispatches) {\n                        batchDispatches = 0;\n                        yield device.queue.onSubmittedWorkDone();\n                        delayWork(runPass);\n                    }\n                    else {\n                        runPass();\n                    }\n                });\n            }\n            runPass();\n        });\n        return gaussianPyramid;\n    });\n}\n\n\nconst $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;\nconst $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(\n\t$ReactRefreshModuleId$\n);\n\nfunction $ReactRefreshModuleRuntime$(exports) {\n\tif (false) {}\n}\n\nif (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {\n\t$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);\n} else {\n\t$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2FtcGxlcy9jdWJlbWFwLWJsdXIvY3ViZW1hcC1ndWFzc2lhbi1weXJhbWlkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTREO0FBVzVELE1BQU0sY0FBYyxHQUEyQjtJQUMzQyxPQUFPLEVBQUUsS0FBSztJQUNkLFFBQVEsRUFBRSxDQUFDO0lBQ1gsS0FBSyxFQUFFLENBQUM7SUFDUixhQUFhLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUksQ0FBQyxFQUFDO0lBQ3BDLFNBQVMsRUFBRSxDQUFDLEVBQWMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO0NBQ3RDLENBQUM7QUFFRixNQUFNLGVBQWUsR0FBRyxVQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQTZIakMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLENBQUMsTUFBYyxFQUFFLE1BQXdCLEVBQUUsRUFBRSxDQUFDLFVBQVU7TUFDbEUsZUFBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3dFQXFCbUQsTUFBTTs7Ozs7K0JBSy9DLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXVDcEMsQ0FBQztBQUVGLCtEQUErRDtBQUMvRCx1RUFBdUU7QUFDdkUsbUJBQW1CO0FBQ25CLFNBQVMsZUFBZSxDQUFDLEtBQWEsRUFBRSxLQUFhO0lBQ2pELHVCQUF1QjtJQUN2QiwyRUFBMkU7SUFDM0Usa0ZBQWtGO0lBRWxGLGdGQUFnRjtJQUNoRiwwREFBMEQ7SUFFMUQsTUFBTSxZQUFZLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNoQyxNQUFNLEtBQUssR0FBRyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0RCxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUV2RCxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDbEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNoQyxNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzFELE1BQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNoQyxNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBRTFELE1BQU0sSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLENBQUM7SUFDcEYsTUFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxD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YXAtYmx1ci9jdWJlbWFwLWd1YXNzaWFuLXB5cmFtaWQudHM/ZDc4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBbmRDb3B5QnVmZmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGF0YS1jb3B5JztcblxuZXhwb3J0IHR5cGUgR2F1c3NpYW5QeXJhbWlkT3B0aW9ucyA9IHtcbiAgICBpblBsYWNlOiBib29sZWFuLFxuICAgIG1pbldpZHRoOiBudW1iZXIsXG4gICAgc3RlcHM6IG51bWJlcixcbiAgICBtYXhPcHNQZXJQYXNzOiBudW1iZXIsXG4gICAgZGVsYXlXb3JrOiAoZm46ICgpID0+IHZvaWQpID0+IHZvaWQsXG4gICAgb3V0cHV0VGV4dHVyZUxhYmVsPzogc3RyaW5nLFxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IEdhdXNzaWFuUHlyYW1pZE9wdGlvbnMgPSB7XG4gICAgaW5QbGFjZTogZmFsc2UsXG4gICAgbWluV2lkdGg6IDgsXG4gICAgc3RlcHM6IDQsXG4gICAgbWF4T3BzUGVyUGFzczogNiAqICgoMzIgKiAyNTYpICoqIDIpLFxuICAgIGRlbGF5V29yazogKGZuOiAoKSA9PiB2b2lkKSA9PiBmbigpLFxufTtcblxuY29uc3QgY3ViZW1hcFNhbXBsaW5nID0gLyogd2dzbCAqL2BcbiAgICBjb25zdCBJTlZBTElEX0ZBQ0UgPSA2O1xuICAgIGNvbnN0IElOVkFMSURfSURYID0gNDI5NDk2NzI5NXU7IC8vIG1heCB1MzJcblxuICAgIGZuIGN1YmVTYW1wbGVVVkYoY29vcmQ6IHZlYzNpLCB3OiB1MzIpIC0+IHZlYzN1IHtcbiAgICAgICAgY29uc3QgZGZhY2VzID0gYXJyYXkoXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJICBVcCBEb3duIExlZnQgUmlnaHQgSW52YWxpZFxuICAgICAgICAgICAgMCwgMiwgMywgNCwgNSwgSU5WQUxJRF9GQUNFLCAvLyArWCAgK1kgICAtWSAgICtaICAgLVogICBcbiAgICAgICAgICAgIDEsIDIsIDMsIDUsIDQsIElOVkFMSURfRkFDRSwgLy8gLVggICtZICAgLVkgICAtWiAgICtaIFxuICAgICAgICAgICAgMiwgNSwgNCwgMSwgMCwgSU5WQUxJRF9GQUNFLCAvLyArWSAgLVogICArWiAgIC1YICAgK1ggXG4gICAgICAgICAgICAzLCA0LCA1LCAxLCAwLCBJTlZBTElEX0ZBQ0UsIC8vIC1ZICArWiAgIC1aICAgLVggICArWCBcbiAgICAgICAgICAgIDQsIDIsIDMsIDEsIDAsIElOVkFMSURfRkFDRSwgLy8gK1ogICtZICAgLVkgICAtWCAgICtYIFxuICAgICAgICAgICAgNSwgMiwgMywgMCwgMSwgSU5WQUxJRF9GQUNFLCAvLyAtWiAgK1kgICAtWSAgICtYICAgLVggXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgZGluZGljZXMgPSBhcnJheShcbiAgICAgICAgICAgIDAsIDEsICAyLCAgMywgIDQsICAwLFxuICAgICAgICAgICAgMCwgNSwgIDYsICAzLCAgNCwgIDAsXG4gICAgICAgICAgICAwLCA3LCAgOCwgIDksICAxMCwgMCxcbiAgICAgICAgICAgIDAsIDExLCAxMiwgMTMsIDE0LCAwLFxuICAgICAgICAgICAgMCwgMTEsIDgsICAzLCAgNCwgIDAsXG4gICAgICAgICAgICAwLCA3LCAxMiwgIDMsICA0LCAgMCxcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBkbWF0cyA9IGFycmF5KFxuICAgICAgICAgICAgYXJyYXkoLy8gMFxuICAgICAgICAgICAgICAgIHZlYzQoMSwgMCwgMCwgMCksICAgLy8gdSA9IHVcbiAgICAgICAgICAgICAgICB2ZWM0KDAsIDEsIDAsIDApLCAgIC8vIHYgPSB2XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYXJyYXkoLy8gMVxuICAgICAgICAgICAgICAgIHZlYzQoMCwgMSwgMSwgMCksICAgLy8gdSA9IHYgKyB3XG4gICAgICAgICAgICAgICAgdmVjNCgtMSwgMCwgMSwgLTEpLCAvLyB2ID0gdyAtIHUgLSAxXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYXJyYXkoLy8gMlxuICAgICAgICAgICAgICAgIHZlYzQoMCwgLTEsIDIsIC0xKSwgLy8gdSA9IDJ3IC0gdiAtIDFcbiAgICAgICAgICAgICAgICB2ZWM0KDEsIDAsIDAsIDApLCAgIC8vIHYgPSB1XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYXJyYXkoLy8gM1xuICAgICAgICAgICAgICAgIHZlYzQoMSwgMCwgMSwgMCksICAgLy8gdSA9IHUgKyB3XG4gICAgICAgICAgICAgICAgdmVjNCgwLCAxLCAwLCAwKSwgICAvLyB2ID0gdlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGFycmF5KC8vIDRcbiAgICAgICAgICAgICAgICB2ZWM0KDEsIDAsIC0xLCAwKSwgIC8vIHUgPSB1IC0gd1xuICAgICAgICAgICAgICAgIHZlYzQoMCwgMSwgMCwgMCksICAgLy8gdiA9IHZcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhcnJheSgvLyA1XG4gICAgICAgICAgICAgICAgdmVjNCgwLCAtMSwgMCwgLTEpLCAvLyB1ID0gLXYgLSAxXG4gICAgICAgICAgICAgICAgdmVjNCgxLCAwLCAwLCAwKSwgICAvLyB2ID0gdVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGFycmF5KC8vIDZcbiAgICAgICAgICAgICAgICB2ZWM0KDAsIDEsIC0xLCAwKSwgIC8vIHUgPSB2IC0gd1xuICAgICAgICAgICAgICAgIHZlYzQoLTEsIDAsIDEsIC0xKSwgLy8gdiA9IHcgLSB1IC0gMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGFycmF5KC8vIDdcbiAgICAgICAgICAgICAgICB2ZWM0KC0xLCAwLCAxLCAtMSksIC8vIHUgPSB3IC0gdSAtIDFcbiAgICAgICAgICAgICAgICB2ZWM0KDAsIC0xLCAwLCAtMSksIC8vIHYgPSAtdiAtIDFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhcnJheSgvLyA4XG4gICAgICAgICAgICAgICAgdmVjNCgxLCAwLCAwLCAwKSwgICAvLyB1ID0gdVxuICAgICAgICAgICAgICAgIHZlYzQoMCwgMSwgLTEsIDApLCAgLy8gdiA9IHYgLSB3XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYXJyYXkoLy8gOVxuICAgICAgICAgICAgICAgIHZlYzQoMCwgMSwgMCwgMCksICAgLy8gdSA9IHZcbiAgICAgICAgICAgICAgICB2ZWM0KC0xLCAwLCAwLCAtMSksIC8vIHYgPSAtdSAtIDFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhcnJheSgvLyAxMFxuICAgICAgICAgICAgICAgIHZlYzQoMCwgLTEsIDEsIC0xKSwgLy8gdSA9IHcgLSB2IC0gMVxuICAgICAgICAgICAgICAgIHZlYzQoMSwgMCwgLTEsIDApLCAgLy8gdiA9IHUgLSB3XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYXJyYXkoLy8gMTFcbiAgICAgICAgICAgICAgICB2ZWM0KDEsIDAsIDAsIDApLCAgIC8vIHUgPSB1XG4gICAgICAgICAgICAgICAgdmVjNCgwLCAxLCAxLCAwKSwgICAvLyB2ID0gdiArIHdcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhcnJheSgvLyAxMlxuICAgICAgICAgICAgICAgIHZlYzQoLTEsIDAsIDEsIC0xKSwgLy8gdSA9IHcgLSB1IC0gMVxuICAgICAgICAgICAgICAgIHZlYzQoMCwgLTEsIDIsIC0xKSwgLy8gdiA9IDJ3IC0gdiAtIDFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBhcnJheSgvLyAxM1xuICAgICAgICAgICAgICAgIHZlYzQoMCwgLTEsIDEsIC0xKSwgLy8gdSA9IHcgLSB2IC0gMVxuICAgICAgICAgICAgICAgIHZlYzQoMSwgMCwgMSwgMCksICAgLy8gdiA9IHUgKyB3XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgYXJyYXkoLy8gMTRcbiAgICAgICAgICAgICAgICB2ZWM0KDAsIDEsIDAsIDApLCAgIC8vIHUgPSB2XG4gICAgICAgICAgICAgICAgdmVjNCgtMSwgMCwgMiwgLTEpLCAvLyB2ID0gMncgLSB1IC0gMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgaXcgPSBpMzIodyk7XG5cbiAgICAgICAgdmFyIGRpciA9IDA7XG4gICAgICAgIGlmIChjb29yZC55ID49IGl3ICogMiAtIDEgfHwgY29vcmQueSA8PSAtaXcgfHwgY29vcmQueCA+PSBpdyAqIDIgLSAxIHx8IGNvb3JkLnggPD0gLWl3KSB7XG4gICAgICAgICAgICBkaXIgPSA1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvb3JkLnkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZGlyID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29vcmQueSA+PSBpdykge1xuICAgICAgICAgICAgICAgIGRpciA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29vcmQueCA8IDApIHtcbiAgICAgICAgICAgICAgICBkaXIgPSBzZWxlY3QoNSwgMywgZGlyID09IDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb29yZC54ID49IGl3KSB7XG4gICAgICAgICAgICAgICAgZGlyID0gc2VsZWN0KDUsIDQsIGRpciA9PSAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpZHggPSBjb29yZC56ICogNiArIGRpcjtcbiAgICAgICAgbGV0IHNhbXAgPSB2ZWM0KGNvb3JkLnh5LCBpdywgMSk7XG4gICAgICAgIGxldCBkbWF0ID0gZG1hdHNbZGluZGljZXNbaWR4XV07XG4gICAgICAgIHJldHVybiB2ZWMzdSh2ZWMzKGRvdChkbWF0WzBdLCBzYW1wKSwgZG90KGRtYXRbMV0sIHNhbXApLCBkZmFjZXNbaWR4XSkpO1xuICAgIH1cblxuICAgIGZuIGN1YmVDb29yZFRvSWR4KGNvb3JkOiB2ZWMzdSwgdzogdTMyKSAtPiB1MzIge1xuICAgICAgICByZXR1cm4gY29vcmQueCArIGNvb3JkLnkgKiB3ICsgY29vcmQueiAqIHcgKiB3O1xuICAgIH1cblxuICAgIGZuIGN1YmVJZHhUb0Nvb3JkKGlkeDogdTMyLCB3OiB1MzIpIC0+IHZlYzN1IHtcbiAgICAgICAgbGV0IHcyID0gdyAqIHc7XG4gICAgICAgIGxldCBmaWR4ID0gaWR4ICUgdzI7XG4gICAgICAgIHJldHVybiB2ZWMzdShmaWR4ICUgdywgZmlkeCAvIHcsIGlkeCAvIHcyKTtcbiAgICB9XG5cbiAgICBmbiBjdWJlU2FtcGxlSWR4KHV2ZjogdmVjM2ksIHc6IHUzMikgLT4gdTMyIHtcbiAgICAgICAgbGV0IGNvb3JkID0gY3ViZVNhbXBsZVVWRih1dmYsIHcpO1xuICAgICAgICByZXR1cm4gc2VsZWN0KGN1YmVDb29yZFRvSWR4KGNvb3JkLCB3KSwgSU5WQUxJRF9JRFgsIGNvb3JkLnogPT0gSU5WQUxJRF9GQUNFKTtcbiAgICB9XG5gO1xuXG5jb25zdCBtaXBCbHVyID0gKGdyb3VwczogbnVtYmVyLCBmb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQpID0+IC8qIHdnc2wgKi9gXG4gICAgJHtjdWJlbWFwU2FtcGxpbmd9XG5cbiAgICBvdmVycmlkZSBTVEVQUzogaTMyID0gNDtcblxuICAgIGZuIHRvX3dvcmxkX2Nvb3Jkcyhjb29yZDogdmVjM3UsIHNpemU6IHUzMikgLT4gdmVjM2Yge1xuICAgICAgICBsZXQgdXYgPSAoMi4wIC8gZjMyKHNpemUpKSAqICh2ZWMyZihjb29yZC54eSkgKyAwLjUpIC0gMS4wO1xuXG4gICAgICAgIHZhciBwb3M6IHZlYzNmO1xuICAgICAgICBzd2l0Y2ggKGNvb3JkLnopIHtcbiAgICAgICAgICAgIGNhc2UgMCAgeyBwb3MgPSB2ZWMzKCAgMS4wLCAtdXYueSwgLXV2LngpOyB9XG4gICAgICAgICAgICBjYXNlIDEgIHsgcG9zID0gdmVjMyggLTEuMCwgLXV2LnksICB1di54KTsgfVxuICAgICAgICAgICAgY2FzZSAyICB7IHBvcyA9IHZlYzMoIHV2LngsICAgMS4wLCAgdXYueSk7IH1cbiAgICAgICAgICAgIGNhc2UgMyAgeyBwb3MgPSB2ZWMzKCB1di54LCAgLTEuMCwgLXV2LnkpOyB9XG4gICAgICAgICAgICBjYXNlIDQgIHsgcG9zID0gdmVjMyggdXYueCwgLXV2LnksICAgMS4wKTsgfVxuICAgICAgICAgICAgZGVmYXVsdCB7IHBvcyA9IHZlYzMoLXV2LngsIC11di55LCAgLTEuMCk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemUocG9zKTtcbiAgICB9XG5cbiAgICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyIHByZXZpb3VzTWlwOiB0ZXh0dXJlXzJkX2FycmF5PGYzMj47XG4gICAgQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhciBvdXRwdXRUZXh0dXJlOiB0ZXh0dXJlX3N0b3JhZ2VfMmRfYXJyYXk8JHtmb3JtYXR9LCB3cml0ZT47XG5cbiAgICAvLyBzaW1nYVswXSByZXNldmVyZWQgZm9yIHdvcmsgb2Zmc2V0XG4gICAgQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhcjxzdG9yYWdlPiBzaWdtYXMgOiBhcnJheTxmMzI+O1xuICAgIFxuICAgIEBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke2dyb3Vwc30sIDEsIDEpXG4gICAgZm4gbWFpbihAYnVpbHRpbihnbG9iYWxfaW52b2NhdGlvbl9pZCkgZ2lkOiB2ZWMzdSkge1xuICAgICAgICBsZXQgbWlwU2l6ZSA9IHRleHR1cmVEaW1lbnNpb25zKG91dHB1dFRleHR1cmUpLng7XG5cbiAgICAgICAgbGV0IGlkeCA9IGdpZC54ICsgdTMyKHNpZ21hc1swXSk7XG4gICAgICAgIGxldCBmYWNlU2l6ZSA9IG1pcFNpemUgKiBtaXBTaXplO1xuICAgICAgICBsZXQgZmFjZUlkeCA9IGlkeCAlIGZhY2VTaXplO1xuICAgICAgICBsZXQgY29vcmQgPSB2ZWMzdShmYWNlSWR4ICUgbWlwU2l6ZSwgZmFjZUlkeCAvIG1pcFNpemUsIGlkeCAvIGZhY2VTaXplKTsgXG4gICAgICAgIGlmIChjb29yZC54ID49IG1pcFNpemUgfHwgY29vcmQueSA+PSBtaXBTaXplIHx8IGNvb3JkLnogPj0gNikgeyByZXR1cm47IH1cblxuICAgICAgICBsZXQgcHJldmlvdXNTaXplID0gdGV4dHVyZURpbWVuc2lvbnMocHJldmlvdXNNaXApLng7XG4gICAgICAgIGxldCBiYXNlQ29vcmQgPSB2ZWMzaSh2ZWMzdShjb29yZC54ICogMiwgY29vcmQueSAqIDIsIGNvb3JkLnopKTtcbiAgICAgICAgbGV0IHBvcyA9IHRvX3dvcmxkX2Nvb3Jkcyh2ZWMzdShjb29yZCksIG1pcFNpemUpO1xuXG4gICAgICAgIGxldCBzaXplID0gYXJyYXlMZW5ndGgoJnNpZ21hcyk7XG4gICAgICAgIGxldCBsZXZlbCA9IHNpemUgLSB1MzIoY2VpbChsb2cyKGYzMihwcmV2aW91c1NpemUpKSkpO1xuICAgICAgICBsZXQgc2lnbWEgPSBzaWdtYXNbbGV2ZWxdO1xuICAgICAgICBsZXQgZ3Vhc3NpYW5fZmFjdG9yID0gLTAuNSAvIChzaWdtYSAqIHNpZ21hKTtcblxuICAgICAgICB2YXIgd2VpZ2h0ID0gMC4wO1xuICAgICAgICB2YXIgcmVzID0gdmVjMygwLjApO1xuXG4gICAgICAgIGZvciAodmFyIHUgPSAtU1RFUFM7IHUgPD0gU1RFUFMgKyAxOyB1ICs9IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHYgPSAtU1RFUFM7IHYgPD0gU1RFUFMgKyAxOyB2ICs9IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2FtcGxlQ29vcmQgPSBjdWJlU2FtcGxlVVZGKGJhc2VDb29yZCArIHZlYzNpKHUsIHYsIDApLCBwcmV2aW91c1NpemUpO1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGVDb29yZC56ID09IElOVkFMSURfRkFDRSkgeyBjb250aW51ZTsgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHNhbXBsZVBvcyA9IHRvX3dvcmxkX2Nvb3JkcyhzYW1wbGVDb29yZCwgcHJldmlvdXNTaXplKTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IG1heCgwLjAsIGFjb3MoZG90KHNhbXBsZVBvcywgcG9zKSkpO1xuICAgICAgICAgICAgICAgIGxldCB3ID0gZXhwKHggKiB4ICogZ3Vhc3NpYW5fZmFjdG9yKTtcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSB0ZXh0dXJlTG9hZChwcmV2aW91c01pcCwgc2FtcGxlQ29vcmQueHksIHNhbXBsZUNvb3JkLnosIDApO1xuXG4gICAgICAgICAgICAgICAgcmVzICs9IGNvbG9yLnJnYiAqIHc7XG4gICAgICAgICAgICAgICAgd2VpZ2h0ICs9IHc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0dXJlU3RvcmUob3V0cHV0VGV4dHVyZSwgY29vcmQueHksIGNvb3JkLnosIHZlYzQocmVzIC8gd2VpZ2h0LCAxKSk7XG4gICAgfVxuYDtcblxuLy8gdGhlIG1pbmltdW0gYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIGFueSBwaXhlbCBvbiBpbiBjdWJlbWFwXG4vLyBvZiB0aGUgZ2l2ZW4gZmFjZSB3aWR0aCBhbmQgYW55IHBpeGVsIGx5aW5nIG9uIGEgcGVyaW1ldGVyIHRoZSBnaXZlblxuLy8gcGl4ZWwgc3RlcHMgYXdheVxuZnVuY3Rpb24gbWluU3RlcERpc3RhbmNlKHN0ZXBzOiBudW1iZXIsIHdpZHRoOiBudW1iZXIpIHtcbiAgICAvLyB0aGUgYW5ndWxhciBkaXN0YW5jZVxuICAgIC8vIGZyb20gdGhlIHV2ZjogZmFjZSA9IDAsIHUgPSAwLCBhbmQgdiA9IHdpZHRoIC0gTWF0aC5mbG9vcihzdGVwcyAvIDIpIC0gMVxuICAgIC8vIHRvIHRoZSB1dmY6IGZhY2UgPSAzLCB1ID0gMiAqIHdpZHRoIC0gYmFzZVYgLSBzdGVwcyAtIDIsIGFuZCB2ID0gZWl0aGVyIDAgb3IgMS5cblxuICAgIC8vIEl0J3MgbGlrZWx5IHBvc3NpYmxlIHRvIHByb2dyYW1pdGljYWxseSBkZXRlcm1pbmUgd2hldGhlciB0aGUgZGVzdGl0aW9uIHBpeGVsXG4gICAgLy8gc2hvdWxkIGJlIHYgPSAwIG9yIHYgPSAxLCBidXQgY2hlY2tpbmcgYm90aCB3b3JrcyBmaW5lLlxuXG4gICAgY29uc3QgbmV4dE1pcFdpZHRoID0gd2lkdGggPj4gMTtcbiAgICBjb25zdCBiYXNlViA9IG5leHRNaXBXaWR0aCAtIE1hdGguZmxvb3Ioc3RlcHMgLyA0KSAtIDE7XG4gICAgY29uc3QgYmFzZVZOID0gKDIgLyBuZXh0TWlwV2lkdGgpICogKGJhc2VWICsgMC41KSAtIDE7XG4gICAgY29uc3QgYmFzZVVOID0gKDEgLyBuZXh0TWlwV2lkdGgpIC0gMTtcbiAgICBjb25zdCBiYXNlTWFnMiA9IDEgKyBiYXNlVk4gKiBiYXNlVk4gKyBiYXNlVU4gKiBiYXNlVU47XG5cbiAgICBjb25zdCBzYW1wVSA9IDIgKiB3aWR0aCAtIChiYXNlViAqIDIpIC0gc3RlcHMgLSAyO1xuICAgIGNvbnN0IHNhbXBVTiA9ICgyIC8gd2lkdGgpICogKHNhbXBVICsgMC41KSAtIDE7XG4gICAgY29uc3Qgc2FtcDBWTiA9ICgxIC8gd2lkdGgpIC0gMTtcbiAgICBjb25zdCBzYW1wME1hZzIgPSAxICsgc2FtcFVOICogc2FtcFVOICsgc2FtcDBWTiAqIHNhbXAwVk47XG4gICAgY29uc3Qgc2FtcDFWTiA9ICgzIC8gd2lkdGgpIC0gMTtcbiAgICBjb25zdCBzYW1wMU1hZzIgPSAxICsgc2FtcFVOICogc2FtcFVOICsgc2FtcDFWTiAqIHNhbXAxVk47XG5cbiAgICBjb25zdCBkb3QwID0gKHNhbXBVTiArIGJhc2VWTiArIHNhbXAwVk4gKiBiYXNlVU4pIC8gTWF0aC5zcXJ0KHNhbXAwTWFnMiAqIGJhc2VNYWcyKTtcbiAgICBjb25zdCBkb3QxID0gKHNhbXBVTiArIGJhc2VWTiArIHNhbXAxVk4gKiBiYXNlVU4pIC8gTWF0aC5zcXJ0KHNhbXAxTWFnMiAqIGJhc2VNYWcyKTtcbiAgICByZXR1cm4gTWF0aC5taW4oMSAtIGRvdDAsIDEgLSBkb3QxKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gY3ViZW1hcEd1YXNzaWFuUHlyYW1pZChcbiAgICBkZXZpY2U6IEdQVURldmljZSxcbiAgICB0ZXh0dXJlOiBHUFVUZXh0dXJlLFxuICAgIG9wdGlvbnM/OiBQYXJ0aWFsPEdhdXNzaWFuUHlyYW1pZE9wdGlvbnM+LFxuKSB7XG4gICAgY29uc3Qge1xuICAgICAgICBpblBsYWNlLFxuICAgICAgICBtaW5XaWR0aCxcbiAgICAgICAgb3V0cHV0VGV4dHVyZUxhYmVsLFxuICAgICAgICBzdGVwcyxcbiAgICAgICAgbWF4T3BzUGVyUGFzcyxcbiAgICAgICAgZGVsYXlXb3JrLFxuICAgIH0gPSBvcHRpb25zID8geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9IDogZGVmYXVsdE9wdGlvbnM7XG5cbiAgICBjb25zdCB7IHdpZHRoLCBmb3JtYXQgfSA9IHRleHR1cmU7XG4gICAgY29uc3QgbWlwTGV2ZWxDb3VudCA9IGluUGxhY2VcbiAgICAgICAgPyB0ZXh0dXJlLm1pcExldmVsQ291bnRcbiAgICAgICAgOiAoTWF0aC5sb2cyKHdpZHRoKSAtIE1hdGgubG9nMihtaW5XaWR0aCkgKyAxKTtcblxuICAgIGlmIChtaXBMZXZlbENvdW50IDw9IDEpIHJldHVybiB0ZXh0dXJlO1xuXG4gICAgY29uc3QgZ3JvdXBzID0gTWF0aC5taW4oXG4gICAgICAgIGRldmljZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cFNpemVYLFxuICAgICAgICBkZXZpY2UubGltaXRzLm1heENvbXB1dGVJbnZvY2F0aW9uc1Blcldvcmtncm91cCxcbiAgICApO1xuICAgIGNvbnN0IG1heFdvcmtncm91cHMgPSBkZXZpY2UubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBzUGVyRGltZW5zaW9uO1xuICAgIGNvbnN0IHNoYWRlciA9IGRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgICBsYWJlbDogJ2N1YmVtYXBHdWFzc2lhblB5cmFtaWQgLS0gc2hhZGVyJyxcbiAgICAgICAgY29kZTogbWlwQmx1cihncm91cHMsIGZvcm1hdCksXG4gICAgfSk7XG5cbiAgICBjb25zdCBiaW5kZ3JvdXBMYXlvdXQgPSBkZXZpY2UuY3JlYXRlQmluZEdyb3VwTGF5b3V0KHtcbiAgICAgICAgbGFiZWw6ICdjdWJlbWFwR3Vhc3NpYW5QeXJhbWlkIC0tIGJpbmRncm91cCBsYXlvdXQnLFxuICAgICAgICBlbnRyaWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmluZGluZzogMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiB7IHZpZXdEaW1lbnNpb246ICcyZC1hcnJheScgfSxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5DT01QVVRFLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nOiAxLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VUZXh0dXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2VzczogJ3dyaXRlLW9ubHknLFxuICAgICAgICAgICAgICAgICAgICB2aWV3RGltZW5zaW9uOiAnMmQtYXJyYXknLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5DT01QVVRFLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nOiAyLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcjogeyB0eXBlOiAncmVhZC1vbmx5LXN0b3JhZ2UnIH0sXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuQ09NUFVURSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBwaXBlbGluZSA9IGRldmljZS5jcmVhdGVDb21wdXRlUGlwZWxpbmUoe1xuICAgICAgICBsYWJlbDogJ2N1YmVtYXBHdWFzc2lhblB5cmFtaWQgLS0gcGlwZWxpbmUnLFxuICAgICAgICBsYXlvdXQ6IGRldmljZS5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICAgICAgICBsYWJlbDogJ2N1YmVtYXBHdWFzc2lhblB5cmFtaWQgLS0gcGlwZWxpbmUgbGF5b3V0JyxcbiAgICAgICAgICAgIGJpbmRHcm91cExheW91dHM6IFtiaW5kZ3JvdXBMYXlvdXRdLFxuICAgICAgICB9KSxcbiAgICAgICAgY29tcHV0ZToge1xuICAgICAgICAgICAgbW9kdWxlOiBzaGFkZXIsXG4gICAgICAgICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICAgICAgICBjb25zdGFudHM6IHsgU1RFUFM6IE1hdGguY2VpbChzdGVwcykgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGxldCBnYXVzc2lhblB5cmFtaWQgPSB0ZXh0dXJlO1xuICAgIGlmICghaW5QbGFjZSkge1xuICAgICAgICBjb25zdCBzaXplID0geyB3aWR0aCwgaGVpZ2h0OiB3aWR0aCwgZGVwdGhPckFycmF5TGF5ZXJzOiA2IH07XG5cbiAgICAgICAgZ2F1c3NpYW5QeXJhbWlkID0gZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbGFiZWw6IG91dHB1dFRleHR1cmVMYWJlbCxcbiAgICAgICAgICAgIHVzYWdlOiBHUFVUZXh0dXJlVXNhZ2UuU1RPUkFHRV9CSU5ESU5HXG4gICAgICAgICAgICAgICAgfCBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HXG4gICAgICAgICAgICAgICAgfCBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9TUkNcbiAgICAgICAgICAgICAgICB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogJzJkJyxcbiAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgIG1pcExldmVsQ291bnQsXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb3B5RW5jb2RlciA9IGRldmljZS5jcmVhdGVDb21tYW5kRW5jb2Rlcih7IGxhYmVsOiAnY3ViZW1hcEd1YXNzaWFuUHlyYW1pZCAtLSBjb3B5IGVuY29kZXInIH0pO1xuICAgICAgICBjb3B5RW5jb2Rlci5jb3B5VGV4dHVyZVRvVGV4dHVyZShcbiAgICAgICAgICAgIHsgdGV4dHVyZSwgbWlwTGV2ZWw6IDAgfSxcbiAgICAgICAgICAgIHsgdGV4dHVyZTogZ2F1c3NpYW5QeXJhbWlkLCBtaXBMZXZlbDogMCB9LFxuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgKTtcblxuICAgICAgICBkZXZpY2UucXVldWUuc3VibWl0KFtjb3B5RW5jb2Rlci5maW5pc2goKV0pO1xuICAgICAgICBhd2FpdCBkZXZpY2UucXVldWUub25TdWJtaXR0ZWRXb3JrRG9uZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IG1pcFZpZXdzID0gWy4uLkFycmF5KG1pcExldmVsQ291bnQpLmtleXMoKV0ubWFwKChpKSA9PiBnYXVzc2lhblB5cmFtaWQuY3JlYXRlVmlldyh7XG4gICAgICAgIGxhYmVsOiBgY3ViZW1hcEd1YXNzaWFuUHlyYW1pZCAtLSBtaXAgdmlldyAke2l9YCxcbiAgICAgICAgZGltZW5zaW9uOiAnMmQtYXJyYXknLFxuICAgICAgICBiYXNlTWlwTGV2ZWw6IGksXG4gICAgICAgIG1pcExldmVsQ291bnQ6IDEsXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgc3RlcENvdW50ID0gMSArIChzdGVwcyAqIDIpO1xuICAgIGNvbnN0IG1heERpc3BhdGNoZXMgPSBNYXRoLm1heCgobWF4T3BzUGVyUGFzcyAvICgoc3RlcENvdW50ICoqIDIpICogZ3JvdXBzKSkgfCAwLCAxKTtcbiAgICBjb25zdCBtYXhMYXllcnMgPSBNYXRoLmNlaWwoTWF0aC5sb2cyKHdpZHRoKSk7XG5cbiAgICBjb25zdCBwcm9wZXJ0eUFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbMCwgLi4uWy4uLihBcnJheShtYXhMYXllcnMpLmtleXMoKSldLm1hcCgoaSkgPT4ge1xuICAgICAgICBjb25zdCB3ID0gd2lkdGggPj4gaTtcbiAgICAgICAgcmV0dXJuIE1hdGguYWNvcygxIC0gbWluU3RlcERpc3RhbmNlKE1hdGgubWluKHcsIHN0ZXBzKSwgdykpIC8gMztcbiAgICB9KV0pO1xuXG4gICAgY29uc3QgcHJvcGVydHlCdWZmZXIgPSBjcmVhdGVBbmRDb3B5QnVmZmVyKFxuICAgICAgICBwcm9wZXJ0eUFycmF5LFxuICAgICAgICBHUFVCdWZmZXJVc2FnZS5TVE9SQUdFIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgICAgIGRldmljZSxcbiAgICApO1xuXG4gICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgdG90YWxEaXNwYXRjaGVzID0gMDtcbiAgICAgICAgbGV0IGRpc3BhdGNoQ291bnQgPSAwO1xuICAgICAgICBsZXQgYmF0Y2hDb3VudCA9IDA7XG4gICAgICAgIGxldCBiYXRjaERpc3BhdGNoZXMgPSAwO1xuICAgICAgICBsZXQgYmluZGdyb3VwO1xuXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHJ1blBhc3MoKSB7XG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2hDb3VudCA+PSB0b3RhbERpc3BhdGNoZXMpIHtcbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgYmF0Y2hDb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBtaXBMZXZlbENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRvdGFsRGlzcGF0Y2hlcyA9IE1hdGgubWF4KE1hdGguY2VpbCgoNiAqICgod2lkdGggPj4gaSkgKiogMikpIC8gZ3JvdXBzKSwgMS4wKTtcblxuICAgICAgICAgICAgICAgIGJpbmRncm91cCA9IGRldmljZS5jcmVhdGVCaW5kR3JvdXAoe1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IGJpbmRncm91cExheW91dCxcbiAgICAgICAgICAgICAgICAgICAgZW50cmllczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IG1pcFZpZXdzW2kgLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogbWlwVmlld3NbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IHsgYnVmZmVyOiBwcm9wZXJ0eUJ1ZmZlciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJvcGVydHlBcnJheVswXSA9IGRpc3BhdGNoQ291bnQgKiBncm91cHM7XG4gICAgICAgICAgICBkZXZpY2UucXVldWUud3JpdGVCdWZmZXIocHJvcGVydHlCdWZmZXIsIDAsIHByb3BlcnR5QXJyYXksIDAsIDEpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXNzRGlzcGF0Y2hlcyA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIHRvdGFsRGlzcGF0Y2hlcyAtIGRpc3BhdGNoQ291bnQsXG4gICAgICAgICAgICAgICAgbWF4RGlzcGF0Y2hlcyAtIGJhdGNoRGlzcGF0Y2hlcyxcbiAgICAgICAgICAgICAgICBtYXhXb3JrZ3JvdXBzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHBhc3NFbmNvZGVyID0gZGV2aWNlLmNyZWF0ZUNvbW1hbmRFbmNvZGVyKHsgbGFiZWw6IGBjdWJlbWFwR3Vhc3NpYW5QeXJhbWlkIC0tIG1pcCAke2l9LCBwYXNzICR7YmF0Y2hDb3VudH1gIH0pO1xuICAgICAgICAgICAgY29uc3QgcGFzcyA9IHBhc3NFbmNvZGVyLmJlZ2luQ29tcHV0ZVBhc3MoeyBsYWJlbDogYGN1YmVtYXBHdWFzc2lhblB5cmFtaWQgLS0gbWlwICR7aX0sIHBhc3MgJHtiYXRjaENvdW50fWAgfSk7XG5cbiAgICAgICAgICAgIHBhc3Muc2V0UGlwZWxpbmUocGlwZWxpbmUpO1xuICAgICAgICAgICAgcGFzcy5zZXRCaW5kR3JvdXAoMCwgYmluZGdyb3VwISk7XG4gICAgICAgICAgICBwYXNzLmRpc3BhdGNoV29ya2dyb3VwcyhwYXNzRGlzcGF0Y2hlcywgMSwgMSk7XG4gICAgICAgICAgICBwYXNzLmVuZCgpO1xuXG4gICAgICAgICAgICBkZXZpY2UucXVldWUuc3VibWl0KFtwYXNzRW5jb2Rlci5maW5pc2goKV0pO1xuXG4gICAgICAgICAgICBkaXNwYXRjaENvdW50ICs9IHBhc3NEaXNwYXRjaGVzO1xuICAgICAgICAgICAgYmF0Y2hEaXNwYXRjaGVzICs9IHBhc3NEaXNwYXRjaGVzO1xuICAgICAgICAgICAgYmF0Y2hDb3VudCArPSAxO1xuXG4gICAgICAgICAgICBpZiAoYmF0Y2hEaXNwYXRjaGVzID49IG1heERpc3BhdGNoZXMpIHtcbiAgICAgICAgICAgICAgICBiYXRjaERpc3BhdGNoZXMgPSAwO1xuICAgICAgICAgICAgICAgIGF3YWl0IGRldmljZS5xdWV1ZS5vblN1Ym1pdHRlZFdvcmtEb25lKCk7XG4gICAgICAgICAgICAgICAgZGVsYXlXb3JrKHJ1blBhc3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBydW5QYXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBydW5QYXNzKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZ2F1c3NpYW5QeXJhbWlkO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/samples/cubemap-blur/cubemap-guassian-pyramid.ts\n");

/***/ }),

/***/ "./src/utils/data-copy.ts":
/*!********************************!*\
  !*** ./src/utils/data-copy.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   copyKTX: () => (/* binding */ copyKTX),\n/* harmony export */   createAndCopyBuffer: () => (/* binding */ createAndCopyBuffer),\n/* harmony export */   createAndCopyCubemap: () => (/* binding */ createAndCopyCubemap),\n/* harmony export */   textureToArrayBuffer: () => (/* binding */ textureToArrayBuffer),\n/* harmony export */   textureToKTX: () => (/* binding */ textureToKTX)\n/* harmony export */ });\n/* harmony import */ var _workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js */ \"./node_modules/.pnpm/react-refresh@0.14.2/node_modules/react-refresh/runtime.js\");\n/* harmony import */ var ktx_parse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ktx-parse */ \"./node_modules/.pnpm/ktx-parse@0.7.0/node_modules/ktx-parse/dist/ktx-parse.modern.js\");\n/* harmony import */ var _rendering_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rendering/constants */ \"./src/rendering/constants.ts\");\n/* harmony import */ var _general__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./general */ \"./src/utils/general.ts\");\n/* provided dependency */ var __react_refresh_utils__ = __webpack_require__(/*! ./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ \"./node_modules/.pnpm/@pmmmwh+react-refresh-webpack-plugin@0.5.15_react-refresh@0.14.2_type-fest@4.20.0_webpack-dev_mfrq4spdi7f4wjnws4gvsvyo6i/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js\");\n\n__webpack_require__.$Refresh$.runtime = /*#__PURE__*/ (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_workspaces_React_webgpu_viewer_node_modules_pnpm_react_refresh_0_14_2_node_modules_react_refresh_runtime_js__WEBPACK_IMPORTED_MODULE_0__, 2)));\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nfunction createAndCopyBuffer(arr, usage, device, label, alignment = 4) {\n    const pad = alignment - 1;\n    const buffer = device.createBuffer({\n        label,\n        usage,\n        size: (arr.byteLength + pad) & ~pad,\n        mappedAtCreation: true,\n    });\n    const writeArray = new Uint8Array(buffer.getMappedRange());\n    const readArray = arr instanceof ArrayBuffer\n        ? new Uint8Array(arr)\n        : new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n    writeArray.set(readArray);\n    buffer.unmap();\n    return buffer;\n}\nfunction createAndCopyCubemap(device, data, format, usage, label) {\n    const pixelSize = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.TextureFormatToSize[format];\n    if (pixelSize == null) {\n        throw new Error(`copy cubemap -- unsupported format: ${format}`);\n    }\n    const width = Math.sqrt(data.byteLength / (6 * pixelSize));\n    const size = { width, height: width, depthOrArrayLayers: 6 };\n    const texture = device.createTexture({\n        usage: usage | GPUTextureUsage.COPY_DST,\n        label,\n        format,\n        size,\n    });\n    device.queue.writeTexture({ texture }, data, { bytesPerRow: width * pixelSize, rowsPerImage: width }, size);\n    return texture;\n}\n// eslint-disable-next-line import/prefer-default-export\nfunction copyKTX(resource, device, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let buf;\n        if (resource instanceof ArrayBuffer) {\n            buf = resource;\n        }\n        else if (resource instanceof File) {\n            buf = yield resource.arrayBuffer();\n        }\n        else {\n            const response = yield fetch(resource);\n            buf = yield response.arrayBuffer();\n        }\n        const ktx = ktx_parse__WEBPACK_IMPORTED_MODULE_3__.read(new Uint8Array(buf));\n        const format = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.VkFormatToWebGPU[ktx.vkFormat];\n        const pixelSize = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.TextureFormatToSize[format];\n        if (format == null) {\n            throw new Error(`ktx texture import -- unsupported format: ${ktx.vkFormat}`);\n        }\n        const size = {\n            width: ktx.pixelWidth,\n            height: ktx.pixelHeight,\n            depthOrArrayLayers: ktx.faceCount,\n        };\n        const maxMipCount = Math.ceil(Math.log2(Math.max(size.width, size.height))) + 1;\n        let mipLevelCount = ktx.levels.length;\n        if ((options === null || options === void 0 ? void 0 : options.mipLevelCount) === 'max') {\n            mipLevelCount = maxMipCount;\n        }\n        else if (typeof (options === null || options === void 0 ? void 0 : options.mipLevelCount) === 'number') {\n            mipLevelCount = Math.min(maxMipCount, options.mipLevelCount);\n        }\n        let usage = GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST;\n        if (options === null || options === void 0 ? void 0 : options.textureUsage)\n            usage |= options.textureUsage;\n        const texture = device.createTexture({\n            label: options === null || options === void 0 ? void 0 : options.label,\n            size,\n            mipLevelCount,\n            format,\n            usage,\n        });\n        const mipCopies = Math.min(ktx.levels.length, mipLevelCount) - 1;\n        for (let mipLevel = mipCopies; mipLevel >= 0; mipLevel -= 1) {\n            const width = size.width >> mipLevel;\n            const height = size.height >> mipLevel;\n            const { levelData } = ktx.levels[mipLevel];\n            const rawBytesPerRow = width * pixelSize;\n            const bytesPerRow = Math.max(rawBytesPerRow, 256);\n            const rowsPerImage = height;\n            const bytesPerImage = rowsPerImage * bytesPerRow;\n            let imageData = levelData;\n            if (bytesPerRow > rawBytesPerRow) {\n                imageData = new Uint8Array(bytesPerImage * texture.depthOrArrayLayers);\n                for (let h = 0; h < height * texture.depthOrArrayLayers; h += 1) {\n                    for (let w = 0; w < rawBytesPerRow; w += 1) {\n                        imageData[w + h * bytesPerRow] = levelData[w + h * rawBytesPerRow];\n                    }\n                }\n            }\n            const layerBatch = Math.min(Math.floor(device.limits.maxBufferSize / bytesPerImage), ktx.faceCount);\n            const layerCount = Math.ceil(ktx.faceCount / layerBatch);\n            for (let l = 0; l < layerCount; l += 1) {\n                const offset = l * layerBatch;\n                const count = Math.min(layerBatch, ktx.faceCount - offset);\n                const data = layerCount > 1\n                    ? imageData.subarray(offset * bytesPerImage, (offset + count) * bytesPerImage)\n                    : imageData;\n                device.queue.writeTexture({ mipLevel, texture, origin: [0, 0, offset] }, data, { bytesPerRow, rowsPerImage }, [width, height, count]);\n            }\n        }\n        return texture;\n    });\n}\nfunction textureToArrayBuffer(_a) {\n    return __awaiter(this, arguments, void 0, function* ({ device, texture, mipLevel = 0, returnBuffer, storageBuffer, resultBuffer, description, }) {\n        const pixelSize = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.TextureFormatToSize[texture.format];\n        const fullDescription = (0,_general__WEBPACK_IMPORTED_MODULE_2__.padTemplate) `[textureToKTX${description}${texture.label}] --`;\n        if (pixelSize == null) {\n            throw new Error(`${fullDescription} format ${texture.format} unsupported`);\n        }\n        const width = texture.width >> mipLevel;\n        const height = texture.height >> mipLevel;\n        const rawBytesPerRow = width * pixelSize;\n        const bytesPerRow = Math.max(rawBytesPerRow, 256);\n        const rowsPerImage = height;\n        const byteSize = rowsPerImage * bytesPerRow * texture.depthOrArrayLayers;\n        const resultSize = rawBytesPerRow * height * texture.depthOrArrayLayers;\n        if (resultBuffer != null && resultBuffer.byteLength < byteSize) {\n            throw new Error(`${fullDescription} given result array not large enough.\n${resultBuffer.byteLength} < ${byteSize}`);\n        }\n        if (storageBuffer != null && storageBuffer.size < byteSize) {\n            throw new Error(`${fullDescription} given storage buffer not large enough.\n${storageBuffer.size} < ${byteSize}`);\n        }\n        const requiredUsage = GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ;\n        if (storageBuffer != null && (storageBuffer.usage & requiredUsage) !== requiredUsage) {\n            throw new Error(`${fullDescription} given storage does not have correct usage flags.\nGiven: ${storageBuffer.usage}\nRequired: ${requiredUsage}`);\n        }\n        let imageData = resultBuffer !== null && resultBuffer !== void 0 ? resultBuffer : new Uint8Array(byteSize);\n        const storage = storageBuffer !== null && storageBuffer !== void 0 ? storageBuffer : device.createBuffer({\n            label: `${fullDescription} storage buffer`,\n            size: byteSize,\n            usage: requiredUsage,\n        });\n        const encoder = device.createCommandEncoder({ label: `${fullDescription} encoder` });\n        encoder.copyTextureToBuffer({ texture, mipLevel }, { buffer: storage, rowsPerImage, bytesPerRow }, { width, height, depthOrArrayLayers: texture.depthOrArrayLayers });\n        device.queue.submit([encoder.finish()]);\n        yield device.queue.onSubmittedWorkDone();\n        yield storage.mapAsync(GPUMapMode.READ, 0, byteSize);\n        const mapped = storage.getMappedRange(0, byteSize);\n        imageData.set(new Uint8Array(mapped));\n        storage.unmap();\n        if (bytesPerRow > rawBytesPerRow) {\n            for (let h = 0; h < height * texture.depthOrArrayLayers; h += 1) {\n                for (let w = 0; w < rawBytesPerRow; w += 1) {\n                    imageData[w + h * rawBytesPerRow] = imageData[w + h * bytesPerRow];\n                }\n            }\n            imageData = imageData.slice(0, resultSize);\n        }\n        return {\n            imageData,\n            storageBuffer: returnBuffer ? storage : undefined,\n        };\n    });\n}\nfunction textureToKTX(device_1, texture_1) {\n    return __awaiter(this, arguments, void 0, function* (device, texture, cube = false) {\n        const pixelSize = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.TextureFormatToSize[texture.format];\n        if (pixelSize == null) {\n            throw new Error(`textureToKTX -- format ${texture.format} of ${texture.label} unsupported`);\n        }\n        const container = new ktx_parse__WEBPACK_IMPORTED_MODULE_3__.KTX2Container();\n        container.pixelWidth = texture.width;\n        container.pixelHeight = texture.height;\n        container.vkFormat = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.WebGPUToVkFormat[texture.format];\n        container.typeSize = _rendering_constants__WEBPACK_IMPORTED_MODULE_1__.TextureFormatToChannelSize[texture.format];\n        delete container.keyValue.KTXswizzle;\n        const dataFormat = container.dataFormatDescriptor[0];\n        dataFormat.colorModel = ktx_parse__WEBPACK_IMPORTED_MODULE_3__.KHR_DF_MODEL_RGBSDA;\n        dataFormat.transferFunction = ktx_parse__WEBPACK_IMPORTED_MODULE_3__.KHR_DF_TRANSFER_LINEAR;\n        dataFormat.bytesPlane[0] = pixelSize;\n        dataFormat.samples = [0, 1, 2, 3].map((i) => ({\n            channelType: [192, 193, 194, 207][i],\n            samplePosition: [0, 0, 0, 0],\n            bitLength: container.typeSize * 8 - 1,\n            bitOffset: container.typeSize * 8 * i,\n            sampleLower: -1082130432,\n            sampleUpper: 1065353216,\n        }));\n        if (texture.dimension === '3d') {\n            container.faceCount = 1;\n            container.pixelDepth = texture.depthOrArrayLayers;\n        }\n        else if (cube) {\n            const cubeLayers = texture.depthOrArrayLayers / 6;\n            container.layerCount = cubeLayers === 1 ? 0 : cubeLayers;\n            container.faceCount = 6;\n        }\n        else {\n            container.layerCount = texture.depthOrArrayLayers;\n            container.faceCount = 1;\n        }\n        let storageBuffer;\n        let imageData;\n        for (let i = 0; i < texture.mipLevelCount; i += 1) {\n            // eslint-disable-next-line no-await-in-loop\n            ({ imageData, storageBuffer } = yield textureToArrayBuffer({\n                mipLevel: i,\n                returnBuffer: true,\n                device,\n                texture,\n                storageBuffer,\n            }));\n            container.levels.push({\n                levelData: imageData,\n                uncompressedByteLength: imageData.byteLength,\n            });\n        }\n        return ktx_parse__WEBPACK_IMPORTED_MODULE_3__.write(container);\n    });\n}\n\n\nconst $ReactRefreshModuleId$ = __webpack_require__.$Refresh$.moduleId;\nconst $ReactRefreshCurrentExports$ = __react_refresh_utils__.getModuleExports(\n\t$ReactRefreshModuleId$\n);\n\nfunction $ReactRefreshModuleRuntime$(exports) {\n\tif (false) {}\n}\n\nif (typeof Promise !== 'undefined' && $ReactRefreshCurrentExports$ instanceof Promise) {\n\t$ReactRefreshCurrentExports$.then($ReactRefreshModuleRuntime$);\n} else {\n\t$ReactRefreshModuleRuntime$($ReactRefreshCurrentExports$);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxTQUFTLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztRQUM1QixDQUFDO1FBRUQsSUFBSSxhQUFvQyxDQUFDO1FBQ3pDLElBQUksU0FBcUIsQ0FBQztRQUUxQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDaEQsNENBQTRDO1lBQzVDLENBQUMsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQztnQkFDdkQsUUFBUSxFQUFFLENBQUM7Z0JBQ1gsWUFBWSxFQUFFLElBQUk7Z0JBQ2xCLE1BQU07Z0JBQ04sT0FBTztnQkFDUCxhQUFhO2FBQ2hCLENBQUMsQ0FBQyxDQUFDO1lBRUosU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7Z0JBQ2xCLFNBQVMsRUFBRSxTQUFTO2dCQUNwQixzQkFBc0IsRUFBRSxTQUFTLENBQUMsVUFBVTthQUMvQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRUQsT0FBTyw0Q0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmdwdS1iYXNpYy8uL3NyYy91dGlscy9kYXRhLWNvcHkudHM/YmE1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrdHhwYXJzZSBmcm9tICdrdHgtcGFyc2UnO1xuXG5pbXBvcnQgeyBWa0Zvcm1hdFRvV2ViR1BVLCBUZXh0dXJlRm9ybWF0VG9TaXplLCBUZXh0dXJlRm9ybWF0VG9DaGFubmVsU2l6ZSwgV2ViR1BVVG9Wa0Zvcm1hdCB9IGZyb20gJy4uL3JlbmRlcmluZy9jb25zdGFudHMnO1xuaW1wb3J0IHsgcGFkVGVtcGxhdGUgfSBmcm9tICcuL2dlbmVyYWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQW5kQ29weUJ1ZmZlcihcbiAgICBhcnI6IEFycmF5QnVmZmVyIHwgVHlwZWRBcnJheUxpa2UsXG4gICAgdXNhZ2U6IEdQVUZsYWdzQ29uc3RhbnQsXG4gICAgZGV2aWNlOiBHUFVEZXZpY2UsXG4gICAgbGFiZWw/OiBzdHJpbmcsXG4gICAgYWxpZ25tZW50ID0gNCxcbik6IEdQVUJ1ZmZlciB7XG4gICAgY29uc3QgcGFkID0gYWxpZ25tZW50IC0gMTtcbiAgICBjb25zdCBidWZmZXIgPSBkZXZpY2UuY3JlYXRlQnVmZmVyKHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHVzYWdlLFxuICAgICAgICBzaXplOiAoYXJyLmJ5dGVMZW5ndGggKyBwYWQpICYgfnBhZCxcbiAgICAgICAgbWFwcGVkQXRDcmVhdGlvbjogdHJ1ZSxcbiAgICB9IGFzIEdQVUJ1ZmZlckRlc2NyaXB0b3IpO1xuXG4gICAgY29uc3Qgd3JpdGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlci5nZXRNYXBwZWRSYW5nZSgpKTtcbiAgICBjb25zdCByZWFkQXJyYXkgPSBhcnIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICAgICAgICA/IG5ldyBVaW50OEFycmF5KGFycilcbiAgICAgICAgOiBuZXcgVWludDhBcnJheShhcnIuYnVmZmVyLCBhcnIuYnl0ZU9mZnNldCwgYXJyLmJ5dGVMZW5ndGgpO1xuXG4gICAgd3JpdGVBcnJheS5zZXQocmVhZEFycmF5KTtcbiAgICBidWZmZXIudW5tYXAoKTtcblxuICAgIHJldHVybiBidWZmZXI7XG59XG5cbmV4cG9ydCB0eXBlIFRleHR1cmVTaXplSW5mb1Byb3BzID0ge1xuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgZm9ybWF0PzogR1BVVGV4dHVyZUZvcm1hdCxcbiAgICBwaXhlbFNpemU/OiBudW1iZXIsXG4gICAgbWlwTGV2ZWw/OiBudW1iZXIsXG4gICAgZGVwdGhPckFycmF5TGF5ZXJzPzogbnVtYmVyLFxuICAgIGN1YmU/OiBib29sZWFuLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFuZENvcHlDdWJlbWFwKFxuICAgIGRldmljZTogR1BVRGV2aWNlLFxuICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgIGZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCxcbiAgICB1c2FnZTogbnVtYmVyLFxuICAgIGxhYmVsPzogc3RyaW5nLFxuKSB7XG4gICAgY29uc3QgcGl4ZWxTaXplID0gVGV4dHVyZUZvcm1hdFRvU2l6ZVtmb3JtYXRdO1xuICAgIGlmIChwaXhlbFNpemUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNvcHkgY3ViZW1hcCAtLSB1bnN1cHBvcnRlZCBmb3JtYXQ6ICR7Zm9ybWF0fWApO1xuICAgIH1cblxuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5zcXJ0KGRhdGEuYnl0ZUxlbmd0aCAvICg2ICogcGl4ZWxTaXplKSk7XG4gICAgY29uc3Qgc2l6ZSA9IHsgd2lkdGgsIGhlaWdodDogd2lkdGgsIGRlcHRoT3JBcnJheUxheWVyczogNiB9O1xuXG4gICAgY29uc3QgdGV4dHVyZSA9IGRldmljZS5jcmVhdGVUZXh0dXJlKHtcbiAgICAgICAgdXNhZ2U6IHVzYWdlIHwgR1BVVGV4dHVyZVVzYWdlLkNPUFlfRFNULFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICBzaXplLFxuICAgIH0pO1xuXG4gICAgZGV2aWNlLnF1ZXVlLndyaXRlVGV4dHVyZShcbiAgICAgICAgeyB0ZXh0dXJlIH0sXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHsgYnl0ZXNQZXJSb3c6IHdpZHRoICogcGl4ZWxTaXplLCByb3dzUGVySW1hZ2U6IHdpZHRoIH0sXG4gICAgICAgIHNpemUsXG4gICAgKTtcblxuICAgIHJldHVybiB0ZXh0dXJlO1xufVxuXG5leHBvcnQgdHlwZSBLVFhDb3B5T3B0aW9ucyA9IHtcbiAgICBsYWJlbD86IHN0cmluZyxcbiAgICBtaXBMZXZlbENvdW50PzogbnVtYmVyIHwgJ21heCcgfCAnZGVmYXVsdCcsXG4gICAgdGV4dHVyZVVzYWdlPzogbnVtYmVyLFxuICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29weUtUWChcbiAgICByZXNvdXJjZTogc3RyaW5nIHwgVVJMIHwgQXJyYXlCdWZmZXIgfCBGaWxlLFxuICAgIGRldmljZTogR1BVRGV2aWNlLFxuICAgIG9wdGlvbnM/OiBLVFhDb3B5T3B0aW9ucyxcbik6IFByb21pc2U8R1BVVGV4dHVyZT4ge1xuICAgIGxldCBidWY6IEFycmF5QnVmZmVyO1xuICAgIGlmIChyZXNvdXJjZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGJ1ZiA9IHJlc291cmNlO1xuICAgIH0gZWxzZSBpZiAocmVzb3VyY2UgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgIGJ1ZiA9IGF3YWl0IHJlc291cmNlLmFycmF5QnVmZmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXNvdXJjZSk7XG4gICAgICAgIGJ1ZiA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgfVxuXG4gICAgY29uc3Qga3R4ID0ga3R4cGFyc2UucmVhZChuZXcgVWludDhBcnJheShidWYpKTtcbiAgICBjb25zdCBmb3JtYXQgPSBWa0Zvcm1hdFRvV2ViR1BVW2t0eC52a0Zvcm1hdF07XG4gICAgY29uc3QgcGl4ZWxTaXplID0gVGV4dHVyZUZvcm1hdFRvU2l6ZVtmb3JtYXRdITtcblxuICAgIGlmIChmb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGt0eCB0ZXh0dXJlIGltcG9ydCAtLSB1bnN1cHBvcnRlZCBmb3JtYXQ6ICR7a3R4LnZrRm9ybWF0fWApO1xuICAgIH1cblxuICAgIGNvbnN0IHNpemUgPSB7XG4gICAgICAgIHdpZHRoOiBrdHgucGl4ZWxXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBrdHgucGl4ZWxIZWlnaHQsXG4gICAgICAgIGRlcHRoT3JBcnJheUxheWVyczoga3R4LmZhY2VDb3VudCxcbiAgICB9O1xuXG4gICAgY29uc3QgbWF4TWlwQ291bnQgPSBNYXRoLmNlaWwoTWF0aC5sb2cyKE1hdGgubWF4KHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KSkpICsgMTtcbiAgICBsZXQgbWlwTGV2ZWxDb3VudCA9IGt0eC5sZXZlbHMubGVuZ3RoO1xuICAgIGlmIChvcHRpb25zPy5taXBMZXZlbENvdW50ID09PSAnbWF4Jykge1xuICAgICAgICBtaXBMZXZlbENvdW50ID0gbWF4TWlwQ291bnQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucz8ubWlwTGV2ZWxDb3VudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbWlwTGV2ZWxDb3VudCA9IE1hdGgubWluKG1heE1pcENvdW50LCBvcHRpb25zLm1pcExldmVsQ291bnQpO1xuICAgIH1cblxuICAgIGxldCB1c2FnZSA9IEdQVVRleHR1cmVVc2FnZS5URVhUVVJFX0JJTkRJTkcgfCBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1Q7XG4gICAgaWYgKG9wdGlvbnM/LnRleHR1cmVVc2FnZSkgdXNhZ2UgfD0gb3B0aW9ucy50ZXh0dXJlVXNhZ2U7XG5cbiAgICBjb25zdCB0ZXh0dXJlID0gZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICBsYWJlbDogb3B0aW9ucz8ubGFiZWwsXG4gICAgICAgIHNpemUsXG4gICAgICAgIG1pcExldmVsQ291bnQsXG4gICAgICAgIGZvcm1hdCxcbiAgICAgICAgdXNhZ2UsXG4gICAgfSk7XG5cbiAgICBjb25zdCBtaXBDb3BpZXMgPSBNYXRoLm1pbihrdHgubGV2ZWxzLmxlbmd0aCwgbWlwTGV2ZWxDb3VudCkgLSAxO1xuXG4gICAgZm9yIChsZXQgbWlwTGV2ZWwgPSBtaXBDb3BpZXM7IG1pcExldmVsID49IDA7IG1pcExldmVsIC09IDEpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBzaXplLndpZHRoID4+IG1pcExldmVsO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBzaXplLmhlaWdodCA+PiBtaXBMZXZlbDtcbiAgICAgICAgY29uc3QgeyBsZXZlbERhdGEgfSA9IGt0eC5sZXZlbHNbbWlwTGV2ZWxdO1xuXG4gICAgICAgIGNvbnN0IHJhd0J5dGVzUGVyUm93ID0gd2lkdGggKiBwaXhlbFNpemU7XG4gICAgICAgIGNvbnN0IGJ5dGVzUGVyUm93ID0gTWF0aC5tYXgocmF3Qnl0ZXNQZXJSb3csIDI1Nik7XG4gICAgICAgIGNvbnN0IHJvd3NQZXJJbWFnZSA9IGhlaWdodDtcbiAgICAgICAgY29uc3QgYnl0ZXNQZXJJbWFnZSA9IHJvd3NQZXJJbWFnZSAqIGJ5dGVzUGVyUm93O1xuXG4gICAgICAgIGxldCBpbWFnZURhdGEgPSBsZXZlbERhdGE7XG4gICAgICAgIGlmIChieXRlc1BlclJvdyA+IHJhd0J5dGVzUGVyUm93KSB7XG4gICAgICAgICAgICBpbWFnZURhdGEgPSBuZXcgVWludDhBcnJheShieXRlc1BlckltYWdlICogdGV4dHVyZS5kZXB0aE9yQXJyYXlMYXllcnMpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBoID0gMDsgaCA8IGhlaWdodCAqIHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzOyBoICs9IDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHJhd0J5dGVzUGVyUm93OyB3ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhW3cgKyBoICogYnl0ZXNQZXJSb3ddID0gbGV2ZWxEYXRhW3cgKyBoICogcmF3Qnl0ZXNQZXJSb3ddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxheWVyQmF0Y2ggPSBNYXRoLm1pbihcbiAgICAgICAgICAgIE1hdGguZmxvb3IoZGV2aWNlLmxpbWl0cy5tYXhCdWZmZXJTaXplIC8gYnl0ZXNQZXJJbWFnZSksXG4gICAgICAgICAgICBrdHguZmFjZUNvdW50LFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBsYXllckNvdW50ID0gTWF0aC5jZWlsKGt0eC5mYWNlQ291bnQgLyBsYXllckJhdGNoKTtcblxuICAgICAgICBmb3IgKGxldCBsID0gMDsgbCA8IGxheWVyQ291bnQ7IGwgKz0gMSkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbCAqIGxheWVyQmF0Y2g7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IE1hdGgubWluKGxheWVyQmF0Y2gsIGt0eC5mYWNlQ291bnQgLSBvZmZzZXQpO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gbGF5ZXJDb3VudCA+IDFcbiAgICAgICAgICAgICAgICA/IGltYWdlRGF0YS5zdWJhcnJheShvZmZzZXQgKiBieXRlc1BlckltYWdlLCAob2Zmc2V0ICsgY291bnQpICogYnl0ZXNQZXJJbWFnZSlcbiAgICAgICAgICAgICAgICA6IGltYWdlRGF0YTtcblxuICAgICAgICAgICAgZGV2aWNlLnF1ZXVlLndyaXRlVGV4dHVyZShcbiAgICAgICAgICAgICAgICB7IG1pcExldmVsLCB0ZXh0dXJlLCBvcmlnaW46IFswLCAwLCBvZmZzZXRdIH0sXG4gICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICB7IGJ5dGVzUGVyUm93LCByb3dzUGVySW1hZ2UgfSxcbiAgICAgICAgICAgICAgICBbd2lkdGgsIGhlaWdodCwgY291bnRdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0ZXh0dXJlO1xufVxuXG5leHBvcnQgdHlwZSBUZXh0dXJlVG9BcnJheUJ1ZmZlck9wdGlvbnMgPSB7XG4gICAgZGV2aWNlOiBHUFVEZXZpY2UsXG4gICAgdGV4dHVyZTogR1BVVGV4dHVyZSxcbiAgICBtaXBMZXZlbD86IG51bWJlcixcbiAgICByZXN1bHRCdWZmZXI/OiBVaW50OEFycmF5LFxuICAgIHN0b3JhZ2VCdWZmZXI/OiBHUFVCdWZmZXIsXG4gICAgcmV0dXJuQnVmZmVyPzogYm9vbGVhbixcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZyxcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXh0dXJlVG9BcnJheUJ1ZmZlcihcbiAgICBvcHRpb25zOiBPbWl0PFRleHR1cmVUb0FycmF5QnVmZmVyT3B0aW9ucywgJ3JldHVybkJ1ZmZlcic+ICYgeyByZXR1cm5CdWZmZXI/OiBmYWxzZSB9LFxuKTogUHJvbWlzZTx7IGltYWdlRGF0YTogVWludDhBcnJheSB9PjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRleHR1cmVUb0FycmF5QnVmZmVyKFxuICAgIG9wdGlvbnM6IE9taXQ8VGV4dHVyZVRvQXJyYXlCdWZmZXJPcHRpb25zLCAncmV0dXJuQnVmZmVyJz4gJiB7IHJldHVybkJ1ZmZlcjogdHJ1ZSB9LFxuKTogUHJvbWlzZTx7IGltYWdlRGF0YTogVWludDhBcnJheSwgc3RvcmFnZUJ1ZmZlcjogR1BVQnVmZmVyIH0+O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdGV4dHVyZVRvQXJyYXlCdWZmZXIoe1xuICAgIGRldmljZSxcbiAgICB0ZXh0dXJlLFxuICAgIG1pcExldmVsID0gMCxcbiAgICByZXR1cm5CdWZmZXIsXG4gICAgc3RvcmFnZUJ1ZmZlcixcbiAgICByZXN1bHRCdWZmZXIsXG4gICAgZGVzY3JpcHRpb24sXG59OiBUZXh0dXJlVG9BcnJheUJ1ZmZlck9wdGlvbnMpIHtcbiAgICBjb25zdCBwaXhlbFNpemUgPSBUZXh0dXJlRm9ybWF0VG9TaXplW3RleHR1cmUuZm9ybWF0XTtcbiAgICBjb25zdCBmdWxsRGVzY3JpcHRpb24gPSBwYWRUZW1wbGF0ZWBbdGV4dHVyZVRvS1RYJHtkZXNjcmlwdGlvbn0ke3RleHR1cmUubGFiZWx9XSAtLWA7XG5cbiAgICBpZiAocGl4ZWxTaXplID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2Z1bGxEZXNjcmlwdGlvbn0gZm9ybWF0ICR7dGV4dHVyZS5mb3JtYXR9IHVuc3VwcG9ydGVkYCk7XG4gICAgfVxuXG4gICAgY29uc3Qgd2lkdGggPSB0ZXh0dXJlLndpZHRoID4+IG1pcExldmVsO1xuICAgIGNvbnN0IGhlaWdodCA9IHRleHR1cmUuaGVpZ2h0ID4+IG1pcExldmVsO1xuICAgIGNvbnN0IHJhd0J5dGVzUGVyUm93ID0gd2lkdGggKiBwaXhlbFNpemU7XG4gICAgY29uc3QgYnl0ZXNQZXJSb3cgPSBNYXRoLm1heChyYXdCeXRlc1BlclJvdywgMjU2KTtcbiAgICBjb25zdCByb3dzUGVySW1hZ2UgPSBoZWlnaHQ7XG4gICAgY29uc3QgYnl0ZVNpemUgPSByb3dzUGVySW1hZ2UgKiBieXRlc1BlclJvdyAqIHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzO1xuICAgIGNvbnN0IHJlc3VsdFNpemUgPSByYXdCeXRlc1BlclJvdyAqIGhlaWdodCAqIHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzO1xuXG4gICAgaWYgKHJlc3VsdEJ1ZmZlciAhPSBudWxsICYmIHJlc3VsdEJ1ZmZlci5ieXRlTGVuZ3RoIDwgYnl0ZVNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2Z1bGxEZXNjcmlwdGlvbn0gZ2l2ZW4gcmVzdWx0IGFycmF5IG5vdCBsYXJnZSBlbm91Z2guXG4ke3Jlc3VsdEJ1ZmZlci5ieXRlTGVuZ3RofSA8ICR7Ynl0ZVNpemV9YCk7XG4gICAgfVxuXG4gICAgaWYgKHN0b3JhZ2VCdWZmZXIgIT0gbnVsbCAmJiBzdG9yYWdlQnVmZmVyLnNpemUgPCBieXRlU2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZnVsbERlc2NyaXB0aW9ufSBnaXZlbiBzdG9yYWdlIGJ1ZmZlciBub3QgbGFyZ2UgZW5vdWdoLlxuJHtzdG9yYWdlQnVmZmVyLnNpemV9IDwgJHtieXRlU2l6ZX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXF1aXJlZFVzYWdlID0gR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QgfCBHUFVCdWZmZXJVc2FnZS5NQVBfUkVBRDtcblxuICAgIGlmIChzdG9yYWdlQnVmZmVyICE9IG51bGwgJiYgKHN0b3JhZ2VCdWZmZXIudXNhZ2UgJiByZXF1aXJlZFVzYWdlKSAhPT0gcmVxdWlyZWRVc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZnVsbERlc2NyaXB0aW9ufSBnaXZlbiBzdG9yYWdlIGRvZXMgbm90IGhhdmUgY29ycmVjdCB1c2FnZSBmbGFncy5cbkdpdmVuOiAke3N0b3JhZ2VCdWZmZXIudXNhZ2V9XG5SZXF1aXJlZDogJHtyZXF1aXJlZFVzYWdlfWApO1xuICAgIH1cblxuICAgIGxldCBpbWFnZURhdGEgPSByZXN1bHRCdWZmZXIgPz8gbmV3IFVpbnQ4QXJyYXkoYnl0ZVNpemUpO1xuICAgIGNvbnN0IHN0b3JhZ2UgPSBzdG9yYWdlQnVmZmVyID8/IGRldmljZS5jcmVhdGVCdWZmZXIoe1xuICAgICAgICBsYWJlbDogYCR7ZnVsbERlc2NyaXB0aW9ufSBzdG9yYWdlIGJ1ZmZlcmAsXG4gICAgICAgIHNpemU6IGJ5dGVTaXplLFxuICAgICAgICB1c2FnZTogcmVxdWlyZWRVc2FnZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGVuY29kZXIgPSBkZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoeyBsYWJlbDogYCR7ZnVsbERlc2NyaXB0aW9ufSBlbmNvZGVyYCB9KTtcbiAgICBlbmNvZGVyLmNvcHlUZXh0dXJlVG9CdWZmZXIoXG4gICAgICAgIHsgdGV4dHVyZSwgbWlwTGV2ZWwgfSxcbiAgICAgICAgeyBidWZmZXI6IHN0b3JhZ2UsIHJvd3NQZXJJbWFnZSwgYnl0ZXNQZXJSb3cgfSxcbiAgICAgICAgeyB3aWR0aCwgaGVpZ2h0LCBkZXB0aE9yQXJyYXlMYXllcnM6IHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzIH0sXG4gICAgKTtcbiAgICBkZXZpY2UucXVldWUuc3VibWl0KFtlbmNvZGVyLmZpbmlzaCgpXSk7XG5cbiAgICBhd2FpdCBkZXZpY2UucXVldWUub25TdWJtaXR0ZWRXb3JrRG9uZSgpO1xuICAgIGF3YWl0IHN0b3JhZ2UubWFwQXN5bmMoR1BVTWFwTW9kZS5SRUFELCAwLCBieXRlU2l6ZSk7XG5cbiAgICBjb25zdCBtYXBwZWQgPSBzdG9yYWdlLmdldE1hcHBlZFJhbmdlKDAsIGJ5dGVTaXplKTtcbiAgICBpbWFnZURhdGEuc2V0KG5ldyBVaW50OEFycmF5KG1hcHBlZCkpO1xuICAgIHN0b3JhZ2UudW5tYXAoKTtcblxuICAgIGlmIChieXRlc1BlclJvdyA+IHJhd0J5dGVzUGVyUm93KSB7XG4gICAgICAgIGZvciAobGV0IGggPSAwOyBoIDwgaGVpZ2h0ICogdGV4dHVyZS5kZXB0aE9yQXJyYXlMYXllcnM7IGggKz0gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgdyA9IDA7IHcgPCByYXdCeXRlc1BlclJvdzsgdyArPSAxKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhW3cgKyBoICogcmF3Qnl0ZXNQZXJSb3ddID0gaW1hZ2VEYXRhW3cgKyBoICogYnl0ZXNQZXJSb3ddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGltYWdlRGF0YSA9IGltYWdlRGF0YS5zbGljZSgwLCByZXN1bHRTaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbWFnZURhdGEsXG4gICAgICAgIHN0b3JhZ2VCdWZmZXI6IHJldHVybkJ1ZmZlciA/IHN0b3JhZ2UgOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRleHR1cmVUb0tUWChkZXZpY2U6IEdQVURldmljZSwgdGV4dHVyZTogR1BVVGV4dHVyZSwgY3ViZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgcGl4ZWxTaXplID0gVGV4dHVyZUZvcm1hdFRvU2l6ZVt0ZXh0dXJlLmZvcm1hdF07XG5cbiAgICBpZiAocGl4ZWxTaXplID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0ZXh0dXJlVG9LVFggLS0gZm9ybWF0ICR7dGV4dHVyZS5mb3JtYXR9IG9mICR7dGV4dHVyZS5sYWJlbH0gdW5zdXBwb3J0ZWRgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcga3R4cGFyc2UuS1RYMkNvbnRhaW5lcigpO1xuICAgIGNvbnRhaW5lci5waXhlbFdpZHRoID0gdGV4dHVyZS53aWR0aDtcbiAgICBjb250YWluZXIucGl4ZWxIZWlnaHQgPSB0ZXh0dXJlLmhlaWdodDtcbiAgICAoY29udGFpbmVyLnZrRm9ybWF0IGFzIG51bWJlcikgPSBXZWJHUFVUb1ZrRm9ybWF0W3RleHR1cmUuZm9ybWF0XSE7XG4gICAgY29udGFpbmVyLnR5cGVTaXplID0gVGV4dHVyZUZvcm1hdFRvQ2hhbm5lbFNpemVbdGV4dHVyZS5mb3JtYXRdITtcbiAgICBkZWxldGUgY29udGFpbmVyLmtleVZhbHVlLktUWHN3aXp6bGU7XG5cbiAgICBjb25zdCBkYXRhRm9ybWF0ID0gY29udGFpbmVyLmRhdGFGb3JtYXREZXNjcmlwdG9yWzBdO1xuICAgIGRhdGFGb3JtYXQuY29sb3JNb2RlbCA9IGt0eHBhcnNlLktIUl9ERl9NT0RFTF9SR0JTREE7XG4gICAgZGF0YUZvcm1hdC50cmFuc2ZlckZ1bmN0aW9uID0ga3R4cGFyc2UuS0hSX0RGX1RSQU5TRkVSX0xJTkVBUjtcbiAgICBkYXRhRm9ybWF0LmJ5dGVzUGxhbmVbMF0gPSBwaXhlbFNpemU7XG5cbiAgICBkYXRhRm9ybWF0LnNhbXBsZXMgPSBbMCwgMSwgMiwgM10ubWFwKChpKSA9PiAoe1xuICAgICAgICBjaGFubmVsVHlwZTogWzE5MiwgMTkzLCAxOTQsIDIwN11baV0sXG4gICAgICAgIHNhbXBsZVBvc2l0aW9uOiBbMCwgMCwgMCwgMF0sXG4gICAgICAgIGJpdExlbmd0aDogY29udGFpbmVyLnR5cGVTaXplICogOCAtIDEsXG4gICAgICAgIGJpdE9mZnNldDogY29udGFpbmVyLnR5cGVTaXplICogOCAqIGksXG4gICAgICAgIHNhbXBsZUxvd2VyOiAtMTA4MjEzMDQzMixcbiAgICAgICAgc2FtcGxlVXBwZXI6IDEwNjUzNTMyMTYsXG4gICAgfSkpO1xuXG4gICAgaWYgKHRleHR1cmUuZGltZW5zaW9uID09PSAnM2QnKSB7XG4gICAgICAgIGNvbnRhaW5lci5mYWNlQ291bnQgPSAxO1xuICAgICAgICBjb250YWluZXIucGl4ZWxEZXB0aCA9IHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzO1xuICAgIH0gZWxzZSBpZiAoY3ViZSkge1xuICAgICAgICBjb25zdCBjdWJlTGF5ZXJzID0gdGV4dHVyZS5kZXB0aE9yQXJyYXlMYXllcnMgLyA2O1xuICAgICAgICBjb250YWluZXIubGF5ZXJDb3VudCA9IGN1YmVMYXllcnMgPT09IDEgPyAwIDogY3ViZUxheWVycztcbiAgICAgICAgY29udGFpbmVyLmZhY2VDb3VudCA9IDY7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyLmxheWVyQ291bnQgPSB0ZXh0dXJlLmRlcHRoT3JBcnJheUxheWVycztcbiAgICAgICAgY29udGFpbmVyLmZhY2VDb3VudCA9IDE7XG4gICAgfVxuXG4gICAgbGV0IHN0b3JhZ2VCdWZmZXI6IEdQVUJ1ZmZlciB8IHVuZGVmaW5lZDtcbiAgICBsZXQgaW1hZ2VEYXRhOiBVaW50OEFycmF5O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0dXJlLm1pcExldmVsQ291bnQ7IGkgKz0gMSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAoeyBpbWFnZURhdGEsIHN0b3JhZ2VCdWZmZXIgfSA9IGF3YWl0IHRleHR1cmVUb0FycmF5QnVmZmVyKHtcbiAgICAgICAgICAgIG1pcExldmVsOiBpLFxuICAgICAgICAgICAgcmV0dXJuQnVmZmVyOiB0cnVlLFxuICAgICAgICAgICAgZGV2aWNlLFxuICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgIHN0b3JhZ2VCdWZmZXIsXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb250YWluZXIubGV2ZWxzLnB1c2goe1xuICAgICAgICAgICAgbGV2ZWxEYXRhOiBpbWFnZURhdGEsXG4gICAgICAgICAgICB1bmNvbXByZXNzZWRCeXRlTGVuZ3RoOiBpbWFnZURhdGEuYnl0ZUxlbmd0aCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGt0eHBhcnNlLndyaXRlKGNvbnRhaW5lcik7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/data-copy.ts\n");

/***/ }),

/***/ "./public/environment-maps/leland-market.ktx2":
/*!****************************************************!*\
  !*** ./public/environment-maps/leland-market.ktx2 ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "e17791c0693ab4a8220f.ktx2";

/***/ }),

/***/ "./public/environment-maps/papermill.ktx2":
/*!************************************************!*\
  !*** ./public/environment-maps/papermill.ktx2 ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "9415fdbc706f67f268b7.ktx2";

/***/ }),

/***/ "./public/environment-maps/shoreline.ktx2":
/*!************************************************!*\
  !*** ./public/environment-maps/shoreline.ktx2 ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "cbc03dc5dc89564ca7ef.ktx2";

/***/ })

}]);