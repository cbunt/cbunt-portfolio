{"version":3,"file":"434.bundle.js","mappings":"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","sources":["webpack://cbunt-portfolio/./src/components/core/link.tsx","webpack://cbunt-portfolio/./src/components/page-elements/sample-select.tsx","webpack://cbunt-portfolio/./src/components/page-elements/navbar.tsx","webpack://cbunt-portfolio/./src/components/page-elements/page-wrapper.tsx","webpack://cbunt-portfolio/./src/components/core/hooks.tsx","webpack://cbunt-portfolio/./src/components/core/checkbox.tsx","webpack://cbunt-portfolio/./src/components/core/button.tsx","webpack://cbunt-portfolio/./src/components/core/file-upload.tsx","webpack://cbunt-portfolio/./src/components/core/slider.tsx","webpack://cbunt-portfolio/./src/components/viewport/settings-panel.tsx","webpack://cbunt-portfolio/./src/components/viewport/model-settings-gui.tsx","webpack://cbunt-portfolio/./src/components/viewport/fullscreen-button.tsx","webpack://cbunt-portfolio/./src/rendering/camera/orbit-camera-controller.ts","webpack://cbunt-portfolio/./src/rendering/camera/index.ts","webpack://cbunt-portfolio/./src/components/viewport/viewport.tsx","webpack://cbunt-portfolio/./src/components/viewport/support-check.tsx","webpack://cbunt-portfolio/./src/components/page-elements/codemirror-theme.ts","webpack://cbunt-portfolio/./src/components/page-elements/sample-wrapper.tsx","webpack://cbunt-portfolio/./src/rendering/camera/camera.ts","webpack://cbunt-portfolio/./src/samples/settings/property-listener.ts","webpack://cbunt-portfolio/./src/utils/frontend.ts"],"sourcesContent":["import styled from 'styled-components';\r\nimport Distortion from 'react-distortion';\r\n\r\nconst DistortionLink = styled(Distortion as typeof Distortion<'a'>).attrs({\r\n    forwardedAs: 'a',\r\n    defaultFilter: { disable: true },\r\n    activeFilter: { scale: 7 },\r\n    hoverFilter: {\r\n        animation: 'alternating loop',\r\n        scale: 7,\r\n    },\r\n})`\r\n    transform-origin: center;\r\n    text-decoration: none;\r\n    margin: 1rem 1rem;\r\n    text-shadow: transparent 0px 0px 5px;\r\n\r\n    transition: \r\n        text-shadow 0.5s cubic-bezier(.51,-0.33,.74,.78), \r\n        var(--scale-transition);\r\n\r\n    &:hover {\r\n        transform: scale(1.025);\r\n        text-shadow: currentcolor 0px 0px 5px;\r\n        transition: \r\n            var(--scale-transition), \r\n            text-shadow 0.2s ease-out;\r\n    }\r\n\r\n    &:active {\r\n        transform: scale(0.975);\r\n    }\r\n`;\r\n\r\nexport default DistortionLink;\r\n","import styled from 'styled-components';\r\nimport { useState, useMemo } from 'react';\r\nimport Distortion from 'react-distortion';\r\nimport { DistortBackground } from 'react-distortion/child-elements';\r\nimport DistortionLink from '../core/link';\r\n\r\nconst sampleNames = SAMPLES__.map((sample) => sample.replaceAll('-', ' '));\r\n\r\nconst Container = styled.div<{ $isOpen?: boolean }>`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst LinkContainer = styled(Distortion).attrs<{ $isOpen: boolean }>({\r\n    defaultFilter: {\r\n        disable: true,\r\n        scale: 10,\r\n        baseFrequency: 0.02,\r\n    },\r\n    distortChildren: DistortBackground,\r\n})`\r\n    transition: height 300ms ease-out;\r\n    display: ${({ $isOpen }) => $isOpen ? 'flex' : 'none'};\r\n    \r\n    width: 100vh;\r\n    justify-content: space-evenly;\r\n    \r\n    transform: rotate(90deg);\r\n    writing-mode: initial;\r\n    position: absolute;\r\n    top: 0;\r\n    transform-origin: top left;\r\n    \r\n    font-weight: bold;\r\n    font-size: 1.4rem;\r\n\r\n    a {\r\n        padding: 0.5rem;\r\n        margin: 0.5rem;\r\n        white-space: nowrap;\r\n        color: var(--accent-1);\r\n    }\r\n\r\n    div {\r\n        background-color: var(--secondary-color);\r\n    }\r\n`;\r\n\r\nconst Button = styled(DistortionLink).attrs({\r\n    forwardedAs: 'button',\r\n})`\r\n    text-transform: uppercase;\r\n    border: none;\r\n    background: none;\r\n    padding: 0;\r\n\r\n    color: inherit !important;\r\n\r\n    font: inherit;\r\n    cursor: pointer;\r\n`;\r\n\r\nconst Link = styled(DistortionLink)`\r\n    display: flex;\r\n    text-transform: uppercase;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n\r\n    &, &:visited {\r\n        color: light-dark(var(--accent-3), var(--accent-1)) !important;\r\n    }\r\n`;\r\n\r\nexport default function SampleSelect() {\r\n    const [linksOpen, setLinksOpen] = useState(false);\r\n    const [locked, setLocked] = useState(false);\r\n\r\n    const items = useMemo(() => sampleNames.map((sample, i) =>\r\n        <Link key={i} href={`/samples/${SAMPLES__[i]}`}>{sample}</Link>,\r\n    ), []);\r\n\r\n    return (\r\n        <Container onMouseLeave={() => { setLinksOpen(locked); }}>\r\n            <Button\r\n                onMouseDown={() => {\r\n                    setLocked((prev) => !prev);\r\n                    setLinksOpen(!locked || linksOpen);\r\n                }}\r\n                onMouseEnter={() => { setLinksOpen(true); }}\r\n                onKeyDown={() => {\r\n                    setLocked((prev) => !prev);\r\n                    setLinksOpen(!locked);\r\n                }}\r\n            >\r\n                Samples\r\n            </Button>\r\n            <LinkContainer $isOpen={linksOpen}>\r\n                {...items}\r\n            </LinkContainer>\r\n        </Container>\r\n    );\r\n}\r\n","import styled from 'styled-components';\n\nimport Distortion from 'react-distortion';\nimport DistortionLink from '../core/link';\nimport SampleSelect from './sample-select';\n\nconst Nav = styled.aside`\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    align-items: center;\n\n    \n    grid-row: span 2;\n    align-self: start;\n    position: sticky;\n    top: 0;\n\n    z-index: 10;\n    height: 100vh;\n    box-sizing: border-box;\n    padding: 2.5rem 0;\n    \n    text-transform: uppercase;\n    font-size: 1.5rem;\n    font-weight: 550;\n\n    writing-mode: vertical-lr;\n    transform: rotate(180deg);\n\n    nav {\n        display: flex;\n        flex-direction: row-reverse;\n    }\n\n    a {\n        font-stretch: 125%;\n    }\n\n    *:nth-child(3n+1) { color: var(--accent-1); }\n    *:nth-child(3n+2) { color: var(--accent-2); }\n    *:nth-child(3n+3) { color: var(--accent-3); }\n`;\n\nconst Icons = styled.div`\n    writing-mode: initial;\n    display: flex;\n    flex-direction: column-reverse;\n\n    a {\n        margin-top: 0;\n        font-family: 'NerdFontsSymbols Nerd Font';\n        rotate: 180deg;\n    }\n`;\n\nexport default function NavBar() {\n    return (\n        <Nav>\n            <Distortion\n                style={{\n                    pointerEvents: 'all',\n                    width: '2rem',\n                    transform: 'rotate(180deg)',\n                    aspectRatio: 1,\n                }}\n                defaultFilter={{\n                    baseFrequency: 0.02,\n                    scale: 10,\n                    disable: true,\n                }}\n                hoverFilter={{\n                    animation: 'alternating loop',\n                    scale: 15,\n                }}\n            >\n                <svg\n                    viewBox=\"0 0 100 75\"\n                    fill=\"#00000000\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    version=\"1.1\"\n                    xlinkHref=\"http://www.w3.org/1999/xlink\"\n                    width=\"100%\"\n                    height=\"100%\"\n                >\n                    <defs>\n                        <linearGradient id=\"cyan\" x1=\"0\" y1=\"1\" x2=\"0.75\" y2=\"0.5\">\n                            <stop offset=\"0%\" stopColor=\"var(--accent-2)\" />\n                            <stop offset=\"100%\" stopColor=\"#00000000\" />\n                        </linearGradient>\n                        <linearGradient id=\"yellow\" x1=\"0.5\" y1=\"0\" x2=\"0.5\" y2=\"1\">\n                            <stop offset=\"0%\" stopColor=\"var(--accent-1)\" />\n                            <stop offset=\"100%\" stopColor=\"#00000000\" />\n                        </linearGradient>\n                        <linearGradient id=\"magenta\" x1=\"1\" y1=\"1\" x2=\"0.25\" y2=\"0.5\">\n                            <stop offset=\"0%\" stopColor=\"var(--accent-3)\" />\n                            <stop offset=\"100%\" stopColor=\"#0000\" />\n                        </linearGradient>\n                    </defs>\n                    <polygon style={{ mixBlendMode: 'hard-light' }} fill=\"white\" points=\"0 75, 50 0, 100 75\" />\n                    <polygon style={{ mixBlendMode: 'hard-light' }} fill=\"url(#magenta)\" points=\"0 75, 50 0, 100 75\" />\n                    <polygon style={{ mixBlendMode: 'hard-light' }} fill=\"url(#yellow)\" points=\"0 75, 50 0, 100 75\" />\n                    <polygon style={{ mixBlendMode: 'hard-light' }} fill=\"url(#cyan)\" points=\"0 75, 50 0, 100 75\" />\n                </svg>\n            </Distortion>\n            <nav>\n                <DistortionLink href=\"/\">About</DistortionLink>\n                <SampleSelect />\n                <DistortionLink href=\"/resume\">Resume</DistortionLink>\n            </nav>\n            <Icons>\n                <DistortionLink href=\"https://github.com/cbunt\" target=\"_blank\" rel=\"noreferrer noopener\">{'\\uf092'}</DistortionLink>\n                <DistortionLink href=\"https://www.linkedin.com/in/cbunt\" target=\"_blank\" rel=\"noreferrer noopener\">{'\\udb80\\udf3b'}</DistortionLink>\n                <DistortionLink href=\"mailto:cass@cbunt.ing\">{'\\udb80\\uddee'}</DistortionLink>\n            </Icons>\n        </Nav>\n    );\n}\n","import { ReactNode, StrictMode, JSX } from 'react';\r\nimport { createGlobalStyle } from 'styled-components';\r\n\r\nimport NavBar from './navbar';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    ::-webkit-scrollbar {\r\n        width: 10px;\r\n        height: 10px;\r\n\r\n        &:hover {\r\n            transform: scale(10);\r\n            filter: brightness(1.2);\r\n        }\r\n    }\r\n\r\n    ::-webkit-scrollbar-corner,\r\n    ::-webkit-scrollbar-track {\r\n        background: transparent;\r\n    }\r\n\r\n    ::-webkit-scrollbar-thumb {\r\n        border: 2px solid transparent;\r\n        background-clip: padding-box;\r\n\r\n        background: var(--secondary-color);\r\n        border-radius: 5px;\r\n\r\n        &:hover {\r\n            background: #555;\r\n            border: 0;\r\n        }\r\n    }\r\n\r\n    body {\r\n        font-family: \"Asap\", sans-serif;\r\n\r\n        --scale-bezier: cubic-bezier(0.81, 0, 0.37, 3.69);\r\n        --scale-transition: transform 0.2s cubic-bezier(0.81, 0, 0.37, 3.69);\r\n\r\n        --ok-l2: 0.6;\r\n\r\n        --background-color: #0A102E;\r\n        --hi-vis-color: #DBE4FF;\r\n\r\n        --secondary-color: oklch(from var(--background-color) calc(l * 1.5) calc(c * 1.5) h);\r\n\r\n        --accent-1: #18F7F7;\r\n        --accent-2: #FF61FF;\r\n        --accent-3: #FFFF16;\r\n\r\n        @media (prefers-color-scheme: light) {\r\n            --ok-l2: 1.3;\r\n\r\n            --background-color: #FEF6C7;\r\n            --hi-vis-color: #0c007d;\r\n            --secondary-color: oklch(from var(--background-color) calc(l * 0.95) calc(c * 1.4) h);\r\n\r\n            --accent-1: #D61500;\r\n            --accent-2: #2F8000;\r\n            --accent-3: #034cdf;\r\n        }\r\n        \r\n        @supports (color: oklch(from white l c h)) {\r\n            --hi-vis-gray: oklch(from var(--hi-vis-color) l 0 h);\r\n        }\r\n            \r\n        background-color: var(--background-color);\r\n        color: var(--hi-vis-color);\r\n        margin: 0;\r\n    }\r\n\r\n    :root {\r\n        color-scheme: dark light;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n    }\r\n\r\n    #root {\r\n        display: grid;\r\n        grid-template-rows: 1fr auto;\r\n        grid-template-columns: minmax(min-content, 6rem) auto;\r\n\r\n        min-height: 100vh;\r\n        min-height: 100svh;\r\n    }\r\n\r\n    h1 {\r\n        font-stretch: 125%;\r\n    }\r\n\r\n    h1, h2 {\r\n        margin: 0 0 1rem;\r\n    }\r\n\r\n    a {\r\n        text-decoration: none;\r\n        color: light-dark(var(--accent-3), var(--accent-1));\r\n       \r\n        &:visited {\r\n            color: var(--accent-2);\r\n        }\r\n    }\r\n\r\n    p {\r\n        max-width: calc(100% - 1rem);\r\n        line-height: 1.75em;\r\n        margin-block-start: 0;\r\n        margin-inline: 1rem;\r\n    }\r\n\r\n    article {\r\n        margin: 1.75rem 0;\r\n    }\r\n\r\n    code {\r\n        font-family: 'Space Mono', monospace;\r\n        color: var(--hi-vis-gray);\r\n        background-color: var(--secondary-color);\r\n        padding: 0 0.3rem;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    main {\r\n        width: min(calc(80vh * 1.66), 100%);\r\n        margin: 0 auto;\r\n        padding-top: 2rem;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    footer {\r\n        font-size: small;\r\n        text-align: center;\r\n        padding: 1.5rem 0;\r\n        font-weight: 200;\r\n    }\r\n`;\r\n\r\nexport type SitePageProps = {\r\n    children: ReactNode,\r\n    extendMainWidth?: boolean,\r\n};\r\n\r\nexport default function SitePage({ children }: SitePageProps): JSX.Element {\r\n    return (\r\n        <StrictMode>\r\n            <GlobalStyle />\r\n            <NavBar />\r\n            <main>{children}</main>\r\n            <footer>MIT Â© 2024</footer>\r\n        </StrictMode>\r\n    );\r\n}\r\n","import { useRef, useState } from 'react';\nimport Distortion, { DistortHandle } from 'react-distortion';\nimport { DistortBackground } from 'react-distortion/child-elements';\n\nconst tooltipStyle = /* css */`\n    .distortion-tooltip {\n        position: fixed;\n        top: 10;\n        left: 0;\n        z-index: 5;\n\n        --background-color: var(--secondary-color);\n        background-color: #0000;\n        color: var(--hi-vis-gray);\n        \n        padding: 12px;\n        max-width: 10rem;\n        width: max-content;\n        \n        border-radius: 8px;\n        font-size: inherit;\n    }\n`;\n\nexport function useTooltip(content?: string) {\n    const distortionRef = useRef<DistortHandle>(null);\n    const [shown, setShown] = useState(false);\n\n    const tooltip = content != null\n        ? (\n                <Distortion\n                    className=\"distortion-tooltip\"\n                    defaultFilter={{\n                        scale: 10,\n                        disable: true,\n                    }}\n                    distortChildren={DistortBackground}\n                    ref={distortionRef}\n                >\n                    <style>{tooltipStyle}</style>\n                    {content}\n                </Distortion>\n            )\n        : undefined;\n\n    const show = () => { setShown(true); };\n\n    const hide = () => {\n        setShown(false);\n        distortionRef.current?.refreshSeed();\n    };\n\n    return [shown ? tooltip : undefined, show, hide] as const;\n}\n","import { ChangeEvent, useState, useId, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport type { ValueKeyCallback } from '../../samples/settings/property-listener';\r\nimport Distortion from 'react-distortion';\r\nimport { useTooltip } from './hooks';\r\n\r\nconst DistortionWrapper = styled(Distortion).attrs({\r\n    defaultFilter: {\r\n        scale: 6,\r\n    },\r\n    hoverFilter: {\r\n        mode: 'alternating loop',\r\n        scale: 4,\r\n    },\r\n    activeFilter: {\r\n        mode: 'static',\r\n        scale: 6,\r\n    },\r\n})`\r\n    --height: 1rem;\r\n\r\n    width: fit-content;\r\n    justify-self: center;\r\n    height: var(--height);\r\n    display: flex;\r\n    border-radius: 10px;\r\n`;\r\n\r\nconst StyledCheckbox = styled.input.attrs({ type: 'checkbox' })`\r\n    appearance: none;\r\n    border-radius: 5px;\r\n    border: max(3.5px, 0.15rem) solid oklch(from var(--accent-2) calc(l * var(--ok-l2)) c h);\r\n    height: 100%;\r\n    aspect-ratio: 1;\r\n    position: relative;\r\n    margin: 0;\r\n    cursor: pointer;\r\n    background-color: var(--background-color);\r\n    transition: \r\n        var(--scale-transition),\r\n        background-color 0.2s ease-out,\r\n        border-color 0.2s ease-out;\r\n\r\n    label:not(:hover) + ${DistortionWrapper}:has(&) {\r\n        input:hover {\r\n            transform: scale(1.05);\r\n        }\r\n        input:active {\r\n            transform: scale(0.95);\r\n        }\r\n    }\r\n\r\n    &:checked {\r\n        background-color: var(--accent-2);\r\n        border-color: var(--accent-2);\r\n    }\r\n\r\n    &:before,\r\n    &:after {\r\n        content: \"\";\r\n        position: absolute;\r\n        background: oklch(from var(--accent-2) calc(l * var(--ok-l2)) c h);\r\n        width: calc(var(--height) * sqrt(2));\r\n        height: max(4px, 0.2rem);\r\n        border-radius: 6px;\r\n        top: -4px;\r\n    }\r\n\r\n    &:before {\r\n        transform: rotate(45deg) scaleX(0);\r\n        transform-origin: left top;\r\n        transition: transform 75ms ease-in 100ms;\r\n        left: 0;\r\n    }\r\n\r\n    &:after {\r\n        transform: rotate(-45deg) scaleX(0);\r\n        transform-origin: right top;\r\n        transition: transform 75ms ease-in;\r\n        right: 0;\r\n    }\r\n\r\n    &:checked:before {\r\n        transform: rotate(45deg) scaleX(1);\r\n        transition: transform 100ms ease-in;\r\n    }\r\n\r\n    &:checked:after {  \r\n        transform: rotate(-45deg) scaleX(1);\r\n        transition: transform 100ms ease-out 150ms;\r\n    }\r\n`;\r\n\r\nexport type CheckboxProps = {\r\n    label: string,\r\n    value: boolean,\r\n    description?: string,\r\n    onChange?: (val: boolean) => void,\r\n    callbacks?: Pick<Set<ValueKeyCallback<CheckboxProps>>, 'add' | 'delete'>,\r\n};\r\n\r\nexport function Checkbox({\r\n    label,\r\n    value: startValue,\r\n    onChange: callback = () => {},\r\n    callbacks,\r\n    description,\r\n}: CheckboxProps) {\r\n    const id = useId();\r\n    const [value, setValue] = useState(startValue);\r\n    const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setValue(e.target.checked);\r\n        callback(e.target.checked);\r\n    };\r\n\r\n    const update = (val: unknown) => {\r\n        if (typeof val === 'boolean' && val !== value) setValue(val);\r\n    };\r\n\r\n    if (callbacks != null) {\r\n        useEffect(() => {\r\n            callbacks.add(update);\r\n            return () => { callbacks.delete(update); };\r\n        });\r\n    }\r\n\r\n    const [tooltip, show, hide] = useTooltip(description);\r\n\r\n    return (\r\n        <>\r\n            <label\r\n                style={{ position: 'relative' }}\r\n                htmlFor={id}\r\n                onMouseEnter={show}\r\n                onMouseLeave={hide}\r\n            >\r\n                {label}\r\n                {tooltip}\r\n            </label>\r\n            <DistortionWrapper tabindex={0}>\r\n                <StyledCheckbox\r\n                    aria-label={label}\r\n                    checked={value}\r\n                    onChange={handleChange}\r\n                    id={id}\r\n                />\r\n            </DistortionWrapper>\r\n            <div />\r\n        </>\r\n    );\r\n}\r\n","import styled from 'styled-components';\r\nimport DistortComponent, { DistortOptions } from 'react-distortion';\r\nimport { DistortBorder } from 'react-distortion/child-elements';\r\n\r\nconst StyledButton = styled(DistortComponent).attrs({\r\n    forwardedAs: 'button',\r\n    type: 'button',\r\n    defaultFilter: {\r\n        disable: true,\r\n        scale: 5,\r\n        baseFrequency: 0.02,\r\n        numOctaves: 1,\r\n    },\r\n    hoverFilter: {\r\n        animation: 'alternating loop',\r\n        scale: 4,\r\n        baseFrequency: 0.01,\r\n    },\r\n    activeFilter: {\r\n        scale: 5,\r\n        baseFrequency: 0.01,\r\n    },\r\n    distortChildren: DistortBorder,\r\n} as DistortOptions)`\r\n    color: var(--accent-3);\r\n    --border-color: var(--accent-3);\r\n    --border-width: max(3px, 0.1rem);\r\n\r\n    border-radius: 3px;\r\n    border: var(--border-width) solid #0000;\r\n\r\n    position: relative;\r\n    grid-column: span 2;\r\n    height: 1.5rem;\r\n\r\n    appearance: none;\r\n    box-shadow: none;\r\n\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    \r\n    background-color: #0000;\r\n    overflow: visible;\r\n\r\n    cursor: pointer;\r\n    user-select: none;\r\n    touch-action: manipulation;\r\n    font-family: inherit;\r\n    font-stretch: inherit;\r\n    font-size:  inherit;\r\n    font-weight: 800;\r\n\r\n    transition: \r\n        font-size 0.1s var(--scale-bezier),\r\n        font-stretch 0.15s var(--scale-bezier),\r\n        var(--scale-transition);\r\n\r\n    &:hover:not(:disabled) {\r\n        transform: scale(1.015);\r\n        font-stretch: 125%;\r\n    }\r\n    \r\n    &:active:not(:disabled) {\r\n        transform: scale(0.995);\r\n        font-stretch: 120%;\r\n    }\r\n\r\n    &:disabled {\r\n        cursor: default;\r\n    } \r\n`;\r\n\r\nexport default StyledButton;\r\n","import { ChangeEvent, ChangeEventHandler, useEffect, useId, useRef, useState, JSX } from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport type { ValueKeyCallback } from '../../samples/settings/property-listener';\r\n\r\nimport StyledButton from './button';\r\nimport Distortion from 'react-distortion';\r\nimport { DistortBackground } from 'react-distortion/child-elements';\r\n\r\nconst ScrollableDropdown = styled(Distortion as typeof Distortion<'div'>).attrs({\r\n    defaultFilter: { disable: true },\r\n    distortChildren: DistortBackground,\r\n})`\r\n    min-height: var(--label-total-height);\r\n    max-height: calc(10 * var(--label-total-height));\r\n    display: flex;\r\n    overflow: hidden;\r\n    position: absolute;\r\n    width: 100%;\r\n\r\n    & > div:last-of-type {\r\n        background-color: color-mix(in oklab, var(--secondary-color) 85%, var(--hi-vis-gray));\r\n        z-index: 0;\r\n        border-radius: 5px;\r\n    }\r\n`;\r\n\r\nconst LabelContainer = styled.div`\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n\r\n    z-index: 2;\r\n\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: inherit;\r\n\r\n    &::-webkit-scrollbar-thumb {\r\n        background-color:rgb(from var(--accent-3) r g b / 0.75);\r\n    }\r\n`;\r\n\r\nconst SelectContainer = styled.div<{ $disabled?: boolean }>`\r\n    --label-padding-top: 6px;\r\n    --label-padding-bottom: 4px;\r\n    --label-padding: calc(var(--label-padding-bottom) + var(--label-padding-top));\r\n    --label-total-height: calc(1rem + var(--label-padding));\r\n\r\n    min-height: var(--label-total-height);\r\n    max-height: calc(10 * var(--label-total-height));\r\n\r\n    display: flex;\r\n    width: 100%;\r\n    position: relative;\r\n    flex-direction: column;\r\n    color: var(--hi-vis-color);\r\n\r\n    grid-column: span 2;\r\n\r\n    input[type=\"radio\"] {\r\n        display: none;\r\n    }\r\n\r\n    label {\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        transform-origin: center left;\r\n        flex-shrink: 0;\r\n        \r\n        padding: var(--label-padding-top) 10px var(--label-padding-bottom);\r\n        display: none;\r\n        transition: \r\n            transform 0.1s var(--scale-bezier),\r\n            color 0.1s ease-in;\r\n\r\n        &:hover {\r\n            transform: scale(1.05);\r\n        }\r\n\r\n        &:not(:first-of-type) {\r\n            padding-top: 8px;\r\n            padding-bottom: 8px;\r\n        }\r\n\r\n        &:first-of-type {\r\n            display: block;\r\n        }\r\n    }\r\n\r\n    ${({ $disabled }) => ($disabled\r\n        ? css`\r\n            filter: brightness(80%);\r\n        `\r\n        : css`\r\n            cursor: pointer;\r\n\r\n            label {\r\n                cursor: pointer;\r\n            }\r\n\r\n            &::after {\r\n                content: \"\\\\25BC\";\r\n                position: absolute;\r\n                top: 6px;\r\n                right: 8px;\r\n                transition: 0.25s transform ease-in-out;\r\n                pointer-events: none;\r\n            }\r\n\r\n            &:hover:not(:focus) {\r\n                label,\r\n                &::after {\r\n                    color: var(--accent-3);\r\n                }\r\n            }\r\n\r\n            &:focus {\r\n                z-index: 2;\r\n\r\n                label {\r\n                    display: inline-block;\r\n                \r\n                    &:hover {\r\n                        color: var(--accent-3);\r\n                    }\r\n                }\r\n\r\n                &::after {\r\n                    visibility: hidden;\r\n                    transform: rotate(180deg);\r\n                }\r\n\r\n                &:has(label:first-of-type:hover)::after {\r\n                    color: var(--accent-3);\r\n                }\r\n            }`\r\n    )}\r\n`;\r\n\r\nfunction fileToOption(onChange: ChangeEventHandler<HTMLInputElement>) {\r\n    const name = useId();\r\n\r\n    return (keys: string[], selected?: string) => {\r\n        const arr = Array<JSX.Element>(keys.length);\r\n        let idx = 0;\r\n\r\n        for (const key of keys) {\r\n            const checked = key === selected;\r\n\r\n            arr[checked ? 0 : (idx += 1)] = (\r\n                <label style={{ userSelect: 'none' }}>\r\n                    {key.replace(/\\.[^/.]+$/, '')}\r\n                    <input\r\n                        type=\"radio\"\r\n                        name={name}\r\n                        value={key}\r\n                        checked={checked}\r\n                        onChange={onChange}\r\n                    />\r\n                </label>\r\n            );\r\n        }\r\n\r\n        return arr;\r\n    };\r\n}\r\n\r\nexport type FileSelection<T> = {\r\n    value?: string,\r\n    initialValues?: Record<string, T>,\r\n};\r\n\r\nexport type FileUploadProps<T> = {\r\n    label: string,\r\n    accept?: string,\r\n    buttonText?: string,\r\n    value?: T,\r\n    process: (file: File) => T,\r\n    onChange?: ValueKeyCallback<FileUploadProps<T>>,\r\n    selection?: FileSelection<T>,\r\n    callbacks?: Set<ValueKeyCallback<FileUploadProps<T>>>,\r\n};\r\n\r\nexport function FileUpload<T>({\r\n    label,\r\n    process,\r\n    buttonText,\r\n    accept,\r\n    onChange,\r\n    selection,\r\n    callbacks,\r\n}: FileUploadProps<T>) {\r\n    const [selected, setSelected] = useState(selection?.value);\r\n    const inputRef = useRef<null | HTMLInputElement>(null);\r\n    const selectionRef = useRef<null | HTMLDivElement>(null);\r\n    const files = useRef(selection?.initialValues ?? {});\r\n\r\n    useEffect(() => {\r\n        if (!selected) return;\r\n        onChange?.(files.current[selected], 'value');\r\n    }, []);\r\n\r\n    const handleSelection = (e: ChangeEvent<HTMLInputElement> | string) => {\r\n        const name = typeof e === 'string' ? e : e.currentTarget.value;\r\n        if (name === selected) {\r\n            if (document.activeElement === selectionRef.current) selectionRef.current?.blur();\r\n            return;\r\n        }\r\n\r\n        selectionRef.current?.blur();\r\n        setSelected(name);\r\n        onChange?.(files.current[name], 'value');\r\n    };\r\n\r\n    const createLabels = fileToOption(handleSelection);\r\n    const fullButtonText = buttonText ?? `Upload ${accept ?? 'file'}`;\r\n    const selectEnabled = Object.keys(files.current).length > 1;\r\n\r\n    function update<K extends keyof FileUploadProps<T>>(changed: FileUploadProps<T>[K], key: K) {\r\n        if (key !== 'selection' || changed == null) return;\r\n        const { value: newValue, initialValues: newValues } = changed as NonNullable<FileUploadProps<T>['selection']>;\r\n\r\n        if (\r\n            newValue == null\r\n            || newValues?.[newValue] == null\r\n            || newValue === selected\r\n            || newValues[newValue] === files.current[newValue]\r\n        ) return;\r\n\r\n        files.current[newValue] = newValues[newValue];\r\n        setSelected(newValue);\r\n    };\r\n\r\n    if (callbacks != null) {\r\n        useEffect(() => {\r\n            callbacks.add(update);\r\n            return () => { callbacks.delete(update); };\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <label style={{ gridRow: 'span 2' }}>{label}</label>\r\n            <StyledButton onClick={() => { inputRef.current?.click(); }}>\r\n                {fullButtonText}\r\n                <input\r\n                    type=\"file\"\r\n                    style={{ display: 'none' }}\r\n                    ref={inputRef}\r\n                    accept={accept}\r\n                    onInput={(e) => {\r\n                        const file = e.currentTarget.files?.[0];\r\n                        if (file == null) return;\r\n                        files.current[file.name] = process(file);\r\n                        handleSelection(file.name);\r\n                    }}\r\n                />\r\n            </StyledButton>\r\n            <SelectContainer\r\n                ref={selectionRef}\r\n                tabIndex={selectEnabled ? 0 : undefined}\r\n                $disabled={!selectEnabled}\r\n            >\r\n                <ScrollableDropdown>\r\n                    <LabelContainer>\r\n                        {...createLabels(Object.keys(files.current), selected)}\r\n                    </LabelContainer>\r\n                </ScrollableDropdown>\r\n            </SelectContainer>\r\n        </>\r\n    );\r\n}\r\n","import { ChangeEvent, useState, useId, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Distortion, { DistortHandle } from 'react-distortion';\r\nimport { DistortBackground } from 'react-distortion/child-elements';\r\nimport { useTooltip } from './hooks';\r\n\r\nimport { clamp } from '../../utils/general';\r\nimport { ValueKeyCallback } from '../../samples/settings/property-listener';\r\n\r\nconst StyledSlider = styled.input.attrs({ type: 'range' })`\r\n    --brightness-hover: 70%;\r\n    --track-color: var(--accent-2);\r\n    --slider-color: oklch(from var(--track-color) calc(l * var(--ok-l2)) calc(c * 0.6) h);\r\n\r\n    border-radius: 4px;\r\n    border: solid max(2.5px, 0.1rem) var(--track-color);\r\n\r\n    background: #0000;\r\n    transition: \r\n        background-color 0.3s,\r\n        var(--scale-transition);\r\n\r\n    color: var(--slider-color);\r\n    appearance: none;\r\n    overflow: hidden;\r\n    height: max(12px, 0.7rem);\r\n    width: 100%;\r\n    cursor: ew-resize;\r\n\r\n    label:not(:hover) + div:has(&) {\r\n        input:hover {\r\n            transform: scale(1.02);\r\n\r\n            &::-webkit-slider-thumb {\r\n                color: color-mix(in oklch, var(--slider-color) 50%, var(--track-color));\r\n            }\r\n\r\n            &::-moz-range-progress {\r\n                color: color-mix(in oklch, var(--slider-color) 50%, var(--track-color));\r\n            }\r\n        }\r\n\r\n        input:active {\r\n            transform: scale(0.98);\r\n        }\r\n    }\r\n\r\n    /* === WebKit specific styles === */\r\n    &::-webkit-slider-thumb {\r\n        transition: all 0.3s;\r\n        width: 0;\r\n        appearance: inherit;\r\n        box-shadow: calc(-100vmax + 2px) 0 0\r\n        100vmax currentcolor;\r\n        filter: inherit;\r\n    }\r\n\r\n    /* === Firefox specific styles === */\r\n    &::-moz-range-track,\r\n    &::-moz-range-thumb {\r\n        visibility: hidden;\r\n    }\r\n\r\n    &::-moz-range-progress {\r\n        background: currentcolor;\r\n        transition: all 0.3s;\r\n        height: 100%;\r\n    }\r\n`;\r\n\r\nconst ValueTextContainer = styled(Distortion).attrs({\r\n    defaultFilter: {\r\n        scale: 7,\r\n        disable: true,\r\n    },\r\n    distortChildren: DistortBackground,\r\n    minRefresh: 200,\r\n})`\r\n    width: 100%;\r\n    position: relative;\r\n    border-radius: 3px;\r\n    background-color: #0000;\r\n\r\n    &:has(*:focus-visible) > div {\r\n        outline: 2px solid var(--hi-vis-gray);\r\n    }\r\n`;\r\n\r\nconst ValueTextInput = styled.input.attrs({ type: 'number' })`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 100%;\r\n    font: inherit;\r\n    color: inherit;\r\n    appearance: none;\r\n    border: none;\r\n    border-radius: 3px;\r\n    padding-left: 6px;\r\n    background-color: inherit;\r\n    caret-color: var(--hi-vis-gray);\r\n\r\n    &::-webkit-inner-spin-button {\r\n        appearance: none;\r\n    }\r\n\r\n    &:focus-visible {\r\n        outline: none;\r\n    }\r\n`;\r\n\r\nconst DistortionWrapper = styled(Distortion).attrs({\r\n    hoverFilter: {\r\n        mode: 'alternating loop',\r\n        baseFrequency: 0.02,\r\n        scale: 6,\r\n    },\r\n    activeFilter: {\r\n        mode: 'static',\r\n        baseFrequency: 0.02,\r\n        scale: 6,\r\n    },\r\n    tabIndex: 0,\r\n})`\r\n    display: flex;\r\n`;\r\n\r\nexport type SliderState = {\r\n    min: number,\r\n    max: number,\r\n    step: number,\r\n    value: number,\r\n};\r\n\r\nexport type SliderProps = {\r\n    label: string,\r\n    onChange?: (val: number) => void,\r\n    callbacks?: Set<ValueKeyCallback<SliderProps>>,\r\n    description?: string,\r\n} & Partial<SliderState>;\r\n\r\nexport function Slider({\r\n    label,\r\n    onChange: callback,\r\n    min = 0,\r\n    max = 10,\r\n    step = 1,\r\n    value = 5,\r\n    description,\r\n    callbacks,\r\n}: SliderProps) {\r\n    const id = useId();\r\n    const [sliderState, setSliderState] = useState({ min, max, step, value });\r\n    const distortionRef = useRef<DistortHandle>(null);\r\n\r\n    const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        let newVal = e.target.value !== '' ? parseFloat(e.target.value) : sliderState.min;\r\n        newVal = clamp(newVal, sliderState.min, sliderState.max);\r\n        if (newVal === sliderState.value) return;\r\n        setSliderState({ ...sliderState, value: newVal });\r\n        callback?.(newVal);\r\n        distortionRef.current?.refreshSeed();\r\n    };\r\n\r\n    function update<K extends keyof SliderProps>(val: SliderProps[K], key: K) {\r\n        if (key !== 'max' && key !== 'min' && key !== 'value' && key !== 'step') return;\r\n        if (sliderState[key as keyof SliderState] === val) return;\r\n        setSliderState((current) => ({ ...current, [key]: val }));\r\n    }\r\n\r\n    if (callbacks != null) {\r\n        useEffect(() => {\r\n            callbacks.add(update);\r\n            return () => { callbacks.delete(update); };\r\n        });\r\n    }\r\n\r\n    const [tooltip, show, hide] = useTooltip(description);\r\n\r\n    return (\r\n        <>\r\n            {tooltip}\r\n            <label\r\n                style={{ position: 'relative' }}\r\n                htmlFor={id}\r\n                onMouseEnter={show}\r\n                onMouseLeave={hide}\r\n            >\r\n                {label}\r\n            </label>\r\n            <DistortionWrapper ref={distortionRef}>\r\n                <StyledSlider\r\n                    aria-label={`${label}-slider`}\r\n                    onChange={onChange}\r\n                    {...sliderState}\r\n                />\r\n            </DistortionWrapper>\r\n            <ValueTextContainer>\r\n                <ValueTextInput {...sliderState} id={id} aria-label={`${label}-text-input`} onChange={onChange} />\r\n            </ValueTextContainer>\r\n        </>\r\n    );\r\n}\r\n","import { useId, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Draggable from 'react-draggable';\r\nimport { Collapse } from '@kunukn/react-collapse';\r\n\r\nimport { StyledButton } from '../core';\r\nimport Distortion, { DistortHandle } from 'react-distortion';\r\nimport { DistortBackground } from 'react-distortion/child-elements';\r\n\r\nconst GUIContainer = styled(Collapse).attrs({ elementType: 'form' })`\r\n    display: grid;\r\n    grid-template-columns: minmax(4rem, auto) minmax(4rem, 0.6fr) minmax(3rem, 0.3fr);\r\n    column-gap: 6px;\r\n    align-items: center;\r\n\r\n    transition: \r\n        height 300ms cubic-bezier(0.4, 0, 0.2, 1),\r\n        var(--scale-transition);\r\n\r\n    & > * {\r\n        margin-top: max(8px, 0.3rem);\r\n    }\r\n\r\n    & > label {\r\n        user-select: none;\r\n        margin-top: 0;\r\n        padding-top: max(8px, 0.3rem);\r\n        padding-left: max(6px, 0.3rem);\r\n        padding-right: max(6px, 0.3rem);\r\n    }\r\n\r\n    & > label:hover:has(+ [role=tooltip]) {\r\n        transform: rotate(-3deg);\r\n    }\r\n`;\r\n\r\nconst DragHandle = styled.div`\r\n    --mask-width: 0.9rem;\r\n    cursor: move;\r\n    cursor: grab;\r\n    pointer-events: all;\r\n\r\n    width: var(--mask-width);\r\n\r\n    margin: max(14px, 0.5rem) max(8px, 0.25rem);\r\n    transition: \r\n        padding-top 0.3s,\r\n        background-color 0.3s;\r\n\r\n    &:after {\r\n        content: \" \";\r\n        mask-image: url(\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNyA5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPiAgCiAgPGNpcmNsZSBjeD0iMiIgY3k9IjEuNSIgcj0iMSI+PC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iMiIgY3k9IjQuNSIgcj0iMSI+PC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iNSIgY3k9IjEuNSIgcj0iMSI+PC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iNSIgY3k9IjQuNSIgcj0iMSI+PC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iNSIgY3k9IjcuNSIgcj0iMSI+PC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iMiIgY3k9IjcuNSIgcj0iMSI+PC9jaXJjbGU+Cjwvc3ZnPg==\");\r\n        mask-repeat: repeat-y;\r\n        mask-size: var(--mask-width);\r\n        background-color: var(--background-color);\r\n        display: block;\r\n        height: 100%;\r\n        transition: transform 0.3s;\r\n    }\r\n`;\r\n\r\nconst GridContainer = styled.div`\r\n    margin: 12px;\r\n    margin-left: 0;\r\n`;\r\n\r\nconst MainPanel = styled(Distortion).attrs({\r\n    defaultFilter: {\r\n        scale: 7,\r\n        disable: true,\r\n    },\r\n    distortChildren: DistortBackground,\r\n    minRefresh: 200,\r\n})`\r\n    background-color: #0000;\r\n    color: var(--accent-1);\r\n    z-index: 2;\r\n\r\n    font-size: 0.6rem;\r\n    font-weight: 700;\r\n    font-stretch: 115%;\r\n    border-radius: 5px;\r\n\r\n    display: flex;\r\n    position: absolute;\r\n    top: 0.5rem;\r\n    left: 0.5rem;\r\n\r\n    & > div:last-of-type {\r\n        background-color: var(--secondary-color);\r\n        box-shadow: color-mix(in oklch, var(--background-color) 50%, black) 6px 6px 4px;\r\n    }\r\n`;\r\n\r\nconst ToggleLabel = styled(StyledButton).attrs({ forwardedAs: 'label' })`\r\n    width: 100%;\r\n\r\n    &::after {\r\n        transition: content 0.3s;\r\n        content: \"Show Controls\";\r\n    }\r\n    \r\n    &:has(input:checked)::after {\r\n        content: \"Hide Controls\";\r\n    }\r\n`;\r\n\r\nexport default function SettingsPanel({ children }: { children?: React.ReactNode }) {\r\n    const handleId = useId();\r\n    const nodeRef = useRef<HTMLDivElement | null>(null);\r\n    const distortionRef = useRef<DistortHandle>(null);\r\n    const [isOpen, setIsOpen] = useState(true);\r\n\r\n    return (\r\n        <Draggable\r\n            handle={`#${CSS.escape(handleId)}`}\r\n            onDrag={() => distortionRef.current?.refreshSeed()}\r\n            bounds=\"parent\"\r\n            nodeRef={nodeRef}\r\n        >\r\n            <MainPanel ref={distortionRef} forwardedRef={nodeRef}>\r\n                <DragHandle id={handleId} />\r\n                <GridContainer>\r\n                    <ToggleLabel>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            style={{ position: 'absolute', top: -9999, left: -9999 }}\r\n                            onInput={() => { setIsOpen((open) => !open); }}\r\n                            checked={isOpen}\r\n                            readOnly\r\n                        />\r\n                    </ToggleLabel>\r\n                    <GUIContainer isOpen={isOpen} overflowOnExpanded>\r\n                        {children}\r\n                    </GUIContainer>\r\n                </GridContainer>\r\n            </MainPanel>\r\n        </Draggable>\r\n    );\r\n}\r\n","import { FileUploadProps, FileUpload, Checkbox, CheckboxProps, Slider, SliderProps, StyledButton } from '../core';\r\nimport { ModelSetting } from '../../samples/settings/sample-spec';\r\nimport { ListenerSyms } from '../../samples/settings/property-listener';\r\nimport SettingsPanel from './settings-panel';\r\nimport styled from 'styled-components';\r\nimport { ComponentProps } from 'react';\r\n\r\nexport type ModelSettingsWidgetProps = {\r\n    settings: Record<string, ModelSetting>,\r\n};\r\n\r\nconst WidgetButton = styled(StyledButton)`\r\n    grid-column: span 3; \r\n    color: var(--accent-2); \r\n    --border-color: var(--accent-2);\r\n`;\r\n\r\nexport default function ModelSettingsWidget({ settings }: ModelSettingsWidgetProps) {\r\n    return (\r\n        <SettingsPanel>\r\n            {...Object.entries(settings).map(([label, info]) => {\r\n                const {\r\n                    [ListenerSyms.$type]: _type,\r\n                    [ListenerSyms.$callback]: _privateCallback,\r\n                    [ListenerSyms.$listeners]: callbacks,\r\n                    ...rest\r\n                } = info;\r\n\r\n                const props = {\r\n                    ...rest,\r\n                    callbacks,\r\n                    label,\r\n                    onChange: (val: unknown) => { info.value = val; },\r\n                };\r\n\r\n                switch (info[ListenerSyms.$type]) {\r\n                    case 'button': return <WidgetButton {...rest as ComponentProps<typeof WidgetButton>}>{label}</WidgetButton>;\r\n                    case 'checkbox': return <Checkbox {...props as CheckboxProps} />;\r\n                    case 'slider': return <Slider {...props as SliderProps} />;\r\n                    case 'file': return <FileUpload {...props as FileUploadProps<unknown>} />;\r\n                    default: throw new Error();\r\n                }\r\n            })}\r\n        </SettingsPanel>\r\n    );\r\n}\r\n","import { MutableRefObject, useCallback, useEffect, useState, MouseEvent } from 'react';\r\nimport styled from 'styled-components';\r\nimport { PolymorphicProps, svgToDataURL } from '../../utils/frontend';\r\nimport Distortion from 'react-distortion';\r\n\r\nconst FullscreenStyle = styled(Distortion as typeof Distortion<'button'>).attrs<{ open?: boolean }>({\r\n    forwardedAs: 'button',\r\n    defaultFilter: {\r\n        scale: 3,\r\n    },\r\n    hoverFilter: {\r\n        animation: 'alternating loop',\r\n        scale: 7,\r\n    },\r\n})`\r\n    --open-svg: ${({ open }) => svgToDataURL(`\r\n        <svg width=\"199\" height=\"199\" viewBox=\"-1.62 -1.62 21.24 21.24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentcolor\" stroke=\"currentcolor\" stroke-width=\".738\">\r\n            <defs>\r\n                <path \r\n                    id=\"arrow\"\r\n                    d=\"M7.707 6.242 4.42 2.977 5.71 1.7A1 1 0 0 0 5 0H1a1 1 0 0 0-1 .993v3.97a.98.98 0 0 0 .62.913 1.01 1.01 0 0 0 1.09-.208L3 4.388 6.288 7.65a1.01 1.01 0 0 0 1.42 0 .994.994 0 0 0 0-1.41z\" \r\n                />\r\n            </defs>\r\n        ${open\r\n                ? `\r\n                <use href=\"#arrow\" transform=\"translate(10 10)\"/>\r\n                <use href=\"#arrow\" transform=\"rotate(90 -1 9)\"/>\r\n                <use href=\"#arrow\" transform=\"rotate(-90 9 -1)\"/>\r\n                <use href=\"#arrow\" transform=\"rotate(180 4 4)\"/>`\r\n                : `\r\n                <use href=\"#arrow\"/>\r\n                <use href=\"#arrow\" transform=\"rotate(90 9 9)\"/>\r\n                <use href=\"#arrow\" transform=\"rotate(180 9 9)\"/>\r\n                <use href=\"#arrow\" transform=\"rotate(-90 9 9)\"/>`\r\n        }\r\n        </svg>\r\n    `)};\r\n\r\n    padding: 0;\r\n    appearance: none;\r\n    border: none;\r\n    background: none;\r\n\r\n    display: flex;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    width: 5%;\r\n    min-width: 30px;\r\n    max-width: 65px;\r\n    aspect-ratio: 1;\r\n\r\n    cursor: pointer;\r\n    transform-origin: center;\r\n    transition: var(--scale-transition);\r\n    color: color-mix(in oklab, var(--background-color) 85%, var(--hi-vis-gray));\r\n\r\n    &:before {\r\n        content: \"\";\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #0000;\r\n        background-image: var(--open-svg);\r\n        background-size: cover;\r\n        filter: \r\n            drop-shadow(2px 2px 0px color-mix(in oklab, currentcolor 65%, var(--hi-vis-gray))) \r\n            drop-shadow(-1px -1px 0px color-mix(in oklab, currentcolor 75%, var(--hi-vis-gray)));\r\n    }\r\n\r\n    &:after {\r\n        content: \"\";\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: currentColor;\r\n        mask-image: var(--open-svg);\r\n        mask-size: cover;\r\n    }\r\n\r\n    &:hover {\r\n        transform: scale(1.08);\r\n\r\n        &:before { \r\n            filter: \r\n                drop-shadow(2px 2px 0px var(--accent-3))\r\n                drop-shadow(-1px -1px 0px var(--accent-2));\r\n        }\r\n    }\r\n\r\n    &:active {\r\n        transform: scale(0.98);\r\n    }\r\n`;\r\n\r\nexport type FullscreenButttonProps = PolymorphicProps<undefined, 'button', { element?: MutableRefObject<HTMLElement | null> }>;\r\n\r\nexport default function FullscreenButton({\r\n    element,\r\n    onClick,\r\n    ...rest\r\n}: Omit<FullscreenButttonProps, 'children'>) {\r\n    const checkOpen = useCallback(() => element?.current != null\r\n        && document.fullscreenElement === element.current, [element]);\r\n\r\n    const [open, setOpen] = useState(checkOpen());\r\n\r\n    const listenerHandler = () => { setOpen(checkOpen()); };\r\n\r\n    const handleChange = useCallback((ev: MouseEvent<HTMLButtonElement>) => {\r\n        const check = checkOpen();\r\n        onClick?.(ev);\r\n\r\n        if (element == null || element.current == null) return;\r\n        if (check) void document.exitFullscreen();\r\n        else void element.current.requestFullscreen();\r\n\r\n        setOpen(check);\r\n    }, [checkOpen]);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('fullscreenchange', listenerHandler, false);\r\n        return () => { document.removeEventListener('fullscreenchange', listenerHandler); };\r\n    }, [handleChange]);\r\n\r\n    return <FullscreenStyle type=\"button\" aria-label=\"fullscreen\" onClick={handleChange} {...rest} open={open} />;\r\n}\r\n","import { quat, vec3 } from 'wgpu-matrix';\nimport Camera from './camera';\nimport { clamp } from '../../utils/general';\n\nexport class OrbitCameraController {\n    xSensitivity = 0.25;\n    ySensitivity = 0.25;\n    panSpeed = 0.0005;\n\n    zoomSensitivity = 0.001;\n    minZoomSpeed = 0.1;\n    maxZoomSpeed = 5;\n    minZoom = 0;\n    maxZoom = 50;\n    currentZoom = 2.5;\n    readonly focusPoint = vec3.create();\n\n    rotationY = 0;\n    rotationX = 0;\n    readonly movement = vec3.create();\n\n    constructor(public camera: Camera) { this.update(); }\n\n    rotate(x: number, y: number) {\n        this.rotationY -= x * this.xSensitivity;\n        this.rotationY = (this.rotationY + 360) % 360;\n\n        this.rotationX -= y * this.ySensitivity;\n        this.rotationX = clamp(this.rotationX, -90, 90);\n\n        quat.fromEuler(this.rotationX * (Math.PI / 180), this.rotationY * (Math.PI / 180), 0, 'zyx', this.camera.rotation);\n        this.update();\n    }\n\n    pan(x: number, y: number) {\n        const speed = this.panSpeed * Math.max(this.currentZoom, 0.1);\n        const delta = vec3.transformQuat([x * speed, y * speed, 0], this.camera.rotation);\n        vec3.add(delta, this.focusPoint, this.focusPoint);\n        this.update();\n    }\n\n    zoom(delta: number) {\n        const changeAbs = this.currentZoom * Math.abs(delta) * this.zoomSensitivity;\n        const changeScaled = Math.sign(delta) * clamp(changeAbs, this.minZoomSpeed, this.maxZoomSpeed);\n        this.currentZoom = clamp(this.currentZoom + changeScaled, this.minZoom, this.maxZoom);\n        this.update();\n    }\n\n    update() {\n        const rot = vec3.transformQuat([0, 0, this.currentZoom], this.camera.rotation, []);\n        vec3.add(rot, this.focusPoint, this.camera.location);\n    }\n}\n","import Camera from './camera';\nimport { FpsCameraController } from './fps-camera-controller';\nimport { OrbitCameraController } from './orbit-camera-controller';\n\nexport default Camera;\nexport { FpsCameraController, OrbitCameraController };\n","import { useRef, useEffect, useState, WheelEvent, MouseEvent } from 'react';\r\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\r\nimport styled from 'styled-components';\r\n\r\nimport type Renderer from '../../rendering/renderer';\r\nimport type { LoadModelConstructor, ModelSetting } from '../../samples/settings/sample-spec';\r\n\r\nimport ModelSettingsWidget from './model-settings-gui';\r\nimport FullscreenButton from './fullscreen-button';\r\nimport { OrbitCameraController } from '../../rendering/camera';\r\n\r\nconst ViewportStyle = styled.div`\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    canvas {\r\n        width: 100%;\r\n        height: 100%;\r\n        cursor: grab;\r\n        display: block;\r\n    }\r\n`;\r\n\r\nconst enum MoveState {\r\n    none = 0,\r\n    rotate = 1,\r\n    zoom = 2,\r\n    pan = 4,\r\n}\r\n\r\nexport type ViewportProps = {\r\n    getModelConstructor: LoadModelConstructor,\r\n};\r\n\r\nexport default function Viewport({ getModelConstructor }: ViewportProps) {\r\n    const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    const rendererRef = useRef<Renderer | null>(null);\r\n    const controllerRef = useRef<OrbitCameraController | null>(null);\r\n    const isFocusedRef = useRef(false);\r\n    const canFocus = useRef(true);\r\n    const mainRef = useRef<HTMLDivElement | null>(null);\r\n    const moveRef = useRef(MoveState.none);\r\n    const [settings, setSettings] = useState<Record<string, ModelSetting> | null>(null);\r\n\r\n    const handleMouseMove = (e: globalThis.MouseEvent) => {\r\n        if (controllerRef.current == null) return;\r\n        const controller = controllerRef.current;\r\n        const { movementX: x, movementY: y } = e;\r\n        if (moveRef.current & MoveState.rotate) controller.rotate(x, y);\r\n        if (moveRef.current & MoveState.zoom) controller.zoom(10 * y);\r\n        if (moveRef.current & MoveState.pan) controller.pan(-x, y);\r\n    };\r\n\r\n    const handleMouseDown = (e: MouseEvent) => {\r\n        moveRef.current = e.buttons & 0b111;\r\n        if (!canFocus.current) return;\r\n        void canvasRef.current?.requestPointerLock();\r\n    };\r\n\r\n    const handleMouseUp = (e: MouseEvent) => {\r\n        moveRef.current = e.buttons & 0b111;\r\n        if (moveRef.current !== MoveState.none) return;\r\n        isFocusedRef.current = false;\r\n        document.exitPointerLock();\r\n    };\r\n\r\n    const unlock = () => {\r\n        document.removeEventListener('mousemove', handleMouseMove, false);\r\n        canvasRef.current?.blur();\r\n\r\n        if (canvasRef.current) enableBodyScroll(canvasRef.current);\r\n        if (isFocusedRef.current) {\r\n            isFocusedRef.current = false;\r\n            canFocus.current = false;\r\n            setTimeout(() => { canFocus.current = true; }, 1500);\r\n        }\r\n    };\r\n\r\n    const onWheel = (e: WheelEvent<HTMLCanvasElement>) => {\r\n        if (!isFocusedRef.current) return;\r\n        controllerRef.current?.zoom(e.deltaY);\r\n    };\r\n\r\n    const handleLockChange = () => {\r\n        if (document.pointerLockElement !== canvasRef.current) {\r\n            unlock();\r\n            return;\r\n        }\r\n\r\n        isFocusedRef.current = true;\r\n        if (canvasRef.current) disableBodyScroll(canvasRef.current, { reserveScrollBarGap: true });\r\n        document.addEventListener('mousemove', handleMouseMove, false);\r\n    };\r\n\r\n    const cleanup = () => {\r\n        document.removeEventListener('pointerlockchange', handleLockChange);\r\n        if (isFocusedRef.current) unlock();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current == null) return () => {};\r\n        document.addEventListener('pointerlockchange', handleLockChange, false);\r\n\r\n        if (rendererRef.current == null) {\r\n            // dynamically imported to avoid loading in on unsupported browsers\r\n            void Promise.all([\r\n                import('../../rendering/renderer'),\r\n                getModelConstructor(),\r\n            ]).then(async ([renderer, modelCtor]) => {\r\n                if (canvasRef.current == null) throw new Error('webgpu render -- canvas uninitialized');\r\n\r\n                rendererRef.current = await renderer.default.CreateInitialized(canvasRef.current);\r\n                controllerRef.current = new OrbitCameraController(rendererRef.current.camera);\r\n                const model = new modelCtor(rendererRef.current);\r\n\r\n                setSettings(model.settings);\r\n                requestAnimationFrame(rendererRef.current.render);\r\n            });\r\n        }\r\n\r\n        return cleanup;\r\n    });\r\n\r\n    const settingsWidget = settings != null\r\n        ? (<ModelSettingsWidget settings={settings} />)\r\n        : undefined;\r\n\r\n    return (\r\n        <ViewportStyle ref={mainRef}>\r\n            <FullscreenButton element={mainRef} />\r\n            <canvas\r\n                ref={canvasRef}\r\n                onMouseDown={handleMouseDown}\r\n                onMouseUp={handleMouseUp}\r\n                onWheel={onWheel}\r\n                tabIndex={0}\r\n            />\r\n            {settingsWidget}\r\n        </ViewportStyle>\r\n    );\r\n}\r\n","import styled from 'styled-components';\r\nimport Viewport from './viewport';\r\nimport Distortion from 'react-distortion';\r\nimport { DistortBorder } from 'react-distortion/child-elements';\r\nimport { LoadModelConstructor } from '../../samples/settings/sample-spec';\r\n\r\nconst UnsupportedWarning = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-weight: 500;\r\n    line-height: 1.5;\r\n    background-color: var(--secondary-color);\r\n\r\n    > p { \r\n        margin: 1rem;\r\n    }\r\n`;\r\n\r\nexport const CheckWrapper = styled(Distortion).attrs({\r\n    defaultFilter: {\r\n        disable: true,\r\n        scale: 5,\r\n    },\r\n    distortChildren: DistortBorder,\r\n})`\r\n    --border-width: 10px;\r\n    --border-color: var(--background-color);\r\n\r\n    aspect-ratio: 1.66 / 1;\r\n    position: relative;\r\n    border: 0px solid #0000;\r\n    width: 100%;\r\n`;\r\n\r\nexport type SupportCheckProps = {\r\n    loadModelConstructor: LoadModelConstructor,\r\n};\r\n\r\nexport default function SupportCheck({ loadModelConstructor }: SupportCheckProps) {\r\n    return (\r\n        <CheckWrapper>\r\n            {/* eslint-disable-next-line @typescript-eslint/no-unnecessary-condition */}\r\n            {navigator.gpu?.requestAdapter == null\r\n                ? (\r\n                        <UnsupportedWarning>\r\n                            <p>\r\n                                This browser does not support webgpu.\r\n                                <br />\r\n                                <br />\r\n                                For an up to date list of supported browsers,\r\n                                <br />\r\n                                see\r\n                                {' '}\r\n                                <a href=\"https://caniuse.com/webgpu\">caniuse.com/webgpu</a>\r\n                                .\r\n                            </p>\r\n                        </UnsupportedWarning>\r\n                    )\r\n                : <Viewport getModelConstructor={loadModelConstructor} />}\r\n        </CheckWrapper>\r\n    );\r\n}\r\n","import { createTheme } from '@uiw/codemirror-themes';\nimport { tags as t } from '@lezer/highlight';\n\nexport default createTheme({\n    theme: 'dark',\n    settings: {\n        background: 'var(--background-color)',\n        foreground: 'var(--hi-vis-color)',\n        caret: 'red',\n        selection: '#8884',\n        selectionMatch: '#8880',\n        lineHighlight: '#0000',\n        gutterBackground: 'var(--background-color)',\n        gutterForeground: 'var(--accent-3)',\n        fontFamily: 'Space Mono',\n        fontSize: 'min(2vw, 1rem)',\n    },\n    styles: [\n        { tag: t.propertyName, 'font-style': 'italic' },\n        { tag: t.literal, color: 'var(--accent-3)' },\n        { tag: [t.className, t.typeName], color: 'var(--accent-2)' },\n        { tag: [t.string, t.special(t.brace)], color: 'light-dark(#037b55, #c1fba0)' },\n        {\n            tag: t.comment,\n            color: 'color-mix(in oklab, var(--background-color) 40%, var(--hi-vis-gray))',\n        },\n        {\n            tag: [t.keyword, t.operator],\n            color: 'var(--accent-2)',\n            'font-weight': 'bold',\n        },\n        {\n            tag: [t.brace, t.bracket, t.paren, t.angleBracket],\n            color: 'var(--accent-3)',\n            'font-weight': 'bold',\n        },\n        {\n            tag: [t.function(t.propertyName), t.function(t.variableName)],\n            color: 'var(--accent-1)',\n            'font-weight': 'bold',\n        },\n    ],\n});\n","import { ReactNode } from 'react';\r\nimport CodeMirror from '@uiw/react-codemirror';\r\nimport { javascript } from '@codemirror/lang-javascript';\r\n\r\nimport type { LoadModelConstructor } from '../../samples/settings/sample-spec';\r\n\r\nimport SitePage from './page-wrapper';\r\nimport SupportCheck from '../viewport/support-check';\r\nimport styled from 'styled-components';\r\nimport theme from './codemirror-theme';\r\nimport Distortion from 'react-distortion';\r\nimport { DistortBorder } from 'react-distortion/child-elements';\r\n\r\nconst CodeContainer = styled(Distortion).attrs({\r\n    defaultFilter: { disable: true },\r\n    distortChildren: DistortBorder,\r\n})`\r\n    position: relative;\r\n    --border-color: var(--secondary-color);\r\n    --border-width: 5px;\r\n    border-style: solid;\r\n    border-color: #0000;\r\n\r\n    display: flex;\r\n    border-radius: 6px;\r\n\r\n    > div:first-of-type {\r\n        flex-grow: 1;\r\n        width: 0;\r\n        overscroll-behavior: contain;\r\n        margin: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst NameHeader = styled.h1`\r\n    text-transform: capitalize;\r\n`;\r\n\r\nexport type SampleWrapperProps = {\r\n    loadModelConstructor: LoadModelConstructor,\r\n    modelName: string,\r\n    sourceText?: string,\r\n    children?: ReactNode,\r\n};\r\n\r\nexport default function SampleWrapper({\r\n    loadModelConstructor: loadModelConstructor,\r\n    modelName,\r\n    sourceText,\r\n    children,\r\n}: SampleWrapperProps) {\r\n    return (\r\n        <SitePage extendMainWidth>\r\n            <NameHeader>{modelName}</NameHeader>\r\n            <SupportCheck loadModelConstructor={loadModelConstructor} />\r\n            {children}\r\n            {sourceText != null\r\n                ? (\r\n                        <CodeContainer>\r\n                            <CodeMirror\r\n                                theme={theme}\r\n                                editable={false}\r\n                                maxHeight=\"80vh\"\r\n                                value={sourceText}\r\n                                extensions={[javascript({ jsx: true, typescript: true })]}\r\n                            />\r\n                        </CodeContainer>\r\n                    )\r\n                : undefined}\r\n        </SitePage>\r\n    );\r\n}\r\n","import { Vec3, Mat4, mat4, Quat } from 'wgpu-matrix';\r\nimport { TypeSizes } from '../constants';\r\n\r\nexport type CameraParams = {\r\n    nearPlane: number,\r\n    farPlane: number,\r\n    fov: number,\r\n    width: number,\r\n    height: number,\r\n    projection: 'perspective' | 'ortho',\r\n};\r\n\r\nexport default class Camera {\r\n    static readonly worldToViewOffset = 0;\r\n    static readonly viewToClipOffset = this.worldToViewOffset + TypeSizes.sizeofMat4x4f;\r\n    static readonly worldToClipOffset = this.viewToClipOffset + TypeSizes.sizeofMat4x4f;\r\n    static readonly viewToWorldOffset = this.worldToClipOffset + TypeSizes.sizeofMat4x4f;\r\n    static readonly clipToViewOffset = this.viewToWorldOffset + TypeSizes.sizeofMat4x4f;\r\n    static readonly clipToWorldOffset = this.clipToViewOffset + TypeSizes.sizeofMat4x4f;\r\n\r\n    static readonly bufferLength = this.clipToWorldOffset + TypeSizes.sizeofMat4x4f;\r\n\r\n    /**\r\n   *  An ArrayBuffer containing the camera's worldToView, viewToClip, worldToClip,\r\n   *  viewToWorld, clipToView, and clipToWorld matrices as Float32Arrays for\r\n   *  easier transfer. Ordered as listed above.\r\n   */\r\n    readonly buffer: ArrayBuffer = new ArrayBuffer(Camera.bufferLength);\r\n\r\n    readonly worldToView: Mat4 = new Float32Array(\r\n        this.buffer,\r\n        Camera.worldToViewOffset,\r\n        TypeSizes.mat4x4Count,\r\n    );\r\n\r\n    readonly viewToClip: Mat4 = new Float32Array(\r\n        this.buffer,\r\n        Camera.viewToClipOffset,\r\n        TypeSizes.mat4x4Count,\r\n    );\r\n\r\n    readonly worldToClip: Mat4 = new Float32Array(\r\n        this.buffer,\r\n        Camera.worldToClipOffset,\r\n        TypeSizes.mat4x4Count,\r\n    );\r\n\r\n    readonly viewToWorld: Mat4 = new Float32Array(\r\n        this.buffer,\r\n        Camera.viewToWorldOffset,\r\n        TypeSizes.mat4x4Count,\r\n    );\r\n\r\n    readonly clipToView: Mat4 = new Float32Array(\r\n        this.buffer,\r\n        Camera.clipToViewOffset,\r\n        TypeSizes.mat4x4Count,\r\n    );\r\n\r\n    readonly clipToWorld: Mat4 = new Float32Array(\r\n        this.buffer,\r\n        Camera.clipToWorldOffset,\r\n        TypeSizes.mat4x4Count,\r\n    );\r\n\r\n    readonly location: Vec3 = new Float32Array([0, 0, 0]);\r\n    readonly rotation: Quat = new Float32Array([0, 0, 0, 1]);\r\n\r\n    params: CameraParams = {\r\n        nearPlane: 0.01,\r\n        farPlane: 500.0,\r\n        fov: 40,\r\n        width: 1920,\r\n        height: 1080,\r\n        projection: 'perspective',\r\n    };\r\n\r\n    constructor(viewParams: Partial<CameraParams> = {}) {\r\n        this.updateParams(viewParams);\r\n    }\r\n\r\n    updateParams(val: Partial<CameraParams>) {\r\n        this.params = { ...this.params, ...val };\r\n        this.#cacheProjection();\r\n    }\r\n\r\n    cacheView(): void {\r\n        mat4.fromQuat(this.rotation, this.viewToWorld);\r\n        mat4.setTranslation(this.viewToWorld, this.location, this.viewToWorld);\r\n        mat4.invert(this.viewToWorld, this.worldToView);\r\n        mat4.mul(this.viewToClip, this.worldToView, this.worldToClip);\r\n        mat4.mul(this.viewToWorld, this.clipToView, this.clipToWorld);\r\n    }\r\n\r\n    #cacheProjection(): void {\r\n        if (this.params.projection === 'perspective') {\r\n            mat4.perspective(\r\n                this.params.fov * (Math.PI / 180),\r\n                this.params.width / this.params.height,\r\n                this.params.nearPlane,\r\n                this.params.farPlane,\r\n                this.viewToClip,\r\n            );\r\n        } else {\r\n            const x = this.params.width / 2;\r\n            const y = this.params.height / 2;\r\n\r\n            mat4.ortho(\r\n                -x,\r\n                x,\r\n                -y,\r\n                y,\r\n                this.params.nearPlane,\r\n                this.params.farPlane,\r\n                this.viewToClip,\r\n            );\r\n        }\r\n\r\n        mat4.invert(this.viewToClip, this.clipToView);\r\n    }\r\n}\r\n","import { UnknownObject, mapValues } from '../../utils/general';\n\n// Unique symbols to avoid naming collisions with underlying types\nconst $type = Symbol('PropertyListener -- Type');\nconst $callback = Symbol('PropertyListener -- Callback');\nconst $listeners = Symbol('PropertyListener -- Listeners');\nexport const ListenerSyms = Object.freeze({ $type, $callback, $listeners });\n\ntype Syms = typeof $type | typeof $callback | typeof $listeners;\nexport type ValueKeyCallback<T extends object> = <K extends keyof T, V extends T[K]>(value: V, key: K) => void;\n\nexport type GuiSetting<T extends object = object, Tag extends string = string> = {\n    [$type]: Tag,\n    [$callback]?: ValueKeyCallback<T>,\n    [$listeners]: Set<ValueKeyCallback<T>>,\n} & T;\n\nexport type ListenerSpec<T extends object = object, Tag extends string = string> =\n    Omit<GuiSetting<T, Tag>, typeof $listeners>;\n\ntype MapSpec<T extends Record<PropertyKey, ListenerSpec>> = {\n    [K in keyof T]: T[K] extends ListenerSpec<object, infer Tag> & infer Rest\n        ? Rest extends object\n            ? GuiSetting<Omit<Rest, Syms>, Tag> : never : never\n};\n\nexport default function propertyListener<T extends Record<PropertyKey, ListenerSpec<UnknownObject>>>(specs: T) {\n    for (const spec of Object.values(specs) as GuiSetting[]) {\n        spec[$listeners] = new Set();\n    }\n\n    return {\n        publicSettings: mapValues(specs, (spec) => new Proxy(spec as GuiSetting<UnknownObject>, {\n            set(target, key, value: unknown) {\n                if (target[key] !== value) {\n                    target[key] = value;\n                    target[$callback]?.(value, key);\n                }\n                return true;\n            },\n        })) as MapSpec<T>,\n        privateSettings: mapValues(specs, (spec) => new Proxy(spec as GuiSetting<UnknownObject>, {\n            set(target, key, value: unknown) {\n                if (target[key] !== value) {\n                    target[key] = value;\n                    target[$listeners].forEach((fn) => { fn(value, key); });\n                }\n                return true;\n            },\n        })) as MapSpec<T>,\n    };\n}\n","import { createRoot } from 'react-dom/client';\r\nimport { ElementType, PropsWithChildren, ComponentPropsWithoutRef, ReactNode } from 'react';\r\n\r\nexport type PolymorphicProps<\r\n    E extends ElementType | undefined,\r\n    D extends ElementType = 'div',\r\n    Base extends object = Record<string, never>,\r\n> =\r\n    Omit<PropsWithChildren<ComponentPropsWithoutRef<E extends undefined ? D : E>\r\n    & { forwardedAs?: E }>, keyof Base> & Base;\r\n\r\n// adapted from https://github.com/yoksel/url-encoder/blob/master/src/js/script.js\r\nexport function svgToDataURL(svg: string) {\r\n    let encoded = svg.replace(/\"/g, '\\'');\r\n    encoded = encoded.replace(/>\\s{1,}\\n*</g, '><');\r\n    encoded = encoded.replace(/(\\s{2,}|\\n)/g, ' ');\r\n    encoded = encoded.replace(/[\\r\\n%#()<>?[\\\\\\]^`{|}]/g, encodeURIComponent);\r\n    return `url(\"data:image/svg+xml,${encoded}\")`;\r\n}\r\n\r\nexport function renderApp(app: ReactNode, rootId: string = 'root') {\r\n    const elm = document.getElementById(rootId);\r\n    if (elm == null) {\r\n        throw new Error('Could not find root element');\r\n    }\r\n    const root = createRoot(elm);\r\n    root.render(app);\r\n}\r\n"],"names":["attrs","forwardedAs","defaultFilter","disable","activeFilter","scale","hoverFilter","animation","sampleNames","map","sample","replaceAll","Container","div","LinkContainer","baseFrequency","distortChildren","$isOpen","Button","Link","SampleSelect","linksOpen","setLinksOpen","useState","locked","setLocked","items","useMemo","i","href","onMouseLeave","onMouseDown","prev","onMouseEnter","onKeyDown","Nav","aside","Icons","NavBar","style","pointerEvents","width","transform","aspectRatio","viewBox","fill","xmlns","version","xlinkHref","height","id","x1","y1","x2","y2","offset","stopColor","mixBlendMode","points","target","rel","GlobalStyle","SitePage","children","StrictMode","tooltipStyle","useTooltip","content","distortionRef","useRef","shown","setShown","tooltip","className","ref","undefined","current","refreshSeed","DistortionWrapper","mode","StyledCheckbox","input","type","Checkbox","label","value","startValue","onChange","callback","callbacks","description","useId","setValue","update","val","useEffect","add","delete","show","hide","position","htmlFor","tabindex","checked","e","numOctaves","ScrollableDropdown","LabelContainer","SelectContainer","$disabled","FileUpload","process","buttonText","accept","selection","selected","setSelected","inputRef","selectionRef","files","initialValues","handleSelection","name","currentTarget","blur","document","activeElement","createLabels","keys","arr","Array","length","idx","key","userSelect","replace","fileToOption","fullButtonText","selectEnabled","Object","changed","newValue","newValues","gridRow","onClick","click","display","onInput","file","tabIndex","StyledSlider","ValueTextContainer","minRefresh","ValueTextInput","Slider","min","max","step","sliderState","setSliderState","newVal","parseFloat","GUIContainer","elementType","DragHandle","GridContainer","MainPanel","ToggleLabel","SettingsPanel","handleId","nodeRef","isOpen","setIsOpen","handle","CSS","escape","onDrag","bounds","forwardedRef","top","left","open","readOnly","overflowOnExpanded","WidgetButton","ModelSettingsWidget","settings","entries","info","$type","_type","$callback","_privateCallback","$listeners","rest","props","Error","FullscreenStyle","FullscreenButton","element","checkOpen","useCallback","fullscreenElement","setOpen","listenerHandler","handleChange","ev","check","exitFullscreen","requestFullscreen","addEventListener","removeEventListener","OrbitCameraController","constructor","camera","xSensitivity","ySensitivity","panSpeed","zoomSensitivity","minZoomSpeed","maxZoomSpeed","minZoom","maxZoom","currentZoom","focusPoint","create","rotationY","rotationX","movement","this","rotate","x","y","fromEuler","Math","PI","rotation","pan","speed","delta","transformQuat","zoom","changeAbs","abs","changeScaled","sign","rot","location","ViewportStyle","Viewport","getModelConstructor","canvasRef","rendererRef","controllerRef","isFocusedRef","canFocus","mainRef","moveRef","setSettings","handleMouseMove","controller","movementX","movementY","unlock","setTimeout","handleLockChange","pointerLockElement","reserveScrollBarGap","cleanup","Promise","all","then","async","renderer","modelCtor","default","CreateInitialized","model","requestAnimationFrame","render","settingsWidget","buttons","requestPointerLock","onMouseUp","exitPointerLock","onWheel","deltaY","UnsupportedWarning","CheckWrapper","SupportCheck","loadModelConstructor","navigator","gpu","requestAdapter","theme","background","foreground","caret","selectionMatch","lineHighlight","gutterBackground","gutterForeground","fontFamily","fontSize","styles","tag","propertyName","literal","color","typeName","string","special","brace","comment","keyword","operator","bracket","paren","angleBracket","function","variableName","CodeContainer","NameHeader","h1","SampleWrapper","modelName","sourceText","extendMainWidth","editable","maxHeight","extensions","jsx","typescript","Camera","viewParams","buffer","ArrayBuffer","bufferLength","worldToView","Float32Array","worldToViewOffset","mat4x4Count","viewToClip","viewToClipOffset","worldToClip","worldToClipOffset","viewToWorld","viewToWorldOffset","clipToView","clipToViewOffset","clipToWorld","clipToWorldOffset","params","nearPlane","farPlane","fov","projection","updateParams","cacheView","fromQuat","setTranslation","invert","mul","perspective","ortho","sizeofMat4x4f","Symbol","ListenerSyms","freeze","propertyListener","specs","spec","values","Set","publicSettings","Proxy","set","privateSettings","forEach","fn","svgToDataURL","svg","encoded","encodeURIComponent","renderApp","app","rootId","elm","getElementById"],"sourceRoot":""}