"use strict";(self.webpackChunkcbunt_portfolio=self.webpackChunkcbunt_portfolio||[]).push([[114],{838:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GE: () => (/* binding */ TextureFormatToChannelSize),\n/* harmony export */   KO: () => (/* binding */ WebGPUToVkFormat),\n/* harmony export */   Oi: () => (/* binding */ VkFormatToWebGPU),\n/* harmony export */   T2: () => (/* binding */ TextureFormatToSize),\n/* harmony export */   vV: () => (/* binding */ TypeSizes)\n/* harmony export */ });\n/* unused harmony export textureTypeToDimension */\n/* harmony import */ var ktx_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(380);\n\nconst TypeSizes = {\n    mat4x4Count: 16,\n    sizeofMat4x4f: 16 * Float32Array.BYTES_PER_ELEMENT,\n};\nconst VkFormatToWebGPU = {\n    // 8-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_UNORM */ .VIE]: 'r8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_SNORM */ .B7n]: 'r8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_UINT */ .W_U]: 'r8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_SINT */ .YeG]: 'r8sint',\n    // 16-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16_UINT */ .HYY]: 'r16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16_SINT */ .brc]: 'r16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16_SFLOAT */ .eLQ]: 'r16float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_UNORM */ .sk6]: 'rg8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_SNORM */ .aiL]: 'rg8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_UINT */ .xWH]: 'rg8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_SINT */ .$Kq]: 'rg8sint',\n    // 32-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32_UINT */ .nR0]: 'r32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32_SINT */ .rwM]: 'r32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32_SFLOAT */ .e4n]: 'r32float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16_UINT */ .P1c]: 'rg16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16_SINT */ .bc6]: 'rg16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16_SFLOAT */ .cps]: 'rg16float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_UNORM */ .tsP]: 'rgba8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_SRGB */ .Wm_]: 'rgba8unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_SNORM */ .zqn]: 'rgba8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_UINT */ .MZV]: 'rgba8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_SINT */ ._Je]: 'rgba8sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_B8G8R8A8_UNORM */ .J6Z]: 'bgra8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_B8G8R8A8_SRGB */ .mIY]: 'bgra8unorm-srgb',\n    // Packed 32-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_E5B9G9R9_UFLOAT_PACK32 */ .KIZ]: 'rgb9e5ufloat',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_A2R10G10B10_UINT_PACK32 */ .eAA]: 'rgb10a2uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_A2R10G10B10_UNORM_PACK32 */ .fJh]: 'rgb10a2unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_B10G11R11_UFLOAT_PACK32 */ .kot]: 'rg11b10ufloat',\n    // 64-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32_UINT */ .nlo]: 'rg32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32_SINT */ .x9e]: 'rg32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32_SFLOAT */ .yAK]: 'rg32float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16B16A16_UINT */ .CSc]: 'rgba16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16B16A16_SINT */ .GF$]: 'rgba16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16B16A16_SFLOAT */ .l2T]: 'rgba16float',\n    // 128-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32B32A32_UINT */ .KMX]: 'rgba32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32B32A32_SINT */ .KBq]: 'rgba32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32B32A32_SFLOAT */ .Ze1]: 'rgba32float',\n    // BC compressed formats usable if \"texture-compression-bc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC1_RGBA_UNORM_BLOCK */ .QFs]: 'bc1-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC1_RGBA_SRGB_BLOCK */ .bOE]: 'bc1-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC2_UNORM_BLOCK */ .wt4]: 'bc2-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC2_SRGB_BLOCK */ .ZBp]: 'bc2-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC3_UNORM_BLOCK */ .D_t]: 'bc3-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC3_SRGB_BLOCK */ .elk]: 'bc3-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC4_UNORM_BLOCK */ .ydS]: 'bc4-r-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC4_SNORM_BLOCK */ .iIv]: 'bc4-r-snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC5_UNORM_BLOCK */ .LHP]: 'bc5-rg-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC5_SNORM_BLOCK */ .xXb]: 'bc5-rg-snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC6H_UFLOAT_BLOCK */ .mQu]: 'bc6h-rgb-ufloat',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC6H_SFLOAT_BLOCK */ .CpY]: 'bc6h-rgb-float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC7_UNORM_BLOCK */ .FD_]: 'bc7-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC7_SRGB_BLOCK */ .GJu]: 'bc7-rgba-unorm-srgb',\n    // Currently unsupported extension formats:\n    // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // \"etc2-rgb8unorm\",\n    // \"etc2-rgb8unorm-srgb\",\n    // \"etc2-rgb8a1unorm\",\n    // \"etc2-rgb8a1unorm-srgb\",\n    // \"etc2-rgba8unorm\",\n    // \"etc2-rgba8unorm-srgb\",\n    // \"eac-r11unorm\",\n    // \"eac-r11snorm\",\n    // \"eac-rg11unorm\",\n    // \"eac-rg11snorm\",\n    // ASTC compressed formats usable if \"texture-compression-astc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // \"astc-4x4-unorm\",\n    // \"astc-4x4-unorm-srgb\",\n    // \"astc-5x4-unorm\",\n    // \"astc-5x4-unorm-srgb\",\n    // \"astc-5x5-unorm\",\n    // \"astc-5x5-unorm-srgb\",\n    // \"astc-6x5-unorm\",\n    // \"astc-6x5-unorm-srgb\",\n    // \"astc-6x6-unorm\",\n    // \"astc-6x6-unorm-srgb\",\n    // \"astc-8x5-unorm\",\n    // \"astc-8x5-unorm-srgb\",\n    // \"astc-8x6-unorm\",\n    // \"astc-8x6-unorm-srgb\",\n    // \"astc-8x8-unorm\",\n    // \"astc-8x8-unorm-srgb\",\n    // \"astc-10x5-unorm\",\n    // \"astc-10x5-unorm-srgb\",\n    // \"astc-10x6-unorm\",\n    // \"astc-10x6-unorm-srgb\",\n    // \"astc-10x8-unorm\",\n    // \"astc-10x8-unorm-srgb\",\n    // \"astc-10x10-unorm\",\n    // \"astc-10x10-unorm-srgb\",\n    // \"astc-12x10-unorm\",\n    // \"astc-12x10-unorm-srgb\",\n    // \"astc-12x12-unorm\",\n};\nconst TextureFormatToSize = {\n    // 8-bit formats\n    r8unorm: 1,\n    r8snorm: 1,\n    r8uint: 1,\n    r8sint: 1,\n    // 16-bit formats\n    r16uint: 2,\n    r16sint: 2,\n    r16float: 2,\n    rg8unorm: 2,\n    rg8snorm: 2,\n    rg8uint: 2,\n    rg8sint: 2,\n    // 32-bit formats\n    r32uint: 4,\n    r32sint: 4,\n    r32float: 4,\n    rg16uint: 4,\n    rg16sint: 4,\n    rg16float: 4,\n    rgba8unorm: 4,\n    'rgba8unorm-srgb': 4,\n    rgba8snorm: 4,\n    rgba8uint: 4,\n    rgba8sint: 4,\n    bgra8unorm: 4,\n    'bgra8unorm-srgb': 4,\n    // Packed 32-bit formats\n    rgb9e5ufloat: 4,\n    rgb10a2uint: 4,\n    rgb10a2unorm: 4,\n    rg11b10ufloat: 4,\n    // 64-bit formats\n    rg32uint: 8,\n    rg32sint: 8,\n    rg32float: 8,\n    rgba16uint: 8,\n    rgba16sint: 8,\n    rgba16float: 8,\n    // 128-bit formats\n    rgba32uint: 16,\n    rgba32sint: 16,\n    rgba32float: 16,\n};\nconst TextureFormatToChannelSize = {\n    // 8-bit formats\n    r8unorm: 1,\n    r8snorm: 1,\n    r8uint: 1,\n    r8sint: 1,\n    // 16-bit formats\n    r16uint: 2,\n    r16sint: 2,\n    r16float: 2,\n    rg8unorm: 1,\n    rg8snorm: 1,\n    rg8uint: 1,\n    rg8sint: 1,\n    // 32-bit formats\n    r32uint: 4,\n    r32sint: 4,\n    r32float: 4,\n    rg16uint: 2,\n    rg16sint: 2,\n    rg16float: 2,\n    rgba8unorm: 1,\n    'rgba8unorm-srgb': 1,\n    rgba8snorm: 1,\n    rgba8uint: 1,\n    rgba8sint: 1,\n    bgra8unorm: 1,\n    'bgra8unorm-srgb': 1,\n    // Packed 32-bit formats\n    rgb9e5ufloat: 4,\n    rgb10a2uint: 4,\n    rgb10a2unorm: 4,\n    rg11b10ufloat: 4,\n    // 64-bit formats\n    rg32uint: 4,\n    rg32sint: 4,\n    rg32float: 4,\n    rgba16uint: 2,\n    rgba16sint: 2,\n    rgba16float: 2,\n    // 128-bit formats\n    rgba32uint: 4,\n    rgba32sint: 4,\n    rgba32float: 4,\n};\nconst WebGPUToVkFormat = Object.fromEntries(Object.entries(VkFormatToWebGPU).map(([vk, wgpu]) => [wgpu, parseInt(vk, 10)]));\nconst textureTypeToDimension = {\n    texture_cube: 'cube',\n    texture_3d: '3d',\n    texture_2d: '2d',\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsTUFBTTtJQUNwQixVQUFVLEVBQUUsSUFBSTtJQUNoQixVQUFVLEVBQUUsSUFBSTtDQUNuQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy9jb25zdGFudHMudHM/MmU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrdHhwIGZyb20gJ2t0eC1wYXJzZSc7XHJcblxyXG5leHBvcnQgY29uc3QgVHlwZVNpemVzID0ge1xyXG4gICAgbWF0NHg0Q291bnQ6IDE2LFxyXG4gICAgc2l6ZW9mTWF0NHg0ZjogMTYgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVmtGb3JtYXRUb1dlYkdQVTogUmVjb3JkPG51bWJlciwgR1BVVGV4dHVyZUZvcm1hdCB8IHVuZGVmaW5lZD4gPSB7XHJcbiAgICAvLyA4LWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfVU5PUk1dOiAncjh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfU05PUk1dOiAncjhzbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfVUlOVF06ICdyOHVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4X1NJTlRdOiAncjhzaW50JyxcclxuICAgIC8vIDE2LWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1VJTlRdOiAncjE2dWludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1NJTlRdOiAncjE2c2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1NGTE9BVF06ICdyMTZmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9VTk9STV06ICdyZzh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9TTk9STV06ICdyZzhzbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9VSU5UXTogJ3JnOHVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhfU0lOVF06ICdyZzhzaW50JyxcclxuICAgIC8vIDMyLWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1VJTlRdOiAncjMydWludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1NJTlRdOiAncjMyc2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1NGTE9BVF06ICdyMzJmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2X1VJTlRdOiAncmcxNnVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1IxNkcxNl9TSU5UXTogJ3JnMTZzaW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMTZHMTZfU0ZMT0FUXTogJ3JnMTZmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfVU5PUk1dOiAncmdiYTh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfU1JHQl06ICdyZ2JhOHVub3JtLXNyZ2InLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhCOEE4X1NOT1JNXTogJ3JnYmE4c25vcm0nLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhCOEE4X1VJTlRdOiAncmdiYTh1aW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXTogJ3JnYmE4c2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQjhHOFI4QThfVU5PUk1dOiAnYmdyYTh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQjhHOFI4QThfU1JHQl06ICdiZ3JhOHVub3JtLXNyZ2InLFxyXG4gICAgLy8gUGFja2VkIDMyLWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfRTVCOUc5UjlfVUZMT0FUX1BBQ0szMl06ICdyZ2I5ZTV1ZmxvYXQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX0EyUjEwRzEwQjEwX1VJTlRfUEFDSzMyXTogJ3JnYjEwYTJ1aW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9BMlIxMEcxMEIxMF9VTk9STV9QQUNLMzJdOiAncmdiMTBhMnVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CMTBHMTFSMTFfVUZMT0FUX1BBQ0szMl06ICdyZzExYjEwdWZsb2F0JyxcclxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyRzMyX1VJTlRdOiAncmczMnVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1IzMkczMl9TSU5UXTogJ3JnMzJzaW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJfU0ZMT0FUXTogJ3JnMzJmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRdOiAncmdiYTE2dWludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRdOiAncmdiYTE2c2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1NGTE9BVF06ICdyZ2JhMTZmbG9hdCcsXHJcbiAgICAvLyAxMjgtYml0IGZvcm1hdHNcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVUlOVF06ICdyZ2JhMzJ1aW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfU0lOVF06ICdyZ2JhMzJzaW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfU0ZMT0FUXTogJ3JnYmEzMmZsb2F0JyxcclxuICAgIC8vIEJDIGNvbXByZXNzZWQgZm9ybWF0cyB1c2FibGUgaWYgXCJ0ZXh0dXJlLWNvbXByZXNzaW9uLWJjXCIgaXMgYm90aFxyXG4gICAgLy8gc3VwcG9ydGVkIGJ5IHRoZSBkZXZpY2UvdXNlciBhZ2VudCBhbmQgZW5hYmxlZCBpbiByZXF1ZXN0RGV2aWNlLlxyXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMV9SR0JBX1VOT1JNX0JMT0NLXTogJ2JjMS1yZ2JhLXVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzFfUkdCQV9TUkdCX0JMT0NLXTogJ2JjMS1yZ2JhLXVub3JtLXNyZ2InLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMl9VTk9STV9CTE9DS106ICdiYzItcmdiYS11bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkMyX1NSR0JfQkxPQ0tdOiAnYmMyLXJnYmEtdW5vcm0tc3JnYicsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkMzX1VOT1JNX0JMT0NLXTogJ2JjMy1yZ2JhLXVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzNfU1JHQl9CTE9DS106ICdiYzMtcmdiYS11bm9ybS1zcmdiJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzRfVU5PUk1fQkxPQ0tdOiAnYmM0LXItdW5vcm0nLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX0JDNF9TTk9STV9CTE9DS106ICdiYzQtci1zbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM1X1VOT1JNX0JMT0NLXTogJ2JjNS1yZy11bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM1X1NOT1JNX0JMT0NLXTogJ2JjNS1yZy1zbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM2SF9VRkxPQVRfQkxPQ0tdOiAnYmM2aC1yZ2ItdWZsb2F0JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzZIX1NGTE9BVF9CTE9DS106ICdiYzZoLXJnYi1mbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM3X1VOT1JNX0JMT0NLXTogJ2JjNy1yZ2JhLXVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzdfU1JHQl9CTE9DS106ICdiYzctcmdiYS11bm9ybS1zcmdiJyxcclxuICAgIC8vIEN1cnJlbnRseSB1bnN1cHBvcnRlZCBleHRlbnNpb24gZm9ybWF0czpcclxuICAgIC8vIEVUQzIgY29tcHJlc3NlZCBmb3JtYXRzIHVzYWJsZSBpZiBcInRleHR1cmUtY29tcHJlc3Npb24tZXRjMlwiIGlzIGJvdGhcclxuICAgIC8vIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlL3VzZXIgYWdlbnQgYW5kIGVuYWJsZWQgaW4gcmVxdWVzdERldmljZS5cclxuICAgIC8vIFwiZXRjMi1yZ2I4dW5vcm1cIixcclxuICAgIC8vIFwiZXRjMi1yZ2I4dW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJldGMyLXJnYjhhMXVub3JtXCIsXHJcbiAgICAvLyBcImV0YzItcmdiOGExdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJldGMyLXJnYmE4dW5vcm1cIixcclxuICAgIC8vIFwiZXRjMi1yZ2JhOHVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiZWFjLXIxMXVub3JtXCIsXHJcbiAgICAvLyBcImVhYy1yMTFzbm9ybVwiLFxyXG4gICAgLy8gXCJlYWMtcmcxMXVub3JtXCIsXHJcbiAgICAvLyBcImVhYy1yZzExc25vcm1cIixcclxuICAgIC8vIEFTVEMgY29tcHJlc3NlZCBmb3JtYXRzIHVzYWJsZSBpZiBcInRleHR1cmUtY29tcHJlc3Npb24tYXN0Y1wiIGlzIGJvdGhcclxuICAgIC8vIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlL3VzZXIgYWdlbnQgYW5kIGVuYWJsZWQgaW4gcmVxdWVzdERldmljZS5cclxuICAgIC8vIFwiYXN0Yy00eDQtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy00eDQtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTV4NC11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTV4NC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtNXg1LXVub3JtXCIsXHJcbiAgICAvLyBcImFzdGMtNXg1LXVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiYXN0Yy02eDUtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy02eDUtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTZ4Ni11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTZ4Ni11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtOHg1LXVub3JtXCIsXHJcbiAgICAvLyBcImFzdGMtOHg1LXVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiYXN0Yy04eDYtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy04eDYtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTh4OC11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTh4OC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTB4NS11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTEweDUtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTEweDYtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy0xMHg2LXVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiYXN0Yy0xMHg4LXVub3JtXCIsXHJcbiAgICAvLyBcImFzdGMtMTB4OC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTB4MTAtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy0xMHgxMC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTJ4MTAtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy0xMngxMC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTJ4MTItdW5vcm1cIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBUZXh0dXJlRm9ybWF0VG9TaXplOiBQYXJ0aWFsPFJlY29yZDxHUFVUZXh0dXJlRm9ybWF0LCBudW1iZXI+PiA9IHtcclxuICAgIC8vIDgtYml0IGZvcm1hdHNcclxuICAgIHI4dW5vcm06IDEsXHJcbiAgICByOHNub3JtOiAxLFxyXG4gICAgcjh1aW50OiAxLFxyXG4gICAgcjhzaW50OiAxLFxyXG4gICAgLy8gMTYtYml0IGZvcm1hdHNcclxuICAgIHIxNnVpbnQ6IDIsXHJcbiAgICByMTZzaW50OiAyLFxyXG4gICAgcjE2ZmxvYXQ6IDIsXHJcbiAgICByZzh1bm9ybTogMixcclxuICAgIHJnOHNub3JtOiAyLFxyXG4gICAgcmc4dWludDogMixcclxuICAgIHJnOHNpbnQ6IDIsXHJcbiAgICAvLyAzMi1iaXQgZm9ybWF0c1xyXG4gICAgcjMydWludDogNCxcclxuICAgIHIzMnNpbnQ6IDQsXHJcbiAgICByMzJmbG9hdDogNCxcclxuICAgIHJnMTZ1aW50OiA0LFxyXG4gICAgcmcxNnNpbnQ6IDQsXHJcbiAgICByZzE2ZmxvYXQ6IDQsXHJcbiAgICByZ2JhOHVub3JtOiA0LFxyXG4gICAgJ3JnYmE4dW5vcm0tc3JnYic6IDQsXHJcbiAgICByZ2JhOHNub3JtOiA0LFxyXG4gICAgcmdiYTh1aW50OiA0LFxyXG4gICAgcmdiYThzaW50OiA0LFxyXG4gICAgYmdyYTh1bm9ybTogNCxcclxuICAgICdiZ3JhOHVub3JtLXNyZ2InOiA0LFxyXG4gICAgLy8gUGFja2VkIDMyLWJpdCBmb3JtYXRzXHJcbiAgICByZ2I5ZTV1ZmxvYXQ6IDQsXHJcbiAgICByZ2IxMGEydWludDogNCxcclxuICAgIHJnYjEwYTJ1bm9ybTogNCxcclxuICAgIHJnMTFiMTB1ZmxvYXQ6IDQsXHJcbiAgICAvLyA2NC1iaXQgZm9ybWF0c1xyXG4gICAgcmczMnVpbnQ6IDgsXHJcbiAgICByZzMyc2ludDogOCxcclxuICAgIHJnMzJmbG9hdDogOCxcclxuICAgIHJnYmExNnVpbnQ6IDgsXHJcbiAgICByZ2JhMTZzaW50OiA4LFxyXG4gICAgcmdiYTE2ZmxvYXQ6IDgsXHJcbiAgICAvLyAxMjgtYml0IGZvcm1hdHNcclxuICAgIHJnYmEzMnVpbnQ6IDE2LFxyXG4gICAgcmdiYTMyc2ludDogMTYsXHJcbiAgICByZ2JhMzJmbG9hdDogMTYsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVGV4dHVyZUZvcm1hdFRvQ2hhbm5lbFNpemU6IFBhcnRpYWw8UmVjb3JkPEdQVVRleHR1cmVGb3JtYXQsIG51bWJlcj4+ID0ge1xyXG4gICAgLy8gOC1iaXQgZm9ybWF0c1xyXG4gICAgcjh1bm9ybTogMSxcclxuICAgIHI4c25vcm06IDEsXHJcbiAgICByOHVpbnQ6IDEsXHJcbiAgICByOHNpbnQ6IDEsXHJcbiAgICAvLyAxNi1iaXQgZm9ybWF0c1xyXG4gICAgcjE2dWludDogMixcclxuICAgIHIxNnNpbnQ6IDIsXHJcbiAgICByMTZmbG9hdDogMixcclxuICAgIHJnOHVub3JtOiAxLFxyXG4gICAgcmc4c25vcm06IDEsXHJcbiAgICByZzh1aW50OiAxLFxyXG4gICAgcmc4c2ludDogMSxcclxuICAgIC8vIDMyLWJpdCBmb3JtYXRzXHJcbiAgICByMzJ1aW50OiA0LFxyXG4gICAgcjMyc2ludDogNCxcclxuICAgIHIzMmZsb2F0OiA0LFxyXG4gICAgcmcxNnVpbnQ6IDIsXHJcbiAgICByZzE2c2ludDogMixcclxuICAgIHJnMTZmbG9hdDogMixcclxuICAgIHJnYmE4dW5vcm06IDEsXHJcbiAgICAncmdiYTh1bm9ybS1zcmdiJzogMSxcclxuICAgIHJnYmE4c25vcm06IDEsXHJcbiAgICByZ2JhOHVpbnQ6IDEsXHJcbiAgICByZ2JhOHNpbnQ6IDEsXHJcbiAgICBiZ3JhOHVub3JtOiAxLFxyXG4gICAgJ2JncmE4dW5vcm0tc3JnYic6IDEsXHJcbiAgICAvLyBQYWNrZWQgMzItYml0IGZvcm1hdHNcclxuICAgIHJnYjllNXVmbG9hdDogNCxcclxuICAgIHJnYjEwYTJ1aW50OiA0LFxyXG4gICAgcmdiMTBhMnVub3JtOiA0LFxyXG4gICAgcmcxMWIxMHVmbG9hdDogNCxcclxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXHJcbiAgICByZzMydWludDogNCxcclxuICAgIHJnMzJzaW50OiA0LFxyXG4gICAgcmczMmZsb2F0OiA0LFxyXG4gICAgcmdiYTE2dWludDogMixcclxuICAgIHJnYmExNnNpbnQ6IDIsXHJcbiAgICByZ2JhMTZmbG9hdDogMixcclxuICAgIC8vIDEyOC1iaXQgZm9ybWF0c1xyXG4gICAgcmdiYTMydWludDogNCxcclxuICAgIHJnYmEzMnNpbnQ6IDQsXHJcbiAgICByZ2JhMzJmbG9hdDogNCxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBXZWJHUFVUb1ZrRm9ybWF0ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxyXG4gICAgT2JqZWN0LmVudHJpZXMoVmtGb3JtYXRUb1dlYkdQVSkubWFwKChbdmssIHdncHVdKSA9PiBbd2dwdSwgcGFyc2VJbnQodmssIDEwKV0pLFxyXG4pIGFzIFJlY29yZDxHUFVUZXh0dXJlRm9ybWF0LCBrdHhwLlZLRm9ybWF0PjtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXh0dXJlVHlwZVRvRGltZW5zaW9uOiBSZWNvcmQ8c3RyaW5nLCBHUFVUZXh0dXJlVmlld0RpbWVuc2lvbj4gPSB7XHJcbiAgICB0ZXh0dXJlX2N1YmU6ICdjdWJlJyxcclxuICAgIHRleHR1cmVfM2Q6ICczZCcsXHJcbiAgICB0ZXh0dXJlXzJkOiAnMmQnLFxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///838\n")},114:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ renderer)\n});\n\n// EXTERNAL MODULE: ./node_modules/.pnpm/wgpu-matrix@3.0.1/node_modules/wgpu-matrix/dist/3.x/wgpu-matrix.module.js\nvar wgpu_matrix_module = __webpack_require__(836);\n// EXTERNAL MODULE: ./src/rendering/constants.ts\nvar constants = __webpack_require__(838);\n;// CONCATENATED MODULE: ./src/rendering/camera.ts\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Camera_instances, _a, _Camera_cacheProjection;\n\n\nclass Camera {\n    constructor(viewParams = {}) {\n        _Camera_instances.add(this);\n        /**\n       *  An ArrayBuffer containing the camera's worldToView, viewToClip, worldToClip,\n       *  viewToWorld, clipToView, and clipToWorld matrices as Float32Arrays for\n       *  easier transfer. Ordered as listed above.\n       */\n        this.buffer = new ArrayBuffer(_a.bufferLength);\n        this.worldToView = new Float32Array(this.buffer, _a.worldToViewOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.viewToClip = new Float32Array(this.buffer, _a.viewToClipOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.worldToClip = new Float32Array(this.buffer, _a.worldToClipOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.viewToWorld = new Float32Array(this.buffer, _a.viewToWorldOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.clipToView = new Float32Array(this.buffer, _a.clipToViewOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.clipToWorld = new Float32Array(this.buffer, _a.clipToWorldOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.location = new Float32Array([0, 0, 0]);\n        this.rotation = new Float32Array([0, 0, 0, 1]);\n        this.params = {\n            nearPlane: 0.3,\n            farPlane: 500.0,\n            fov: 60,\n            width: 1920,\n            height: 1080,\n            projection: 'perspective',\n        };\n        this.updateParams(viewParams);\n    }\n    updateParams(val) {\n        this.params = Object.assign(Object.assign({}, this.params), val);\n        __classPrivateFieldGet(this, _Camera_instances, \"m\", _Camera_cacheProjection).call(this);\n    }\n    cacheView() {\n        wgpu_matrix_module/* mat4 */.pB.fromQuat(this.rotation, this.viewToWorld);\n        wgpu_matrix_module/* mat4 */.pB.setTranslation(this.viewToWorld, this.location, this.viewToWorld);\n        // mat4.mul(this.viewToWorld, Camera.orientation, this.viewToWorld);\n        wgpu_matrix_module/* mat4 */.pB.invert(this.viewToWorld, this.worldToView);\n        wgpu_matrix_module/* mat4 */.pB.mul(this.viewToClip, this.worldToView, this.worldToClip);\n        wgpu_matrix_module/* mat4 */.pB.mul(this.viewToWorld, this.clipToView, this.clipToWorld);\n    }\n}\n_a = Camera, _Camera_instances = new WeakSet(), _Camera_cacheProjection = function _Camera_cacheProjection() {\n    if (this.params.projection === 'perspective') {\n        wgpu_matrix_module/* mat4 */.pB.perspective(this.params.fov * (Math.PI / 180), this.params.width / this.params.height, this.params.nearPlane, this.params.farPlane, this.viewToClip);\n    }\n    else {\n        const x = this.params.width / 2;\n        const y = this.params.height / 2;\n        wgpu_matrix_module/* mat4 */.pB.ortho(-x, x, -y, y, this.params.nearPlane, this.params.farPlane, this.viewToClip);\n    }\n    wgpu_matrix_module/* mat4 */.pB.invert(this.viewToClip, this.clipToView);\n};\nCamera.orientation = new Float32Array([\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, -1, 0,\n    0, 0, 0, 1,\n]);\nCamera.worldToViewOffset = 0;\nCamera.viewToClipOffset = _a.worldToViewOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.worldToClipOffset = _a.viewToClipOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.viewToWorldOffset = _a.worldToClipOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.clipToViewOffset = _a.viewToWorldOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.clipToWorldOffset = _a.clipToViewOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.bufferLength = _a.clipToWorldOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\n/* harmony default export */ const camera = (Camera);\n\n;// CONCATENATED MODULE: ./src/rendering/forward-uniforms.ts\n\nclass ForwardUniforms {\n    constructor(device) {\n        this.deviceBuffer = device.createBuffer(ForwardUniforms.bufferDescriptor);\n        this.bindGroupLayout = device.createBindGroupLayout(ForwardUniforms.layoutDescriptor);\n        this.bindGroupDescriptor = {\n            label: 'forward pass uniforms bind group',\n            layout: this.bindGroupLayout,\n            entries: [\n                {\n                    binding: 0,\n                    resource: {\n                        buffer: this.deviceBuffer,\n                        offset: 0,\n                        size: ForwardUniforms.bufferSize,\n                    },\n                },\n            ],\n        };\n        this.bindgroup = device.createBindGroup(this.bindGroupDescriptor);\n    }\n    updateDeviceBuffer(queue, camera) {\n        camera.cacheView();\n        queue.writeBuffer(this.deviceBuffer, 0, camera.buffer);\n    }\n}\nForwardUniforms.code = (group) => /* wgsl */ `\r\n        struct ForwardUniforms {\r\n            worldToView: mat4x4f,\r\n            viewToClip: mat4x4f,\r\n            worldToClip: mat4x4f,\r\n            inverseWorldToView: mat4x4f,\r\n            inverseViewToClip: mat4x4f,\r\n            inverseWorldToClip: mat4x4f,\r\n        }\r\n\r\n        @group(${group}) @binding(0) var<uniform> globals: ForwardUniforms;\r\n    `;\nForwardUniforms.bufferSize = camera.bufferLength;\nForwardUniforms.layoutDescriptor = {\n    label: 'Forward uniforms layout',\n    entries: [\n        {\n            binding: 0,\n            buffer: { minBindingSize: ForwardUniforms.bufferSize },\n            visibility: GPUShaderStage.VERTEX,\n        },\n    ],\n};\nForwardUniforms.bufferDescriptor = {\n    label: 'Forward uniforms buffer',\n    size: ForwardUniforms.bufferSize,\n    usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n};\n/* harmony default export */ const forward_uniforms = (ForwardUniforms);\n\n;// CONCATENATED MODULE: ./src/shaders/blit-vert.shader.ts\n/* harmony default export */ const blit_vert_shader = (/* wgsl */`\r\n    struct VertOut {\r\n        @builtin(position) pos: vec4f,\r\n        @location(0) uv: vec2f,\r\n    }\r\n\r\n    @vertex\r\n    fn vs(@builtin(vertex_index) idx: u32) -> VertOut {\r\n        const pos = array(\r\n            vec2f(-1,  3),\r\n            vec2f(3, -1),\r\n            vec2f(-1, -1),\r\n        );\r\n        var res: VertOut;\r\n        res.pos = vec4f(pos[idx], 0.0, 1.0);\r\n        res.uv = pos[idx];\r\n        return res;\r\n    }\r\n`);\n\n;// CONCATENATED MODULE: ./src/rendering/tonemap-pass.ts\n\nclass TonemapPass {\n    constructor(device, format) {\n        this.device = device;\n        this.colorAttachment = {\n            loadOp: 'load',\n            storeOp: 'store',\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            view: undefined,\n        };\n        this.passDescriptor = {\n            label: 'tonepass -- pass encoder',\n            colorAttachments: [this.colorAttachment],\n        };\n        this.renderTarget = { format };\n        this.bindgroupLayout = device.createBindGroupLayout(TonemapPass.bindGroupLayoutDescriptor);\n        const module = device.createShaderModule({ label: 'tonemap shader', code: TonemapPass.code });\n        this.pipelineDescriptor = {\n            label: 'tonemap pipeline',\n            layout: device.createPipelineLayout({\n                label: 'tone map pipeline layout',\n                bindGroupLayouts: [this.bindgroupLayout],\n            }),\n            vertex: {\n                module,\n                entryPoint: 'vs',\n            },\n            fragment: {\n                module,\n                entryPoint: 'fs',\n                targets: [this.renderTarget],\n            },\n        };\n        this.pipeline = device.createRenderPipeline(this.pipelineDescriptor);\n    }\n    updateInput(input) {\n        this.bindgroup = this.device.createBindGroup({\n            label: 'tonemap bindgroup',\n            layout: this.bindgroupLayout,\n            entries: [{\n                    binding: 0,\n                    resource: input,\n                }],\n        });\n    }\n    pass(encoder, output) {\n        if (this.bindgroup == null)\n            return;\n        if (this.renderTarget.format !== output.format) {\n            this.renderTarget.format = output.format;\n            this.pipeline = this.device.createRenderPipeline(this.pipelineDescriptor);\n        }\n        this.colorAttachment.view = output.createView({ dimension: '2d' });\n        const pass = encoder.beginRenderPass(this.passDescriptor);\n        pass.setPipeline(this.pipeline);\n        pass.setBindGroup(0, this.bindgroup);\n        pass.draw(3);\n        pass.end();\n    }\n}\nTonemapPass.code = `\r\n        @group(0) @binding(0) var colorTexture: texture_2d<f32>;\r\n\r\n        ${blit_vert_shader}\r\n\r\n        fn aces_tone_map(hdr: vec3f) -> vec3f {\r\n            const m1 = mat3x3(\r\n                0.59719, 0.07600, 0.02840,\r\n                0.35458, 0.90834, 0.13383,\r\n                0.04823, 0.01566, 0.83777,\r\n            );\r\n            const m2 = mat3x3(\r\n                1.60475, -0.10208, -0.00327,\r\n                -0.53108, 1.10813, -0.07276,\r\n                -0.07367, -0.00605, 1.07602,\r\n            );\r\n            const boost = 1.0 / 0.6;\r\n            let v = m1 * (hdr);\r\n            let a = v * (v + 0.0245786) - 0.000090537;\r\n            let b = v * (0.983729 * v + 0.4329510) + 0.238081;\r\n            return saturate(m2 * (a / b));\r\n        }\r\n\r\n        fn gamma_correct(color: vec3f) -> vec3f {\r\n            return linear_to_srgb(color / (color + vec3(1.0)));\r\n        }\r\n\r\n        fn linear_to_srgb(color: vec3f) -> vec3f {\r\n            return pow(color, vec3(1.0/2.2));\r\n        }\r\n\r\n        @fragment\r\n        fn fs(@builtin(position) pos: vec4f) -> @location(0) vec4f {\r\n            let uv = vec2<i32>(floor(pos.xy));\r\n            let color = textureLoad(colorTexture, uv, 0);\r\n            return vec4f(linear_to_srgb(aces_tone_map(color.rgb)), 1.0);\r\n        }\r\n    `;\nTonemapPass.bindGroupLayoutDescriptor = {\n    label: 'tonemap bindgroup layout',\n    entries: [{\n            binding: 0,\n            texture: { sampleType: 'float', viewDimension: '2d' },\n            visibility: GPUShaderStage.FRAGMENT,\n        }],\n};\n/* harmony default export */ const tonemap_pass = (TonemapPass);\n\n;// CONCATENATED MODULE: ./src/rendering/skybox-pass.ts\nvar skybox_pass_classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (undefined && undefined.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _SkyboxPass_instances, _SkyboxPass_skyTexture, _SkyboxPass_depthTexture, _SkyboxPass_targetFormat, _SkyboxPass_useNearestSample, _SkyboxPass_updateBindgroup;\n\nclass SkyboxPass {\n    get mipLevel() { return this.uniformArray[0]; }\n    set mipLevel(val) {\n        if (val === this.uniformArray[0])\n            return;\n        this.uniformArray[0] = val;\n        this.device.queue.writeBuffer(this.uniformBuffer, 0, this.uniformArray, 0, 1);\n    }\n    get useNearestSample() { return skybox_pass_classPrivateFieldGet(this, _SkyboxPass_useNearestSample, \"f\"); }\n    set useNearestSample(val) {\n        if (val === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_useNearestSample, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_useNearestSample, val, \"f\");\n        skybox_pass_classPrivateFieldGet(this, _SkyboxPass_instances, \"m\", _SkyboxPass_updateBindgroup).call(this);\n    }\n    get targetFormat() { return skybox_pass_classPrivateFieldGet(this, _SkyboxPass_targetFormat, \"f\"); }\n    set targetFormat(format) {\n        if (format === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_targetFormat, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_targetFormat, format, \"f\");\n        this.pipeline = this.device.createRenderPipeline({\n            label: 'skybox pass -- pipeline',\n            layout: this.pipelineLayout,\n            vertex: {\n                entryPoint: 'vs',\n                module: this.shader,\n            },\n            fragment: {\n                entryPoint: 'fs',\n                targets: [{ format }],\n                module: this.shader,\n            },\n        });\n    }\n    set skyTexture(skybox) {\n        if (skybox === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_skyTexture, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_skyTexture, skybox, \"f\");\n        skybox_pass_classPrivateFieldGet(this, _SkyboxPass_instances, \"m\", _SkyboxPass_updateBindgroup).call(this);\n    }\n    set depthTexture(depthTexture) {\n        if (depthTexture === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_depthTexture, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_depthTexture, depthTexture, \"f\");\n        skybox_pass_classPrivateFieldGet(this, _SkyboxPass_instances, \"m\", _SkyboxPass_updateBindgroup).call(this);\n    }\n    constructor(device, cameraUniforms, targetFormat, skybox) {\n        _SkyboxPass_instances.add(this);\n        this.device = device;\n        this.cameraUniforms = cameraUniforms;\n        this.uniformArray = new Float32Array(8);\n        _SkyboxPass_skyTexture.set(this, void 0);\n        _SkyboxPass_depthTexture.set(this, void 0);\n        _SkyboxPass_targetFormat.set(this, void 0);\n        _SkyboxPass_useNearestSample.set(this, false);\n        this.target = {\n            clearValue: { r: 0.0, g: 0.0, b: 0.0, a: 1.0 },\n            loadOp: 'clear',\n            storeOp: 'store',\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            view: undefined,\n        };\n        this.passDescriptor = { colorAttachments: [this.target] };\n        this.bindgroupLayout = device.createBindGroupLayout({\n            label: 'skybox pass -- bindgroup layout',\n            entries: [\n                {\n                    binding: 0,\n                    texture: { viewDimension: 'cube' },\n                    visibility: GPUShaderStage.FRAGMENT | GPUShaderStage.VERTEX,\n                },\n                {\n                    binding: 1,\n                    texture: {\n                        viewDimension: '2d',\n                        sampleType: 'depth',\n                    },\n                    visibility: GPUShaderStage.FRAGMENT,\n                },\n                {\n                    binding: 2,\n                    visibility: GPUShaderStage.FRAGMENT,\n                    sampler: {},\n                },\n                {\n                    binding: 3,\n                    visibility: GPUShaderStage.VERTEX,\n                    buffer: { type: 'uniform' },\n                },\n            ],\n        });\n        this.linearSampler = device.createSampler({\n            minFilter: 'linear',\n            magFilter: 'linear',\n            mipmapFilter: 'linear',\n        });\n        this.nearestSampler = device.createSampler({\n            minFilter: 'nearest',\n            magFilter: 'nearest',\n            mipmapFilter: 'nearest',\n        });\n        this.shader = device.createShaderModule({\n            code: SkyboxPass.code,\n            label: 'skybox pass -- shader',\n        });\n        this.pipelineLayout = device.createPipelineLayout({\n            label: 'skybox pass -- pipeline layout',\n            bindGroupLayouts: [\n                cameraUniforms.bindGroupLayout,\n                this.bindgroupLayout,\n            ],\n        });\n        this.uniformBuffer = device.createBuffer({\n            label: 'skybox pass -- uniform buffer',\n            size: 32,\n            usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.UNIFORM,\n        });\n        this.targetFormat = targetFormat;\n        if (skybox != null)\n            this.skyTexture = skybox;\n    }\n    pass(pass) {\n        if (this.textureBindgroup == null || this.pipeline == null)\n            return false;\n        pass.setPipeline(this.pipeline);\n        pass.setBindGroup(0, this.cameraUniforms.bindgroup);\n        pass.setBindGroup(1, this.textureBindgroup);\n        pass.draw(3);\n        return true;\n    }\n}\n_SkyboxPass_skyTexture = new WeakMap(), _SkyboxPass_depthTexture = new WeakMap(), _SkyboxPass_targetFormat = new WeakMap(), _SkyboxPass_useNearestSample = new WeakMap(), _SkyboxPass_instances = new WeakSet(), _SkyboxPass_updateBindgroup = function _SkyboxPass_updateBindgroup() {\n    if (skybox_pass_classPrivateFieldGet(this, _SkyboxPass_skyTexture, \"f\") == null || skybox_pass_classPrivateFieldGet(this, _SkyboxPass_depthTexture, \"f\") == null)\n        return;\n    this.textureBindgroup = this.device.createBindGroup({\n        label: 'skybox pass -- bindgroup',\n        layout: this.bindgroupLayout,\n        entries: [\n            {\n                binding: 0,\n                resource: skybox_pass_classPrivateFieldGet(this, _SkyboxPass_skyTexture, \"f\"),\n            },\n            {\n                binding: 1,\n                resource: skybox_pass_classPrivateFieldGet(this, _SkyboxPass_depthTexture, \"f\"),\n            },\n            {\n                binding: 2,\n                resource: this.useNearestSample\n                    ? this.nearestSampler\n                    : this.linearSampler,\n            },\n            {\n                binding: 3,\n                resource: { buffer: this.uniformBuffer },\n            },\n        ],\n    });\n};\nSkyboxPass.code = `\r\n        ${forward_uniforms.code(0)}\r\n\r\n        struct SkyboxUniforms {\r\n            mipBias: f32,\r\n        };\r\n\r\n        @group(1) @binding(0) var environmentTexture: texture_cube<f32>;\r\n        @group(1) @binding(1) var depthTexture: texture_depth_2d;\r\n        @group(1) @binding(2) var environmentSampler: sampler;\r\n        @group(1) @binding(3) var<uniform> skyboxUniforms: SkyboxUniforms;\r\n\r\n        struct Varyings {\r\n            @builtin(position) position: vec4f,\r\n            @location(0) pos: vec4f,\r\n            @location(1) mipBias: f32,\r\n        };\r\n    \r\n        @vertex \r\n        fn vs(@builtin(vertex_index) vNdx: u32) -> Varyings {\r\n            const pos = array(\r\n                vec2(-1.0,  3.0),\r\n                vec2(-1.0, -1.0),\r\n                vec2( 3.0, -1.0),\r\n            );\r\n    \r\n            var vsOut: Varyings;\r\n            vsOut.position = vec4(pos[vNdx], 0.0, 1.0);\r\n    \r\n            // Ignores the camera's translation without needing a separate rotation matrix.\r\n            vsOut.pos = globals.inverseViewToClip * vsOut.position;\r\n            let w = vsOut.pos.w;\r\n            vsOut.pos.w = 0.0;\r\n            vsOut.pos = globals.inverseWorldToView * vsOut.pos;\r\n            vsOut.pos.w = w;\r\n\r\n            vsOut.mipBias = clamp(skyboxUniforms.mipBias, 0, f32(textureNumLevels(environmentTexture)));\r\n            return vsOut;\r\n        }\r\n\r\n        @fragment\r\n        fn fs(in: Varyings) -> @location(0) vec4f {\r\n            let dimensions = textureDimensions(depthTexture);\r\n            let uv = min(vec2<u32>(floor(in.position.xy)), dimensions - 1);\r\n            let depth = textureLoad(depthTexture, uv, 0);\r\n            if (depth < 1.0) { discard; }\r\n\r\n            let t = normalize(in.pos.xyz / in.pos.w) * vec3(-1.0, 1.0, 1.0);\r\n            let color = textureSampleLevel(environmentTexture, environmentSampler, t, in.mipBias).rgb;\r\n            return vec4(color, 1.0);\r\n        }\r\n    `;\n/* harmony default export */ const skybox_pass = (SkyboxPass);\n\n;// CONCATENATED MODULE: ./src/rendering/renderer.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar renderer_classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Renderer_instances, _Renderer_createResizeObserver;\n\n\n\n\nclass Renderer {\n    setModel(ModelCtor) {\n        this.model = new ModelCtor(this.device, this.skyboxPass, {\n            view: this.colorAttachment.view,\n            format: Renderer.postProcessFormat,\n            size: { width: this.canvas.width, height: this.canvas.height },\n        });\n        return this.model;\n    }\n    constructor(canvas, device) {\n        _Renderer_instances.add(this);\n        this.canvas = canvas;\n        this.device = device;\n        this.colorAttachment = {\n            clearValue: { r: 0, g: 0, b: 0, a: 1 },\n            loadOp: 'clear',\n            storeOp: 'store',\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            view: undefined,\n        };\n        this.passDescriptor = { colorAttachments: [this.colorAttachment] };\n        this.render = () => {\n            var _a, _b;\n            requestAnimationFrame(this.render);\n            this.forwardUniforms.updateDeviceBuffer(this.device.queue, this.camera);\n            const encoder = this.device.createCommandEncoder({ label: 'main render encoder' });\n            const pass = (_b = (_a = this.model) === null || _a === void 0 ? void 0 : _a.render(encoder)) !== null && _b !== void 0 ? _b : encoder.beginRenderPass(this.passDescriptor);\n            this.skyboxPass.pass(pass);\n            pass.end();\n            this.tonemapPass.pass(encoder, this.context.getCurrentTexture());\n            this.device.queue.submit([encoder.finish()]);\n        };\n        const size = { width: this.canvas.width, height: this.canvas.height };\n        this.camera = new camera(size);\n        this.forwardUniforms = new forward_uniforms(this.device);\n        this.tonemapPass = new tonemap_pass(this.device, Renderer.outputFormat);\n        this.skyboxPass = new skybox_pass(this.device, this.forwardUniforms, Renderer.postProcessFormat);\n        const context = this.canvas.getContext('webgpu');\n        if (context == null)\n            throw new Error('renderer -- given canvas already initalized to non-webgpu context');\n        this.context = context;\n        this.context.configure({\n            device: this.device,\n            format: Renderer.outputFormat,\n            usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC,\n            alphaMode: 'opaque',\n            colorSpace: 'srgb',\n        });\n        this.updateBackings(size);\n        renderer_classPrivateFieldGet(this, _Renderer_instances, \"m\", _Renderer_createResizeObserver).call(this, device.limits.maxTextureDimension2D);\n    }\n    static CreateInitalized(canvas) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const adapter = yield navigator.gpu.requestAdapter();\n            if (adapter == null) {\n                throw new Error('Could not initalize GPU.');\n            }\n            const { maxComputeWorkgroupSizeX, maxComputeWorkgroupsPerDimension, maxComputeInvocationsPerWorkgroup, } = adapter.limits;\n            const device = yield adapter.requestDevice({\n                label: 'main logical device',\n                requiredFeatures: Renderer.requiredFeatures,\n                requiredLimits: {\n                    maxComputeWorkgroupSizeX,\n                    maxComputeWorkgroupsPerDimension,\n                    maxComputeInvocationsPerWorkgroup,\n                },\n            });\n            return new Renderer(canvas, device);\n        });\n    }\n    updateBackings(size) {\n        var _a;\n        this.camera.updateParams(size);\n        this.postprocessTarget = this.device.createTexture({\n            dimension: '2d',\n            format: Renderer.postProcessFormat,\n            usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING,\n            size,\n        });\n        this.colorAttachment.view = this.postprocessTarget.createView();\n        this.tonemapPass.updateInput(this.colorAttachment.view);\n        (_a = this.model) === null || _a === void 0 ? void 0 : _a.setTarget({\n            view: this.colorAttachment.view,\n            format: Renderer.postProcessFormat,\n            size,\n        });\n        if (this.model != null)\n            this.skyboxPass.depthTexture = this.model.depthTextureView;\n    }\n}\n_Renderer_instances = new WeakSet(), _Renderer_createResizeObserver = function _Renderer_createResizeObserver(maxDimension) {\n    const resizeCanvas = (rawWidth, rawHeight) => {\n        const width = Math.max(1, Math.min(rawWidth, maxDimension));\n        const height = Math.max(1, Math.min(rawHeight, maxDimension));\n        const dimensions = { width, height };\n        this.canvas.width = width;\n        this.canvas.height = height;\n        this.updateBackings(dimensions);\n    };\n    try {\n        const observer = new ResizeObserver((entries) => {\n            const entry = entries[entries.length - 1];\n            const size = entry.devicePixelContentBoxSize[0];\n            resizeCanvas(size.inlineSize, size.blockSize);\n        });\n        observer.observe(this.canvas, { box: 'device-pixel-content-box' });\n    }\n    catch (_a) {\n        // Safari doesn't support device-pixel-content-box, so it would fail into this.\n        const observer = new ResizeObserver((entries) => {\n            const entry = entries[entries.length - 1];\n            const width = entry.contentBoxSize[0].inlineSize * devicePixelRatio;\n            const height = entry.contentBoxSize[0].blockSize * devicePixelRatio;\n            resizeCanvas(width, height);\n        });\n        observer.observe(this.canvas, { box: 'content-box' });\n    }\n};\nRenderer.requiredFeatures = ['float32-filterable'];\nRenderer.outputFormat = 'rgba8unorm';\nRenderer.postProcessFormat = 'rgba32float';\n/* harmony default export */ const renderer = (Renderer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDYjtBQVd4QyxNQUFxQixNQUFNO0lBd0V2QixZQUFZLGFBQW9DLEVBQUU7O1FBdkRsRDs7OztTQUlDO1FBQ1EsV0FBTSxHQUFnQixJQUFJLFdBQVcsQ0FBQyxFQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFM0QsZ0JBQVcsR0FBUyxJQUFJLFlBQVksQ0FDekMsSUFBSSxDQUFDLE1BQU0sRUFDWCxFQUFNLENBQUMsaUJBQWlCLEVBQ3hCLDJCQUFTLENBQUMsV0FBVyxDQUN4QixDQUFDO1FBRU8sZUFBVSxHQUFTLElBQUksWUFBWSxDQUN4QyxJQUFJLENBQUMsTUFBTSxFQUNYLEVBQU0sQ0FBQyxnQkFBZ0IsRUFDdkIsMkJBQVMsQ0FBQyxXQUFXLENBQ3hCLENBQUM7UUFFTyxnQkFBVyxHQUFTLElBQUksWUFBWSxDQUN6QyxJQUFJLENBQUMsTUFBTSxFQUNYLEVBQU0sQ0FBQyxpQkFBaUIsRUFDeEIsMkJBQVMsQ0FBQyxXQUFXLENBQ3hCLENBQUM7UUFFTyxnQkFBVyxHQUFTLElBQUksWUFBWSxDQUN6QyxJQUFJLENBQUMsTUFBTSxFQUNYLEVBQU0sQ0FBQyxpQkFBaUIsRUFDeEIsMkJBQVMsQ0FBQyxXQUFXLENBQ3hCLENBQUM7UUFFTyxlQUFVLEdBQVMsSUFBSSxZQUFZLENBQ3hDLElBQUksQ0FBQyxNQUFNLEVBQ1gsRUFBTSxDQUFDLGdCQUFnQixFQUN2QiwyQkFBUyxDQUFDLFdBQVcsQ0FDeEIsQ0FBQztRQUVPLGdCQUFXLEdBQVMsSUFBSSxZQUFZLENBQ3pDLElBQUksQ0FBQyxNQUFNLEVBQ1gsRUFBTSxDQUFDLGlCQUFpQixFQUN4QiwyQkFBUyxDQUFDLFdBQVcsQ0FDeEIsQ0FBQztRQUVPLGFBQVEsR0FBUyxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxhQUFRLEdBQVMsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXpELFdBQU0sR0FBaUI7WUFDbkIsU0FBUyxFQUFFLEdBQUc7WUFDZCxRQUFRLEVBQUUsS0FBSztZQUNmLEdBQUcsRUFBRSxFQUFFO1lBQ1AsS0FBSyxFQUFFLElBQUk7WUFDWCxNQUFNLEVBQUUsSUFBSTtZQUNaLFVBQVUsRUFBRSxhQUFhO1NBQzVCLENBQUM7UUFHRSxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxZQUFZLENBQUMsR0FBMEI7UUFDbkMsSUFBSSxDQUFDLE1BQU0sbUNBQVEsSUFBSSxDQUFDLE1BQU0sR0FBSyxHQUFHLENBQUUsQ0FBQztRQUN6QywyQkFBSSxrREFBaUIsTUFBckIsSUFBSSxDQUFtQixDQUFDO0lBQzVCLENBQUM7SUFFRCxTQUFTO1FBQ0wsK0JBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDL0MsK0JBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2RSxvRUFBb0U7UUFDcEUsK0JBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDaEQsK0JBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5RCwrQkFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7OztJQUdHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssYUFBYSxFQUFFLENBQUM7UUFDM0MsK0JBQUksQ0FBQyxXQUFXLENBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFDdEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUNwQixJQUFJLENBQUMsVUFBVSxDQUNsQixDQUFDO0lBQ04sQ0FBQztTQUFNLENBQUM7UUFDSixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDaEMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBRWpDLCtCQUFJLENBQUMsS0FBSyxDQUNOLENBQUMsQ0FBQyxFQUNGLENBQUMsRUFDRCxDQUFDLENBQUMsRUFDRixDQUFDLEVBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUNwQixJQUFJLENBQUMsVUFBVSxDQUNsQixDQUFDO0lBQ04sQ0FBQztJQUVELCtCQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2xELENBQUM7QUFsSGUsa0JBQVcsR0FBRyxJQUFJLFlBQVksQ0FBQztJQUMzQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ1YsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNWLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNYLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7Q0FDYixDQUFDLENBQUM7QUFFYSx3QkFBaUIsR0FBRyxDQUFDLENBQUM7QUFDdEIsdUJBQWdCLEdBQUcsRUFBSSxDQUFDLGlCQUFpQixHQUFHLDJCQUFTLENBQUMsYUFBYSxDQUFDO0FBQ3BFLHdCQUFpQixHQUFHLEVBQUksQ0FBQyxnQkFBZ0IsR0FBRywyQkFBUyxDQUFDLGFBQWEsQ0FBQztBQUNwRSx3QkFBaUIsR0FBRyxFQUFJLENBQUMsaUJBQWlCLEdBQUcsMkJBQVMsQ0FBQyxhQUFhLENBQUM7QUFDckUsdUJBQWdCLEdBQUcsRUFBSSxDQUFDLGlCQUFpQixHQUFHLDJCQUFTLENBQUMsYUFBYSxDQUFDO0FBQ3BFLHdCQUFpQixHQUFHLEVBQUksQ0FBQyxnQkFBZ0IsR0FBRywyQkFBUyxDQUFDLGFBQWEsQ0FBQztBQUVwRSxtQkFBWSxHQUFHLEVBQUksQ0FBQyxpQkFBaUIsR0FBRywyQkFBUyxDQUFDLGFBQWEsQ0FBQzs2Q0FmL0QsTUFBTTs7O0FDWkc7QUFFOUIsTUFBcUIsZUFBZTtJQXNDaEMsWUFBWSxNQUFpQjtRQUN6QixJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFFdEYsSUFBSSxDQUFDLG1CQUFtQixHQUFHO1lBQ3ZCLEtBQUssRUFBRSxrQ0FBa0M7WUFDekMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlO1lBQzVCLE9BQU8sRUFBRTtnQkFDTDtvQkFDSSxPQUFPLEVBQUUsQ0FBQztvQkFDVixRQUFRLEVBQUU7d0JBQ04sTUFBTSxFQUFFLElBQUksQ0FBQyxZQUFZO3dCQUN6QixNQUFNLEVBQUUsQ0FBQzt3QkFDVCxJQUFJLEVBQUUsZUFBZSxDQUFDLFVBQVU7cUJBQ25DO2lCQUNKO2FBQ0o7U0FDSixDQUFDO1FBRUYsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxLQUFlLEVBQUUsTUFBYztRQUM5QyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbkIsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0QsQ0FBQzs7QUE5RGUsb0JBQUksR0FBRyxDQUFDLEtBQWEsRUFBRSxFQUFFLENBQUMsVUFBVTs7Ozs7Ozs7OztpQkFVdkMsS0FBSztLQUNqQixDQUFDO0FBRWMsMEJBQVUsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDO0FBRWpDLGdDQUFnQixHQUFpQztJQUM3RCxLQUFLLEVBQUUseUJBQXlCO0lBQ2hDLE9BQU8sRUFBRTtRQUNMO1lBQ0ksT0FBTyxFQUFFLENBQUM7WUFDVixNQUFNLEVBQUUsRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLFVBQVUsRUFBRTtZQUN0RCxVQUFVLEVBQUUsY0FBYyxDQUFDLE1BQU07U0FDcEM7S0FDSjtDQUNKLENBQUM7QUFFYyxnQ0FBZ0IsR0FBd0I7SUFDcEQsS0FBSyxFQUFFLHlCQUF5QjtJQUNoQyxJQUFJLEVBQUUsZUFBZSxDQUFDLFVBQVU7SUFDaEMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxPQUFPLEdBQUcsY0FBYyxDQUFDLFFBQVE7Q0FDMUQsQ0FBQzt1REEvQmUsZUFBZTs7O0FDRnBDLGlFQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBa0J4QixFQUFDOzs7QUNsQjZDO0FBRS9DLE1BQXFCLFdBQVc7SUFvRTVCLFlBQ1csTUFBaUIsRUFDeEIsTUFBd0I7UUFEakIsV0FBTSxHQUFOLE1BQU0sQ0FBVztRQXBCNUIsb0JBQWUsR0FBaUM7WUFDNUMsTUFBTSxFQUFFLE1BQU07WUFDZCxPQUFPLEVBQUUsT0FBTztZQUNoQixvRUFBb0U7WUFDcEUsSUFBSSxFQUFFLFNBQVU7U0FDbkIsQ0FBQztRQUVGLG1CQUFjLEdBQTRCO1lBQ3RDLEtBQUssRUFBRSwwQkFBMEI7WUFDakMsZ0JBQWdCLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO1NBQzNDLENBQUM7UUFhRSxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDM0YsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUU5RixJQUFJLENBQUMsa0JBQWtCLEdBQUc7WUFDdEIsS0FBSyxFQUFFLGtCQUFrQjtZQUN6QixNQUFNLEVBQUUsTUFBTSxDQUFDLG9CQUFvQixDQUFDO2dCQUNoQyxLQUFLLEVBQUUsMEJBQTBCO2dCQUNqQyxnQkFBZ0IsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7YUFDM0MsQ0FBQztZQUNGLE1BQU0sRUFBRTtnQkFDSixNQUFNO2dCQUNOLFVBQVUsRUFBRSxJQUFJO2FBQ25CO1lBQ0QsUUFBUSxFQUFFO2dCQUNOLE1BQU07Z0JBQ04sVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7YUFDL0I7U0FDSixDQUFDO1FBRUYsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFxQjtRQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDO1lBQ3pDLEtBQUssRUFBRSxtQkFBbUI7WUFDMUIsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlO1lBQzVCLE9BQU8sRUFBRSxDQUFDO29CQUNOLE9BQU8sRUFBRSxDQUFDO29CQUNWLFFBQVEsRUFBRSxLQUFLO2lCQUNsQixDQUFDO1NBQ0wsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELElBQUksQ0FBQyxPQUEwQixFQUFFLE1BQWtCO1FBQy9DLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJO1lBQUUsT0FBTztRQUVuQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3pDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUM5RSxDQUFDO1FBRUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBRW5FLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2IsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ2YsQ0FBQzs7QUF6SGUsZ0JBQUksR0FBYTs7O1VBRzNCLGdCQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0tBa0NULENBQUM7QUFFYyxxQ0FBeUIsR0FBaUM7SUFDdEUsS0FBSyxFQUFFLDBCQUEwQjtJQUNqQyxPQUFPLEVBQUUsQ0FBQztZQUNOLE9BQU8sRUFBRSxDQUFDO1lBQ1YsT0FBTyxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFO1lBQ3JELFVBQVUsRUFBRSxjQUFjLENBQUMsUUFBUTtTQUN0QyxDQUFDO0NBQ0wsQ0FBQzttREEvQ2UsV0FBVzs7Ozs7Ozs7Ozs7Ozs7O0FDRmlCO0FBRWpELE1BQXFCLFVBQVU7SUF3RTNCLElBQUksUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0MsSUFBSSxRQUFRLENBQUMsR0FBVztRQUNwQixJQUFJLEdBQUcsS0FBSyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUFFLE9BQU87UUFDekMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFRCxJQUFJLGdCQUFnQixLQUFLLE9BQU8scUNBQUksb0NBQWtCLENBQUMsQ0FBQyxDQUFDO0lBQ3pELElBQUksZ0JBQWdCLENBQUMsR0FBWTtRQUM3QixJQUFJLEdBQUcsS0FBSyxxQ0FBSSxvQ0FBa0I7WUFBRSxPQUFPO1FBQzNDLDJCQUFJLGdDQUFxQixHQUFHLE9BQUM7UUFDN0IscUNBQUksMERBQWlCLE1BQXJCLElBQUksQ0FBbUIsQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxZQUFZLEtBQUssT0FBTyxxQ0FBSSxnQ0FBYyxDQUFDLENBQUMsQ0FBQztJQUNqRCxJQUFJLFlBQVksQ0FBQyxNQUF3QjtRQUNyQyxJQUFJLE1BQU0sS0FBSyxxQ0FBSSxnQ0FBYztZQUFFLE9BQU87UUFDMUMsMkJBQUksNEJBQWlCLE1BQU0sT0FBQztRQUU1QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUM7WUFDN0MsS0FBSyxFQUFFLHlCQUF5QjtZQUNoQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGNBQWM7WUFDM0IsTUFBTSxFQUFFO2dCQUNKLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07YUFDdEI7WUFDRCxRQUFRLEVBQUU7Z0JBQ04sVUFBVSxFQUFFLElBQUk7Z0JBQ2hCLE9BQU8sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUM7Z0JBQ3JCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTthQUN0QjtTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxJQUFJLFVBQVUsQ0FBQyxNQUFzQjtRQUNqQyxJQUFJLE1BQU0sS0FBSyxxQ0FBSSw4QkFBWTtZQUFFLE9BQU87UUFDeEMsMkJBQUksMEJBQWUsTUFBTSxPQUFDO1FBQzFCLHFDQUFJLDBEQUFpQixNQUFyQixJQUFJLENBQW1CLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksWUFBWSxDQUFDLFlBQTRCO1FBQ3pDLElBQUksWUFBWSxLQUFLLHFDQUFJLGdDQUFjO1lBQUUsT0FBTztRQUNoRCwyQkFBSSw0QkFBaUIsWUFBWSxPQUFDO1FBQ2xDLHFDQUFJLDBEQUFpQixNQUFyQixJQUFJLENBQW1CLENBQUM7SUFDNUIsQ0FBQztJQVlELFlBQ1csTUFBaUIsRUFDakIsY0FBK0IsRUFDdEMsWUFBOEIsRUFDOUIsTUFBdUI7O1FBSGhCLFdBQU0sR0FBTixNQUFNLENBQVc7UUFDakIsbUJBQWMsR0FBZCxjQUFjLENBQWlCO1FBbkUxQyxpQkFBWSxHQUFHLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBSW5DLHlDQUE2QjtRQUM3QiwyQ0FBK0I7UUFDL0IsMkNBQWlDO1FBQ2pDLHVDQUFvQixLQUFLLEVBQUM7UUFnRDFCLFdBQU0sR0FBaUM7WUFDbkMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUM5QyxNQUFNLEVBQUUsT0FBTztZQUNmLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLG9FQUFvRTtZQUNwRSxJQUFJLEVBQUUsU0FBVTtTQUNuQixDQUFDO1FBRU8sbUJBQWMsR0FBNEIsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBUW5GLElBQUksQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixDQUFDO1lBQ2hELEtBQUssRUFBRSxpQ0FBaUM7WUFDeEMsT0FBTyxFQUFFO2dCQUNMO29CQUNJLE9BQU8sRUFBRSxDQUFDO29CQUNWLE9BQU8sRUFBRSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUU7b0JBQ2xDLFVBQVUsRUFBRSxjQUFjLENBQUMsUUFBUSxHQUFHLGNBQWMsQ0FBQyxNQUFNO2lCQUM5RDtnQkFDRDtvQkFDSSxPQUFPLEVBQUUsQ0FBQztvQkFDVixPQUFPLEVBQUU7d0JBQ0wsYUFBYSxFQUFFLElBQUk7d0JBQ25CLFVBQVUsRUFBRSxPQUFPO3FCQUN0QjtvQkFDRCxVQUFVLEVBQUUsY0FBYyxDQUFDLFFBQVE7aUJBQ3RDO2dCQUNEO29CQUNJLE9BQU8sRUFBRSxDQUFDO29CQUNWLFVBQVUsRUFBRSxjQUFjLENBQUMsUUFBUTtvQkFDbkMsT0FBTyxFQUFFLEVBQUU7aUJBQ2Q7Z0JBQ0Q7b0JBQ0ksT0FBTyxFQUFFLENBQUM7b0JBQ1YsVUFBVSxFQUFFLGNBQWMsQ0FBQyxNQUFNO29CQUNqQyxNQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFO2lCQUM5QjthQUNKO1NBQ0osQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDO1lBQ3RDLFNBQVMsRUFBRSxRQUFRO1lBQ25CLFNBQVMsRUFBRSxRQUFRO1lBQ25CLFlBQVksRUFBRSxRQUFRO1NBQ3pCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztZQUN2QyxTQUFTLEVBQUUsU0FBUztZQUNwQixTQUFTLEVBQUUsU0FBUztZQUNwQixZQUFZLEVBQUUsU0FBUztTQUMxQixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztZQUNwQyxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7WUFDckIsS0FBSyxFQUFFLHVCQUF1QjtTQUNqQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQztZQUM5QyxLQUFLLEVBQUUsZ0NBQWdDO1lBQ3ZDLGdCQUFnQixFQUFFO2dCQUNkLGNBQWMsQ0FBQyxlQUFlO2dCQUM5QixJQUFJLENBQUMsZUFBZTthQUN2QjtTQUNKLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUNyQyxLQUFLLEVBQUUsK0JBQStCO1lBQ3RDLElBQUksRUFBRSxFQUFFO1lBQ1IsS0FBSyxFQUFFLGNBQWMsQ0FBQyxRQUFRLEdBQUcsY0FBYyxDQUFDLE9BQU87U0FDMUQsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDakMsSUFBSSxNQUFNLElBQUksSUFBSTtZQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDO0lBQ2pELENBQUM7SUFFRCxJQUFJLENBQUMsSUFBMEI7UUFDM0IsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSTtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7OztJQUdHLElBQUkscUNBQUksOEJBQVksSUFBSSxJQUFJLElBQUkscUNBQUksZ0NBQWMsSUFBSSxJQUFJO1FBQUUsT0FBTztJQUVuRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUM7UUFDaEQsS0FBSyxFQUFFLDBCQUEwQjtRQUNqQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWU7UUFDNUIsT0FBTyxFQUFFO1lBQ0w7Z0JBQ0ksT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLHFDQUFJLDhCQUFZO2FBQzdCO1lBQ0Q7Z0JBQ0ksT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLHFDQUFJLGdDQUFjO2FBQy9CO1lBQ0Q7Z0JBQ0ksT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLElBQUksQ0FBQyxnQkFBZ0I7b0JBQzNCLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYztvQkFDckIsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhO2FBQzNCO1lBQ0Q7Z0JBQ0ksT0FBTyxFQUFFLENBQUM7Z0JBQ1YsUUFBUSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUU7YUFDM0M7U0FDSjtLQUNKLENBQUMsQ0FBQztBQUNQLENBQUM7QUF6T2UsZUFBSSxHQUFhO1VBQzNCLGdCQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0FrRDVCLENBQUM7a0RBcERlLFVBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ZEO0FBQ21CO0FBQ1I7QUFDRjtBQUd2QyxNQUFxQixRQUFRO0lBMEJ6QixRQUFRLENBQUMsU0FBMkI7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDckQsSUFBSSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSTtZQUMvQixNQUFNLEVBQUUsUUFBUSxDQUFDLGlCQUFpQjtZQUNsQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO1NBQ2pFLENBQUMsQ0FBQztRQUNILE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFDVyxNQUF5QixFQUN6QixNQUFpQjs7UUFEakIsV0FBTSxHQUFOLE1BQU0sQ0FBbUI7UUFDekIsV0FBTSxHQUFOLE1BQU0sQ0FBVztRQWhDNUIsb0JBQWUsR0FBaUM7WUFDNUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUN0QyxNQUFNLEVBQUUsT0FBTztZQUNmLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLG9FQUFvRTtZQUNwRSxJQUFJLEVBQUUsU0FBVTtTQUNuQixDQUFDO1FBRUYsbUJBQWMsR0FBNEIsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDO1FBK0h2RixXQUFNLEdBQUcsR0FBRyxFQUFFOztZQUNWLHFCQUFxQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVuQyxJQUFJLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUV4RSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEVBQUUsS0FBSyxFQUFFLHFCQUFxQixFQUFFLENBQUMsQ0FBQztZQUNuRixNQUFNLElBQUksR0FBRyxnQkFBSSxDQUFDLEtBQUssMENBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxtQ0FBSSxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUN6RixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFFWCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7WUFFakUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqRCxDQUFDLENBQUM7UUFsSEUsTUFBTSxJQUFJLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksZ0JBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLFlBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUV2RSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksV0FBVSxDQUM1QixJQUFJLENBQUMsTUFBTSxFQUNYLElBQUksQ0FBQyxlQUFlLEVBQ3BCLFFBQVEsQ0FBQyxpQkFBaUIsQ0FDN0IsQ0FBQztRQUVGLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pELElBQUksT0FBTyxJQUFJLElBQUk7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7UUFFMUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFzQyxDQUFDO1FBRXRELElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDO1lBQ25CLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNuQixNQUFNLEVBQUUsUUFBUSxDQUFDLFlBQVk7WUFDN0IsS0FBSyxFQUFFLGVBQWUsQ0FBQyxpQkFBaUIsR0FBRyxlQUFlLENBQUMsUUFBUTtZQUNuRSxTQUFTLEVBQUUsUUFBUTtZQUNuQixVQUFVLEVBQUUsTUFBTTtTQUNyQixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTFCLGtDQUFJLDJEQUFzQixNQUExQixJQUFJLEVBQXVCLE1BQU0sQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsTUFBTSxDQUFPLGdCQUFnQixDQUFDLE1BQXlCOztZQUNuRCxNQUFNLE9BQU8sR0FBRyxNQUFNLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckQsSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQ2xCLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBRUQsTUFBTSxFQUNGLHdCQUF3QixFQUN4QixnQ0FBZ0MsRUFDaEMsaUNBQWlDLEdBQ3BDLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUNuQixNQUFNLE1BQU0sR0FBRyxNQUFNLE9BQU8sQ0FBQyxhQUFhLENBQUM7Z0JBQ3ZDLEtBQUssRUFBRSxxQkFBcUI7Z0JBQzVCLGdCQUFnQixFQUFFLFFBQVEsQ0FBQyxnQkFBZ0I7Z0JBQzNDLGNBQWMsRUFBRTtvQkFDWix3QkFBd0I7b0JBQ3hCLGdDQUFnQztvQkFDaEMsaUNBQWlDO2lCQUNwQzthQUNKLENBQUMsQ0FBQztZQUVILE9BQU8sSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLENBQUM7S0FBQTtJQUVELGNBQWMsQ0FBQyxJQUF1Qzs7UUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1lBQy9DLFNBQVMsRUFBRSxJQUFJO1lBQ2YsTUFBTSxFQUFFLFFBQVEsQ0FBQyxpQkFBaUI7WUFDbEMsS0FBSyxFQUFFLGVBQWUsQ0FBQyxpQkFBaUIsR0FBRyxlQUFlLENBQUMsZUFBZTtZQUMxRSxJQUFJO1NBQ1AsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2hFLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEQsVUFBSSxDQUFDLEtBQUssMENBQUUsU0FBUyxDQUFDO1lBQ2xCLElBQUksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUk7WUFDL0IsTUFBTSxFQUFFLFFBQVEsQ0FBQyxpQkFBaUI7WUFDbEMsSUFBSTtTQUNQLENBQUMsQ0FBQztRQUNILElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJO1lBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztJQUN2RixDQUFDOzs4R0FFcUIsWUFBb0I7SUFDdEMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxRQUFnQixFQUFFLFNBQWlCLEVBQUUsRUFBRTtRQUN6RCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQzVELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDOUQsTUFBTSxVQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQztJQUVGLElBQUksQ0FBQztRQUNELE1BQU0sUUFBUSxHQUFHLElBQUksY0FBYyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDNUMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDMUMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hELFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUMsQ0FBQztRQUNILFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsRUFBRSwwQkFBMEIsRUFBRSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUFDLFdBQU0sQ0FBQztRQUNMLCtFQUErRTtRQUMvRSxNQUFNLFFBQVEsR0FBRyxJQUFJLGNBQWMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzVDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzFDLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxHQUFHLGdCQUFnQixDQUFDO1lBQ3BFLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDO1lBQ3BFLFlBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7UUFDSCxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUMxRCxDQUFDO0FBQ0wsQ0FBQztBQXpJZSx5QkFBZ0IsR0FBcUIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQzVELHFCQUFZLEdBQXFCLFlBQVksQ0FBQztBQUM5QywwQkFBaUIsR0FBcUIsYUFBYSxDQUFDOytDQUhuRCxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy9jYW1lcmEudHM/MWI5ZiIsIndlYnBhY2s6Ly9jYnVudC1wb3J0Zm9saW8vLi9zcmMvcmVuZGVyaW5nL2ZvcndhcmQtdW5pZm9ybXMudHM/NDExNSIsIndlYnBhY2s6Ly9jYnVudC1wb3J0Zm9saW8vLi9zcmMvc2hhZGVycy9ibGl0LXZlcnQuc2hhZGVyLnRzP2E1MTgiLCJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy90b25lbWFwLXBhc3MudHM/OWE1MSIsIndlYnBhY2s6Ly9jYnVudC1wb3J0Zm9saW8vLi9zcmMvcmVuZGVyaW5nL3NreWJveC1wYXNzLnRzPzJlZTMiLCJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy9yZW5kZXJlci50cz8yYjhiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlYzMsIE1hdDQsIG1hdDQsIFF1YXQgfSBmcm9tICd3Z3B1LW1hdHJpeCc7XHJcbmltcG9ydCB7IFR5cGVTaXplcyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCB0eXBlIENhbWVyYVBhcmFtcyA9IHtcclxuICAgIG5lYXJQbGFuZTogbnVtYmVyLFxyXG4gICAgZmFyUGxhbmU6IG51bWJlcixcclxuICAgIGZvdjogbnVtYmVyLFxyXG4gICAgd2lkdGg6IG51bWJlcixcclxuICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgcHJvamVjdGlvbjogJ3BlcnNwZWN0aXZlJyB8ICdvcnRobycsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IG9yaWVudGF0aW9uID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgMSwgMCwgMCwgMCxcclxuICAgICAgICAwLCAxLCAwLCAwLFxyXG4gICAgICAgIDAsIDAsIC0xLCAwLFxyXG4gICAgICAgIDAsIDAsIDAsIDEsXHJcbiAgICBdKTtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgd29ybGRUb1ZpZXdPZmZzZXQgPSAwO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHZpZXdUb0NsaXBPZmZzZXQgPSB0aGlzLndvcmxkVG9WaWV3T2Zmc2V0ICsgVHlwZVNpemVzLnNpemVvZk1hdDR4NGY7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgd29ybGRUb0NsaXBPZmZzZXQgPSB0aGlzLnZpZXdUb0NsaXBPZmZzZXQgKyBUeXBlU2l6ZXMuc2l6ZW9mTWF0NHg0ZjtcclxuICAgIHN0YXRpYyByZWFkb25seSB2aWV3VG9Xb3JsZE9mZnNldCA9IHRoaXMud29ybGRUb0NsaXBPZmZzZXQgKyBUeXBlU2l6ZXMuc2l6ZW9mTWF0NHg0ZjtcclxuICAgIHN0YXRpYyByZWFkb25seSBjbGlwVG9WaWV3T2Zmc2V0ID0gdGhpcy52aWV3VG9Xb3JsZE9mZnNldCArIFR5cGVTaXplcy5zaXplb2ZNYXQ0eDRmO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNsaXBUb1dvcmxkT2Zmc2V0ID0gdGhpcy5jbGlwVG9WaWV3T2Zmc2V0ICsgVHlwZVNpemVzLnNpemVvZk1hdDR4NGY7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IGJ1ZmZlckxlbmd0aCA9IHRoaXMuY2xpcFRvV29ybGRPZmZzZXQgKyBUeXBlU2l6ZXMuc2l6ZW9mTWF0NHg0ZjtcclxuXHJcbiAgICAvKipcclxuICAgKiAgQW4gQXJyYXlCdWZmZXIgY29udGFpbmluZyB0aGUgY2FtZXJhJ3Mgd29ybGRUb1ZpZXcsIHZpZXdUb0NsaXAsIHdvcmxkVG9DbGlwLFxyXG4gICAqICB2aWV3VG9Xb3JsZCwgY2xpcFRvVmlldywgYW5kIGNsaXBUb1dvcmxkIG1hdHJpY2VzIGFzIEZsb2F0MzJBcnJheXMgZm9yXHJcbiAgICogIGVhc2llciB0cmFuc2Zlci4gT3JkZXJlZCBhcyBsaXN0ZWQgYWJvdmUuXHJcbiAgICovXHJcbiAgICByZWFkb25seSBidWZmZXI6IEFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKENhbWVyYS5idWZmZXJMZW5ndGgpO1xyXG5cclxuICAgIHJlYWRvbmx5IHdvcmxkVG9WaWV3OiBNYXQ0ID0gbmV3IEZsb2F0MzJBcnJheShcclxuICAgICAgICB0aGlzLmJ1ZmZlcixcclxuICAgICAgICBDYW1lcmEud29ybGRUb1ZpZXdPZmZzZXQsXHJcbiAgICAgICAgVHlwZVNpemVzLm1hdDR4NENvdW50LFxyXG4gICAgKTtcclxuXHJcbiAgICByZWFkb25seSB2aWV3VG9DbGlwOiBNYXQ0ID0gbmV3IEZsb2F0MzJBcnJheShcclxuICAgICAgICB0aGlzLmJ1ZmZlcixcclxuICAgICAgICBDYW1lcmEudmlld1RvQ2xpcE9mZnNldCxcclxuICAgICAgICBUeXBlU2l6ZXMubWF0NHg0Q291bnQsXHJcbiAgICApO1xyXG5cclxuICAgIHJlYWRvbmx5IHdvcmxkVG9DbGlwOiBNYXQ0ID0gbmV3IEZsb2F0MzJBcnJheShcclxuICAgICAgICB0aGlzLmJ1ZmZlcixcclxuICAgICAgICBDYW1lcmEud29ybGRUb0NsaXBPZmZzZXQsXHJcbiAgICAgICAgVHlwZVNpemVzLm1hdDR4NENvdW50LFxyXG4gICAgKTtcclxuXHJcbiAgICByZWFkb25seSB2aWV3VG9Xb3JsZDogTWF0NCA9IG5ldyBGbG9hdDMyQXJyYXkoXHJcbiAgICAgICAgdGhpcy5idWZmZXIsXHJcbiAgICAgICAgQ2FtZXJhLnZpZXdUb1dvcmxkT2Zmc2V0LFxyXG4gICAgICAgIFR5cGVTaXplcy5tYXQ0eDRDb3VudCxcclxuICAgICk7XHJcblxyXG4gICAgcmVhZG9ubHkgY2xpcFRvVmlldzogTWF0NCA9IG5ldyBGbG9hdDMyQXJyYXkoXHJcbiAgICAgICAgdGhpcy5idWZmZXIsXHJcbiAgICAgICAgQ2FtZXJhLmNsaXBUb1ZpZXdPZmZzZXQsXHJcbiAgICAgICAgVHlwZVNpemVzLm1hdDR4NENvdW50LFxyXG4gICAgKTtcclxuXHJcbiAgICByZWFkb25seSBjbGlwVG9Xb3JsZDogTWF0NCA9IG5ldyBGbG9hdDMyQXJyYXkoXHJcbiAgICAgICAgdGhpcy5idWZmZXIsXHJcbiAgICAgICAgQ2FtZXJhLmNsaXBUb1dvcmxkT2Zmc2V0LFxyXG4gICAgICAgIFR5cGVTaXplcy5tYXQ0eDRDb3VudCxcclxuICAgICk7XHJcblxyXG4gICAgcmVhZG9ubHkgbG9jYXRpb246IFZlYzMgPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwXSk7XHJcbiAgICByZWFkb25seSByb3RhdGlvbjogUXVhdCA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDAsIDFdKTtcclxuXHJcbiAgICBwYXJhbXM6IENhbWVyYVBhcmFtcyA9IHtcclxuICAgICAgICBuZWFyUGxhbmU6IDAuMyxcclxuICAgICAgICBmYXJQbGFuZTogNTAwLjAsXHJcbiAgICAgICAgZm92OiA2MCxcclxuICAgICAgICB3aWR0aDogMTkyMCxcclxuICAgICAgICBoZWlnaHQ6IDEwODAsXHJcbiAgICAgICAgcHJvamVjdGlvbjogJ3BlcnNwZWN0aXZlJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3Iodmlld1BhcmFtczogUGFydGlhbDxDYW1lcmFQYXJhbXM+ID0ge30pIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVBhcmFtcyh2aWV3UGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQYXJhbXModmFsOiBQYXJ0aWFsPENhbWVyYVBhcmFtcz4pIHtcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHsgLi4udGhpcy5wYXJhbXMsIC4uLnZhbCB9O1xyXG4gICAgICAgIHRoaXMuI2NhY2hlUHJvamVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNhY2hlVmlldygpOiB2b2lkIHtcclxuICAgICAgICBtYXQ0LmZyb21RdWF0KHRoaXMucm90YXRpb24sIHRoaXMudmlld1RvV29ybGQpO1xyXG4gICAgICAgIG1hdDQuc2V0VHJhbnNsYXRpb24odGhpcy52aWV3VG9Xb3JsZCwgdGhpcy5sb2NhdGlvbiwgdGhpcy52aWV3VG9Xb3JsZCk7XHJcbiAgICAgICAgLy8gbWF0NC5tdWwodGhpcy52aWV3VG9Xb3JsZCwgQ2FtZXJhLm9yaWVudGF0aW9uLCB0aGlzLnZpZXdUb1dvcmxkKTtcclxuICAgICAgICBtYXQ0LmludmVydCh0aGlzLnZpZXdUb1dvcmxkLCB0aGlzLndvcmxkVG9WaWV3KTtcclxuICAgICAgICBtYXQ0Lm11bCh0aGlzLnZpZXdUb0NsaXAsIHRoaXMud29ybGRUb1ZpZXcsIHRoaXMud29ybGRUb0NsaXApO1xyXG4gICAgICAgIG1hdDQubXVsKHRoaXMudmlld1RvV29ybGQsIHRoaXMuY2xpcFRvVmlldywgdGhpcy5jbGlwVG9Xb3JsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgI2NhY2hlUHJvamVjdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJhbXMucHJvamVjdGlvbiA9PT0gJ3BlcnNwZWN0aXZlJykge1xyXG4gICAgICAgICAgICBtYXQ0LnBlcnNwZWN0aXZlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuZm92ICogKE1hdGguUEkgLyAxODApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMud2lkdGggLyB0aGlzLnBhcmFtcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5uZWFyUGxhbmUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5mYXJQbGFuZSxcclxuICAgICAgICAgICAgICAgIHRoaXMudmlld1RvQ2xpcCxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5wYXJhbXMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5wYXJhbXMuaGVpZ2h0IC8gMjtcclxuXHJcbiAgICAgICAgICAgIG1hdDQub3J0aG8oXHJcbiAgICAgICAgICAgICAgICAteCxcclxuICAgICAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgICAgICAteSxcclxuICAgICAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5uZWFyUGxhbmUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5mYXJQbGFuZSxcclxuICAgICAgICAgICAgICAgIHRoaXMudmlld1RvQ2xpcCxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hdDQuaW52ZXJ0KHRoaXMudmlld1RvQ2xpcCwgdGhpcy5jbGlwVG9WaWV3KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQ2FtZXJhIGZyb20gJy4vY2FtZXJhJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcndhcmRVbmlmb3JtcyB7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgY29kZSA9IChncm91cDogbnVtYmVyKSA9PiAvKiB3Z3NsICovYFxyXG4gICAgICAgIHN0cnVjdCBGb3J3YXJkVW5pZm9ybXMge1xyXG4gICAgICAgICAgICB3b3JsZFRvVmlldzogbWF0NHg0ZixcclxuICAgICAgICAgICAgdmlld1RvQ2xpcDogbWF0NHg0ZixcclxuICAgICAgICAgICAgd29ybGRUb0NsaXA6IG1hdDR4NGYsXHJcbiAgICAgICAgICAgIGludmVyc2VXb3JsZFRvVmlldzogbWF0NHg0ZixcclxuICAgICAgICAgICAgaW52ZXJzZVZpZXdUb0NsaXA6IG1hdDR4NGYsXHJcbiAgICAgICAgICAgIGludmVyc2VXb3JsZFRvQ2xpcDogbWF0NHg0ZixcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEBncm91cCgke2dyb3VwfSkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdsb2JhbHM6IEZvcndhcmRVbmlmb3JtcztcclxuICAgIGA7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IGJ1ZmZlclNpemUgPSBDYW1lcmEuYnVmZmVyTGVuZ3RoO1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBsYXlvdXREZXNjcmlwdG9yOiBHUFVCaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yID0ge1xyXG4gICAgICAgIGxhYmVsOiAnRm9yd2FyZCB1bmlmb3JtcyBsYXlvdXQnLFxyXG4gICAgICAgIGVudHJpZXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcjogeyBtaW5CaW5kaW5nU2l6ZTogRm9yd2FyZFVuaWZvcm1zLmJ1ZmZlclNpemUgfSxcclxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLlZFUlRFWCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgYnVmZmVyRGVzY3JpcHRvcjogR1BVQnVmZmVyRGVzY3JpcHRvciA9IHtcclxuICAgICAgICBsYWJlbDogJ0ZvcndhcmQgdW5pZm9ybXMgYnVmZmVyJyxcclxuICAgICAgICBzaXplOiBGb3J3YXJkVW5pZm9ybXMuYnVmZmVyU2l6ZSxcclxuICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxyXG4gICAgfTtcclxuXHJcbiAgICBkZXZpY2VCdWZmZXI6IEdQVUJ1ZmZlcjtcclxuICAgIGJpbmRHcm91cExheW91dDogR1BVQmluZEdyb3VwTGF5b3V0O1xyXG4gICAgYmluZEdyb3VwRGVzY3JpcHRvciE6IEdQVUJpbmRHcm91cERlc2NyaXB0b3I7XHJcbiAgICBiaW5kZ3JvdXAhOiBHUFVCaW5kR3JvdXA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGV2aWNlOiBHUFVEZXZpY2UpIHtcclxuICAgICAgICB0aGlzLmRldmljZUJ1ZmZlciA9IGRldmljZS5jcmVhdGVCdWZmZXIoRm9yd2FyZFVuaWZvcm1zLmJ1ZmZlckRlc2NyaXB0b3IpO1xyXG4gICAgICAgIHRoaXMuYmluZEdyb3VwTGF5b3V0ID0gZGV2aWNlLmNyZWF0ZUJpbmRHcm91cExheW91dChGb3J3YXJkVW5pZm9ybXMubGF5b3V0RGVzY3JpcHRvcik7XHJcblxyXG4gICAgICAgIHRoaXMuYmluZEdyb3VwRGVzY3JpcHRvciA9IHtcclxuICAgICAgICAgICAgbGFiZWw6ICdmb3J3YXJkIHBhc3MgdW5pZm9ybXMgYmluZCBncm91cCcsXHJcbiAgICAgICAgICAgIGxheW91dDogdGhpcy5iaW5kR3JvdXBMYXlvdXQsXHJcbiAgICAgICAgICAgIGVudHJpZXM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogdGhpcy5kZXZpY2VCdWZmZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogRm9yd2FyZFVuaWZvcm1zLmJ1ZmZlclNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5iaW5kZ3JvdXAgPSBkZXZpY2UuY3JlYXRlQmluZEdyb3VwKHRoaXMuYmluZEdyb3VwRGVzY3JpcHRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRGV2aWNlQnVmZmVyKHF1ZXVlOiBHUFVRdWV1ZSwgY2FtZXJhOiBDYW1lcmEpIHtcclxuICAgICAgICBjYW1lcmEuY2FjaGVWaWV3KCk7XHJcbiAgICAgICAgcXVldWUud3JpdGVCdWZmZXIodGhpcy5kZXZpY2VCdWZmZXIsIDAsIGNhbWVyYS5idWZmZXIpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi9gXHJcbiAgICBzdHJ1Y3QgVmVydE91dCB7XHJcbiAgICAgICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvczogdmVjNGYsXHJcbiAgICAgICAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyZixcclxuICAgIH1cclxuXHJcbiAgICBAdmVydGV4XHJcbiAgICBmbiB2cyhAYnVpbHRpbih2ZXJ0ZXhfaW5kZXgpIGlkeDogdTMyKSAtPiBWZXJ0T3V0IHtcclxuICAgICAgICBjb25zdCBwb3MgPSBhcnJheShcclxuICAgICAgICAgICAgdmVjMmYoLTEsICAzKSxcclxuICAgICAgICAgICAgdmVjMmYoMywgLTEpLFxyXG4gICAgICAgICAgICB2ZWMyZigtMSwgLTEpLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIHJlczogVmVydE91dDtcclxuICAgICAgICByZXMucG9zID0gdmVjNGYocG9zW2lkeF0sIDAuMCwgMS4wKTtcclxuICAgICAgICByZXMudXYgPSBwb3NbaWR4XTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG5gO1xyXG4iLCJpbXBvcnQgYmxpdCBmcm9tICcuLi9zaGFkZXJzL2JsaXQtdmVydC5zaGFkZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9uZW1hcFBhc3Mge1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNvZGUgPSAvKiB3Z3NsICovYFxyXG4gICAgICAgIEBncm91cCgwKSBAYmluZGluZygwKSB2YXIgY29sb3JUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XHJcblxyXG4gICAgICAgICR7YmxpdH1cclxuXHJcbiAgICAgICAgZm4gYWNlc190b25lX21hcChoZHI6IHZlYzNmKSAtPiB2ZWMzZiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG0xID0gbWF0M3gzKFxyXG4gICAgICAgICAgICAgICAgMC41OTcxOSwgMC4wNzYwMCwgMC4wMjg0MCxcclxuICAgICAgICAgICAgICAgIDAuMzU0NTgsIDAuOTA4MzQsIDAuMTMzODMsXHJcbiAgICAgICAgICAgICAgICAwLjA0ODIzLCAwLjAxNTY2LCAwLjgzNzc3LFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb25zdCBtMiA9IG1hdDN4MyhcclxuICAgICAgICAgICAgICAgIDEuNjA0NzUsIC0wLjEwMjA4LCAtMC4wMDMyNyxcclxuICAgICAgICAgICAgICAgIC0wLjUzMTA4LCAxLjEwODEzLCAtMC4wNzI3NixcclxuICAgICAgICAgICAgICAgIC0wLjA3MzY3LCAtMC4wMDYwNSwgMS4wNzYwMixcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgYm9vc3QgPSAxLjAgLyAwLjY7XHJcbiAgICAgICAgICAgIGxldCB2ID0gbTEgKiAoaGRyKTtcclxuICAgICAgICAgICAgbGV0IGEgPSB2ICogKHYgKyAwLjAyNDU3ODYpIC0gMC4wMDAwOTA1Mzc7XHJcbiAgICAgICAgICAgIGxldCBiID0gdiAqICgwLjk4MzcyOSAqIHYgKyAwLjQzMjk1MTApICsgMC4yMzgwODE7XHJcbiAgICAgICAgICAgIHJldHVybiBzYXR1cmF0ZShtMiAqIChhIC8gYikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm4gZ2FtbWFfY29ycmVjdChjb2xvcjogdmVjM2YpIC0+IHZlYzNmIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVhcl90b19zcmdiKGNvbG9yIC8gKGNvbG9yICsgdmVjMygxLjApKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmbiBsaW5lYXJfdG9fc3JnYihjb2xvcjogdmVjM2YpIC0+IHZlYzNmIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvdyhjb2xvciwgdmVjMygxLjAvMi4yKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBAZnJhZ21lbnRcclxuICAgICAgICBmbiBmcyhAYnVpbHRpbihwb3NpdGlvbikgcG9zOiB2ZWM0ZikgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcclxuICAgICAgICAgICAgbGV0IHV2ID0gdmVjMjxpMzI+KGZsb29yKHBvcy54eSkpO1xyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSB0ZXh0dXJlTG9hZChjb2xvclRleHR1cmUsIHV2LCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYzRmKGxpbmVhcl90b19zcmdiKGFjZXNfdG9uZV9tYXAoY29sb3IucmdiKSksIDEuMCk7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgYmluZEdyb3VwTGF5b3V0RGVzY3JpcHRvcjogR1BVQmluZEdyb3VwTGF5b3V0RGVzY3JpcHRvciA9IHtcclxuICAgICAgICBsYWJlbDogJ3RvbmVtYXAgYmluZGdyb3VwIGxheW91dCcsXHJcbiAgICAgICAgZW50cmllczogW3tcclxuICAgICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgICAgdGV4dHVyZTogeyBzYW1wbGVUeXBlOiAnZmxvYXQnLCB2aWV3RGltZW5zaW9uOiAnMmQnIH0sXHJcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxyXG4gICAgICAgIH1dLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb2xvckF0dGFjaG1lbnQ6IEdQVVJlbmRlclBhc3NDb2xvckF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgbG9hZE9wOiAnbG9hZCcsXHJcbiAgICAgICAgc3RvcmVPcDogJ3N0b3JlJyxcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxyXG4gICAgICAgIHZpZXc6IHVuZGVmaW5lZCEsXHJcbiAgICB9O1xyXG5cclxuICAgIHBhc3NEZXNjcmlwdG9yOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciA9IHtcclxuICAgICAgICBsYWJlbDogJ3RvbmVwYXNzIC0tIHBhc3MgZW5jb2RlcicsXHJcbiAgICAgICAgY29sb3JBdHRhY2htZW50czogW3RoaXMuY29sb3JBdHRhY2htZW50XSxcclxuICAgIH07XHJcblxyXG4gICAgcGlwZWxpbmU6IEdQVVJlbmRlclBpcGVsaW5lO1xyXG4gICAgcGlwZWxpbmVEZXNjcmlwdG9yOiBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3I7XHJcblxyXG4gICAgcmVuZGVyVGFyZ2V0OiBHUFVDb2xvclRhcmdldFN0YXRlO1xyXG4gICAgYmluZGdyb3VwTGF5b3V0OiBHUFVCaW5kR3JvdXBMYXlvdXQ7XHJcbiAgICBiaW5kZ3JvdXA/OiBHUFVCaW5kR3JvdXA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGRldmljZTogR1BVRGV2aWNlLFxyXG4gICAgICAgIGZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0geyBmb3JtYXQgfTtcclxuICAgICAgICB0aGlzLmJpbmRncm91cExheW91dCA9IGRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoVG9uZW1hcFBhc3MuYmluZEdyb3VwTGF5b3V0RGVzY3JpcHRvcik7XHJcbiAgICAgICAgY29uc3QgbW9kdWxlID0gZGV2aWNlLmNyZWF0ZVNoYWRlck1vZHVsZSh7IGxhYmVsOiAndG9uZW1hcCBzaGFkZXInLCBjb2RlOiBUb25lbWFwUGFzcy5jb2RlIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBpcGVsaW5lRGVzY3JpcHRvciA9IHtcclxuICAgICAgICAgICAgbGFiZWw6ICd0b25lbWFwIHBpcGVsaW5lJyxcclxuICAgICAgICAgICAgbGF5b3V0OiBkZXZpY2UuY3JlYXRlUGlwZWxpbmVMYXlvdXQoe1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICd0b25lIG1hcCBwaXBlbGluZSBsYXlvdXQnLFxyXG4gICAgICAgICAgICAgICAgYmluZEdyb3VwTGF5b3V0czogW3RoaXMuYmluZGdyb3VwTGF5b3V0XSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHZlcnRleDoge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLFxyXG4gICAgICAgICAgICAgICAgZW50cnlQb2ludDogJ3ZzJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnJhZ21lbnQ6IHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZSxcclxuICAgICAgICAgICAgICAgIGVudHJ5UG9pbnQ6ICdmcycsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiBbdGhpcy5yZW5kZXJUYXJnZXRdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucGlwZWxpbmUgPSBkZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUodGhpcy5waXBlbGluZURlc2NyaXB0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUlucHV0KGlucHV0OiBHUFVUZXh0dXJlVmlldykge1xyXG4gICAgICAgIHRoaXMuYmluZGdyb3VwID0gdGhpcy5kZXZpY2UuY3JlYXRlQmluZEdyb3VwKHtcclxuICAgICAgICAgICAgbGFiZWw6ICd0b25lbWFwIGJpbmRncm91cCcsXHJcbiAgICAgICAgICAgIGxheW91dDogdGhpcy5iaW5kZ3JvdXBMYXlvdXQsXHJcbiAgICAgICAgICAgIGVudHJpZXM6IFt7XHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IGlucHV0LFxyXG4gICAgICAgICAgICB9XSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXNzKGVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyLCBvdXRwdXQ6IEdQVVRleHR1cmUpIHtcclxuICAgICAgICBpZiAodGhpcy5iaW5kZ3JvdXAgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZW5kZXJUYXJnZXQuZm9ybWF0ICE9PSBvdXRwdXQuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0LmZvcm1hdCA9IG91dHB1dC5mb3JtYXQ7XHJcbiAgICAgICAgICAgIHRoaXMucGlwZWxpbmUgPSB0aGlzLmRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh0aGlzLnBpcGVsaW5lRGVzY3JpcHRvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbG9yQXR0YWNobWVudC52aWV3ID0gb3V0cHV0LmNyZWF0ZVZpZXcoeyBkaW1lbnNpb246ICcyZCcgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhc3MgPSBlbmNvZGVyLmJlZ2luUmVuZGVyUGFzcyh0aGlzLnBhc3NEZXNjcmlwdG9yKTtcclxuICAgICAgICBwYXNzLnNldFBpcGVsaW5lKHRoaXMucGlwZWxpbmUpO1xyXG4gICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIHRoaXMuYmluZGdyb3VwKTtcclxuICAgICAgICBwYXNzLmRyYXcoMyk7XHJcbiAgICAgICAgcGFzcy5lbmQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgRm9yd2FyZFVuaWZvcm1zIGZyb20gJy4vZm9yd2FyZC11bmlmb3Jtcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa3lib3hQYXNzIHtcclxuICAgIHN0YXRpYyByZWFkb25seSBjb2RlID0gLyogd2dzbCAqL2BcclxuICAgICAgICAke0ZvcndhcmRVbmlmb3Jtcy5jb2RlKDApfVxyXG5cclxuICAgICAgICBzdHJ1Y3QgU2t5Ym94VW5pZm9ybXMge1xyXG4gICAgICAgICAgICBtaXBCaWFzOiBmMzIsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhciBlbnZpcm9ubWVudFRleHR1cmU6IHRleHR1cmVfY3ViZTxmMzI+O1xyXG4gICAgICAgIEBncm91cCgxKSBAYmluZGluZygxKSB2YXIgZGVwdGhUZXh0dXJlOiB0ZXh0dXJlX2RlcHRoXzJkO1xyXG4gICAgICAgIEBncm91cCgxKSBAYmluZGluZygyKSB2YXIgZW52aXJvbm1lbnRTYW1wbGVyOiBzYW1wbGVyO1xyXG4gICAgICAgIEBncm91cCgxKSBAYmluZGluZygzKSB2YXI8dW5pZm9ybT4gc2t5Ym94VW5pZm9ybXM6IFNreWJveFVuaWZvcm1zO1xyXG5cclxuICAgICAgICBzdHJ1Y3QgVmFyeWluZ3Mge1xyXG4gICAgICAgICAgICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzRmLFxyXG4gICAgICAgICAgICBAbG9jYXRpb24oMCkgcG9zOiB2ZWM0ZixcclxuICAgICAgICAgICAgQGxvY2F0aW9uKDEpIG1pcEJpYXM6IGYzMixcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgQHZlcnRleCBcclxuICAgICAgICBmbiB2cyhAYnVpbHRpbih2ZXJ0ZXhfaW5kZXgpIHZOZHg6IHUzMikgLT4gVmFyeWluZ3Mge1xyXG4gICAgICAgICAgICBjb25zdCBwb3MgPSBhcnJheShcclxuICAgICAgICAgICAgICAgIHZlYzIoLTEuMCwgIDMuMCksXHJcbiAgICAgICAgICAgICAgICB2ZWMyKC0xLjAsIC0xLjApLFxyXG4gICAgICAgICAgICAgICAgdmVjMiggMy4wLCAtMS4wKSxcclxuICAgICAgICAgICAgKTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgdnNPdXQ6IFZhcnlpbmdzO1xyXG4gICAgICAgICAgICB2c091dC5wb3NpdGlvbiA9IHZlYzQocG9zW3ZOZHhdLCAwLjAsIDEuMCk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSWdub3JlcyB0aGUgY2FtZXJhJ3MgdHJhbnNsYXRpb24gd2l0aG91dCBuZWVkaW5nIGEgc2VwYXJhdGUgcm90YXRpb24gbWF0cml4LlxyXG4gICAgICAgICAgICB2c091dC5wb3MgPSBnbG9iYWxzLmludmVyc2VWaWV3VG9DbGlwICogdnNPdXQucG9zaXRpb247XHJcbiAgICAgICAgICAgIGxldCB3ID0gdnNPdXQucG9zLnc7XHJcbiAgICAgICAgICAgIHZzT3V0LnBvcy53ID0gMC4wO1xyXG4gICAgICAgICAgICB2c091dC5wb3MgPSBnbG9iYWxzLmludmVyc2VXb3JsZFRvVmlldyAqIHZzT3V0LnBvcztcclxuICAgICAgICAgICAgdnNPdXQucG9zLncgPSB3O1xyXG5cclxuICAgICAgICAgICAgdnNPdXQubWlwQmlhcyA9IGNsYW1wKHNreWJveFVuaWZvcm1zLm1pcEJpYXMsIDAsIGYzMih0ZXh0dXJlTnVtTGV2ZWxzKGVudmlyb25tZW50VGV4dHVyZSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHZzT3V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQGZyYWdtZW50XHJcbiAgICAgICAgZm4gZnMoaW46IFZhcnlpbmdzKSAtPiBAbG9jYXRpb24oMCkgdmVjNGYge1xyXG4gICAgICAgICAgICBsZXQgZGltZW5zaW9ucyA9IHRleHR1cmVEaW1lbnNpb25zKGRlcHRoVGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGxldCB1diA9IG1pbih2ZWMyPHUzMj4oZmxvb3IoaW4ucG9zaXRpb24ueHkpKSwgZGltZW5zaW9ucyAtIDEpO1xyXG4gICAgICAgICAgICBsZXQgZGVwdGggPSB0ZXh0dXJlTG9hZChkZXB0aFRleHR1cmUsIHV2LCAwKTtcclxuICAgICAgICAgICAgaWYgKGRlcHRoIDwgMS4wKSB7IGRpc2NhcmQ7IH1cclxuXHJcbiAgICAgICAgICAgIGxldCB0ID0gbm9ybWFsaXplKGluLnBvcy54eXogLyBpbi5wb3MudykgKiB2ZWMzKC0xLjAsIDEuMCwgMS4wKTtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0gdGV4dHVyZVNhbXBsZUxldmVsKGVudmlyb25tZW50VGV4dHVyZSwgZW52aXJvbm1lbnRTYW1wbGVyLCB0LCBpbi5taXBCaWFzKS5yZ2I7XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWM0KGNvbG9yLCAxLjApO1xyXG4gICAgICAgIH1cclxuICAgIGA7XHJcblxyXG4gICAgYmluZGdyb3VwTGF5b3V0OiBHUFVCaW5kR3JvdXBMYXlvdXQ7XHJcbiAgICBwaXBlbGluZUxheW91dDogR1BVUGlwZWxpbmVMYXlvdXQ7XHJcbiAgICBzaGFkZXI6IEdQVVNoYWRlck1vZHVsZTtcclxuXHJcbiAgICBsaW5lYXJTYW1wbGVyOiBHUFVTYW1wbGVyO1xyXG4gICAgbmVhcmVzdFNhbXBsZXI6IEdQVVNhbXBsZXI7XHJcbiAgICB0ZXh0dXJlQmluZGdyb3VwPzogR1BVQmluZEdyb3VwO1xyXG5cclxuICAgIHVuaWZvcm1CdWZmZXI6IEdQVUJ1ZmZlcjtcclxuICAgIHVuaWZvcm1BcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcblxyXG4gICAgcGlwZWxpbmU/OiBHUFVSZW5kZXJQaXBlbGluZTtcclxuXHJcbiAgICAjc2t5VGV4dHVyZT86IEdQVVRleHR1cmVWaWV3O1xyXG4gICAgI2RlcHRoVGV4dHVyZT86IEdQVVRleHR1cmVWaWV3O1xyXG4gICAgI3RhcmdldEZvcm1hdCE6IEdQVVRleHR1cmVGb3JtYXQ7XHJcbiAgICAjdXNlTmVhcmVzdFNhbXBsZSA9IGZhbHNlO1xyXG5cclxuICAgIGdldCBtaXBMZXZlbCgpIHsgcmV0dXJuIHRoaXMudW5pZm9ybUFycmF5WzBdOyB9XHJcbiAgICBzZXQgbWlwTGV2ZWwodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodmFsID09PSB0aGlzLnVuaWZvcm1BcnJheVswXSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMudW5pZm9ybUFycmF5WzBdID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKHRoaXMudW5pZm9ybUJ1ZmZlciwgMCwgdGhpcy51bmlmb3JtQXJyYXksIDAsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB1c2VOZWFyZXN0U2FtcGxlKCkgeyByZXR1cm4gdGhpcy4jdXNlTmVhcmVzdFNhbXBsZTsgfVxyXG4gICAgc2V0IHVzZU5lYXJlc3RTYW1wbGUodmFsOiBib29sZWFuKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy4jdXNlTmVhcmVzdFNhbXBsZSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuI3VzZU5lYXJlc3RTYW1wbGUgPSB2YWw7XHJcbiAgICAgICAgdGhpcy4jdXBkYXRlQmluZGdyb3VwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRhcmdldEZvcm1hdCgpIHsgcmV0dXJuIHRoaXMuI3RhcmdldEZvcm1hdDsgfVxyXG4gICAgc2V0IHRhcmdldEZvcm1hdChmb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQpIHtcclxuICAgICAgICBpZiAoZm9ybWF0ID09PSB0aGlzLiN0YXJnZXRGb3JtYXQpIHJldHVybjtcclxuICAgICAgICB0aGlzLiN0YXJnZXRGb3JtYXQgPSBmb3JtYXQ7XHJcblxyXG4gICAgICAgIHRoaXMucGlwZWxpbmUgPSB0aGlzLmRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnc2t5Ym94IHBhc3MgLS0gcGlwZWxpbmUnLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMucGlwZWxpbmVMYXlvdXQsXHJcbiAgICAgICAgICAgIHZlcnRleDoge1xyXG4gICAgICAgICAgICAgICAgZW50cnlQb2ludDogJ3ZzJyxcclxuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5zaGFkZXIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZyYWdtZW50OiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeVBvaW50OiAnZnMnLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogW3sgZm9ybWF0IH1dLFxyXG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLnNoYWRlcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc2t5VGV4dHVyZShza3lib3g6IEdQVVRleHR1cmVWaWV3KSB7XHJcbiAgICAgICAgaWYgKHNreWJveCA9PT0gdGhpcy4jc2t5VGV4dHVyZSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuI3NreVRleHR1cmUgPSBza3lib3g7XHJcbiAgICAgICAgdGhpcy4jdXBkYXRlQmluZGdyb3VwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGRlcHRoVGV4dHVyZShkZXB0aFRleHR1cmU6IEdQVVRleHR1cmVWaWV3KSB7XHJcbiAgICAgICAgaWYgKGRlcHRoVGV4dHVyZSA9PT0gdGhpcy4jZGVwdGhUZXh0dXJlKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy4jZGVwdGhUZXh0dXJlID0gZGVwdGhUZXh0dXJlO1xyXG4gICAgICAgIHRoaXMuI3VwZGF0ZUJpbmRncm91cCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRhcmdldDogR1BVUmVuZGVyUGFzc0NvbG9yQXR0YWNobWVudCA9IHtcclxuICAgICAgICBjbGVhclZhbHVlOiB7IHI6IDAuMCwgZzogMC4wLCBiOiAwLjAsIGE6IDEuMCB9LFxyXG4gICAgICAgIGxvYWRPcDogJ2NsZWFyJyxcclxuICAgICAgICBzdG9yZU9wOiAnc3RvcmUnLFxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXHJcbiAgICAgICAgdmlldzogdW5kZWZpbmVkISxcclxuICAgIH07XHJcblxyXG4gICAgcmVhZG9ubHkgcGFzc0Rlc2NyaXB0b3I6IEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yID0geyBjb2xvckF0dGFjaG1lbnRzOiBbdGhpcy50YXJnZXRdIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGRldmljZTogR1BVRGV2aWNlLFxyXG4gICAgICAgIHB1YmxpYyBjYW1lcmFVbmlmb3JtczogRm9yd2FyZFVuaWZvcm1zLFxyXG4gICAgICAgIHRhcmdldEZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCxcclxuICAgICAgICBza3lib3g/OiBHUFVUZXh0dXJlVmlldyxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuYmluZGdyb3VwTGF5b3V0ID0gZGV2aWNlLmNyZWF0ZUJpbmRHcm91cExheW91dCh7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnc2t5Ym94IHBhc3MgLS0gYmluZGdyb3VwIGxheW91dCcsXHJcbiAgICAgICAgICAgIGVudHJpZXM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IHsgdmlld0RpbWVuc2lvbjogJ2N1YmUnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQgfCBHUFVTaGFkZXJTdGFnZS5WRVJURVgsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3RGltZW5zaW9uOiAnMmQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVUeXBlOiAnZGVwdGgnLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcjoge30sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogeyB0eXBlOiAndW5pZm9ybScgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubGluZWFyU2FtcGxlciA9IGRldmljZS5jcmVhdGVTYW1wbGVyKHtcclxuICAgICAgICAgICAgbWluRmlsdGVyOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgbWFnRmlsdGVyOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgbWlwbWFwRmlsdGVyOiAnbGluZWFyJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5uZWFyZXN0U2FtcGxlciA9IGRldmljZS5jcmVhdGVTYW1wbGVyKHtcclxuICAgICAgICAgICAgbWluRmlsdGVyOiAnbmVhcmVzdCcsXHJcbiAgICAgICAgICAgIG1hZ0ZpbHRlcjogJ25lYXJlc3QnLFxyXG4gICAgICAgICAgICBtaXBtYXBGaWx0ZXI6ICduZWFyZXN0JyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBkZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcclxuICAgICAgICAgICAgY29kZTogU2t5Ym94UGFzcy5jb2RlLFxyXG4gICAgICAgICAgICBsYWJlbDogJ3NreWJveCBwYXNzIC0tIHNoYWRlcicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGlwZWxpbmVMYXlvdXQgPSBkZXZpY2UuY3JlYXRlUGlwZWxpbmVMYXlvdXQoe1xyXG4gICAgICAgICAgICBsYWJlbDogJ3NreWJveCBwYXNzIC0tIHBpcGVsaW5lIGxheW91dCcsXHJcbiAgICAgICAgICAgIGJpbmRHcm91cExheW91dHM6IFtcclxuICAgICAgICAgICAgICAgIGNhbWVyYVVuaWZvcm1zLmJpbmRHcm91cExheW91dCxcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZGdyb3VwTGF5b3V0LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnVuaWZvcm1CdWZmZXIgPSBkZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdza3lib3ggcGFzcyAtLSB1bmlmb3JtIGJ1ZmZlcicsXHJcbiAgICAgICAgICAgIHNpemU6IDMyLFxyXG4gICAgICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QgfCBHUFVCdWZmZXJVc2FnZS5VTklGT1JNLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRhcmdldEZvcm1hdCA9IHRhcmdldEZvcm1hdDtcclxuICAgICAgICBpZiAoc2t5Ym94ICE9IG51bGwpIHRoaXMuc2t5VGV4dHVyZSA9IHNreWJveDtcclxuICAgIH1cclxuXHJcbiAgICBwYXNzKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZUJpbmRncm91cCA9PSBudWxsIHx8IHRoaXMucGlwZWxpbmUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHBhc3Muc2V0UGlwZWxpbmUodGhpcy5waXBlbGluZSk7XHJcbiAgICAgICAgcGFzcy5zZXRCaW5kR3JvdXAoMCwgdGhpcy5jYW1lcmFVbmlmb3Jtcy5iaW5kZ3JvdXApO1xyXG4gICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKDEsIHRoaXMudGV4dHVyZUJpbmRncm91cCk7XHJcbiAgICAgICAgcGFzcy5kcmF3KDMpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgICN1cGRhdGVCaW5kZ3JvdXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuI3NreVRleHR1cmUgPT0gbnVsbCB8fCB0aGlzLiNkZXB0aFRleHR1cmUgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnRleHR1cmVCaW5kZ3JvdXAgPSB0aGlzLmRldmljZS5jcmVhdGVCaW5kR3JvdXAoe1xyXG4gICAgICAgICAgICBsYWJlbDogJ3NreWJveCBwYXNzIC0tIGJpbmRncm91cCcsXHJcbiAgICAgICAgICAgIGxheW91dDogdGhpcy5iaW5kZ3JvdXBMYXlvdXQsXHJcbiAgICAgICAgICAgIGVudHJpZXM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiB0aGlzLiNza3lUZXh0dXJlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiB0aGlzLiNkZXB0aFRleHR1cmUsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IHRoaXMudXNlTmVhcmVzdFNhbXBsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMubmVhcmVzdFNhbXBsZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmxpbmVhclNhbXBsZXIsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmc6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IHsgYnVmZmVyOiB0aGlzLnVuaWZvcm1CdWZmZXIgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IENhbWVyYSBmcm9tICcuL2NhbWVyYSc7XHJcbmltcG9ydCBGb3J3YXJkVW5pZm9ybXMgZnJvbSAnLi9mb3J3YXJkLXVuaWZvcm1zJztcclxuaW1wb3J0IFRvbmVtYXBQYXNzIGZyb20gJy4vdG9uZW1hcC1wYXNzJztcclxuaW1wb3J0IFNreWJveFBhc3MgZnJvbSAnLi9za3lib3gtcGFzcyc7XHJcbmltcG9ydCB7IFJlbmRlck1vZGVsLCBNb2RlbENvbnN0cnVjdG9yIH0gZnJvbSAnLi9yZW5kZXItbW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIge1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHJlcXVpcmVkRmVhdHVyZXM6IEdQVUZlYXR1cmVOYW1lW10gPSBbJ2Zsb2F0MzItZmlsdGVyYWJsZSddO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IG91dHB1dEZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCA9ICdyZ2JhOHVub3JtJztcclxuICAgIHN0YXRpYyByZWFkb25seSBwb3N0UHJvY2Vzc0Zvcm1hdDogR1BVVGV4dHVyZUZvcm1hdCA9ICdyZ2JhMzJmbG9hdCc7XHJcblxyXG4gICAgY29sb3JBdHRhY2htZW50OiBHUFVSZW5kZXJQYXNzQ29sb3JBdHRhY2htZW50ID0ge1xyXG4gICAgICAgIGNsZWFyVmFsdWU6IHsgcjogMCwgZzogMCwgYjogMCwgYTogMSB9LFxyXG4gICAgICAgIGxvYWRPcDogJ2NsZWFyJyxcclxuICAgICAgICBzdG9yZU9wOiAnc3RvcmUnLFxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXHJcbiAgICAgICAgdmlldzogdW5kZWZpbmVkISxcclxuICAgIH07XHJcblxyXG4gICAgcGFzc0Rlc2NyaXB0b3I6IEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yID0geyBjb2xvckF0dGFjaG1lbnRzOiBbdGhpcy5jb2xvckF0dGFjaG1lbnRdIH07XHJcblxyXG4gICAgY29udGV4dDogR1BVQ2FudmFzQ29udGV4dDtcclxuICAgIG1vZGVsPzogUmVuZGVyTW9kZWw7XHJcblxyXG4gICAgY2FtZXJhOiBDYW1lcmE7XHJcblxyXG4gICAgZm9yd2FyZFVuaWZvcm1zOiBGb3J3YXJkVW5pZm9ybXM7XHJcbiAgICBza3lib3hQYXNzOiBTa3lib3hQYXNzO1xyXG4gICAgdG9uZW1hcFBhc3M6IFRvbmVtYXBQYXNzO1xyXG5cclxuICAgIHBvc3Rwcm9jZXNzVGFyZ2V0ITogR1BVVGV4dHVyZTtcclxuXHJcbiAgICBzZXRNb2RlbChNb2RlbEN0b3I6IE1vZGVsQ29uc3RydWN0b3IpIHtcclxuICAgICAgICB0aGlzLm1vZGVsID0gbmV3IE1vZGVsQ3Rvcih0aGlzLmRldmljZSwgdGhpcy5za3lib3hQYXNzLCB7XHJcbiAgICAgICAgICAgIHZpZXc6IHRoaXMuY29sb3JBdHRhY2htZW50LnZpZXcsXHJcbiAgICAgICAgICAgIGZvcm1hdDogUmVuZGVyZXIucG9zdFByb2Nlc3NGb3JtYXQsXHJcbiAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IHRoaXMuY2FudmFzLndpZHRoLCBoZWlnaHQ6IHRoaXMuY2FudmFzLmhlaWdodCB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxyXG4gICAgICAgIHB1YmxpYyBkZXZpY2U6IEdQVURldmljZSxcclxuICAgICkge1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSB7IHdpZHRoOiB0aGlzLmNhbnZhcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmNhbnZhcy5oZWlnaHQgfTtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEoc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5mb3J3YXJkVW5pZm9ybXMgPSBuZXcgRm9yd2FyZFVuaWZvcm1zKHRoaXMuZGV2aWNlKTtcclxuICAgICAgICB0aGlzLnRvbmVtYXBQYXNzID0gbmV3IFRvbmVtYXBQYXNzKHRoaXMuZGV2aWNlLCBSZW5kZXJlci5vdXRwdXRGb3JtYXQpO1xyXG5cclxuICAgICAgICB0aGlzLnNreWJveFBhc3MgPSBuZXcgU2t5Ym94UGFzcyhcclxuICAgICAgICAgICAgdGhpcy5kZXZpY2UsXHJcbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZFVuaWZvcm1zLFxyXG4gICAgICAgICAgICBSZW5kZXJlci5wb3N0UHJvY2Vzc0Zvcm1hdCxcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ3B1Jyk7XHJcbiAgICAgICAgaWYgKGNvbnRleHQgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdyZW5kZXJlciAtLSBnaXZlbiBjYW52YXMgYWxyZWFkeSBpbml0YWxpemVkIHRvIG5vbi13ZWJncHUgY29udGV4dCcpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0IGFzIHVua25vd24gYXMgR1BVQ2FudmFzQ29udGV4dDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgICAgIGRldmljZTogdGhpcy5kZXZpY2UsXHJcbiAgICAgICAgICAgIGZvcm1hdDogUmVuZGVyZXIub3V0cHV0Rm9ybWF0LFxyXG4gICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UIHwgR1BVVGV4dHVyZVVzYWdlLkNPUFlfU1JDLFxyXG4gICAgICAgICAgICBhbHBoYU1vZGU6ICdvcGFxdWUnLFxyXG4gICAgICAgICAgICBjb2xvclNwYWNlOiAnc3JnYicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlQmFja2luZ3Moc2l6ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuI2NyZWF0ZVJlc2l6ZU9ic2VydmVyKGRldmljZS5saW1pdHMubWF4VGV4dHVyZURpbWVuc2lvbjJEKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgQ3JlYXRlSW5pdGFsaXplZChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogUHJvbWlzZTxSZW5kZXJlcj4ge1xyXG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBhd2FpdCBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCk7XHJcbiAgICAgICAgaWYgKGFkYXB0ZXIgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBpbml0YWxpemUgR1BVLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBtYXhDb21wdXRlV29ya2dyb3VwU2l6ZVgsXHJcbiAgICAgICAgICAgIG1heENvbXB1dGVXb3JrZ3JvdXBzUGVyRGltZW5zaW9uLFxyXG4gICAgICAgICAgICBtYXhDb21wdXRlSW52b2NhdGlvbnNQZXJXb3JrZ3JvdXAsXHJcbiAgICAgICAgfSA9IGFkYXB0ZXIubGltaXRzO1xyXG4gICAgICAgIGNvbnN0IGRldmljZSA9IGF3YWl0IGFkYXB0ZXIucmVxdWVzdERldmljZSh7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnbWFpbiBsb2dpY2FsIGRldmljZScsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkRmVhdHVyZXM6IFJlbmRlcmVyLnJlcXVpcmVkRmVhdHVyZXMsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkTGltaXRzOiB7XHJcbiAgICAgICAgICAgICAgICBtYXhDb21wdXRlV29ya2dyb3VwU2l6ZVgsXHJcbiAgICAgICAgICAgICAgICBtYXhDb21wdXRlV29ya2dyb3Vwc1BlckRpbWVuc2lvbixcclxuICAgICAgICAgICAgICAgIG1heENvbXB1dGVJbnZvY2F0aW9uc1Blcldvcmtncm91cCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJlcihjYW52YXMsIGRldmljZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQmFja2luZ3Moc2l6ZTogeyB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciB9KSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUGFyYW1zKHNpemUpO1xyXG4gICAgICAgIHRoaXMucG9zdHByb2Nlc3NUYXJnZXQgPSB0aGlzLmRldmljZS5jcmVhdGVUZXh0dXJlKHtcclxuICAgICAgICAgICAgZGltZW5zaW9uOiAnMmQnLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IFJlbmRlcmVyLnBvc3RQcm9jZXNzRm9ybWF0LFxyXG4gICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UIHwgR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyxcclxuICAgICAgICAgICAgc2l6ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvckF0dGFjaG1lbnQudmlldyA9IHRoaXMucG9zdHByb2Nlc3NUYXJnZXQuY3JlYXRlVmlldygpO1xyXG4gICAgICAgIHRoaXMudG9uZW1hcFBhc3MudXBkYXRlSW5wdXQodGhpcy5jb2xvckF0dGFjaG1lbnQudmlldyk7XHJcbiAgICAgICAgdGhpcy5tb2RlbD8uc2V0VGFyZ2V0KHtcclxuICAgICAgICAgICAgdmlldzogdGhpcy5jb2xvckF0dGFjaG1lbnQudmlldyxcclxuICAgICAgICAgICAgZm9ybWF0OiBSZW5kZXJlci5wb3N0UHJvY2Vzc0Zvcm1hdCxcclxuICAgICAgICAgICAgc2l6ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5tb2RlbCAhPSBudWxsKSB0aGlzLnNreWJveFBhc3MuZGVwdGhUZXh0dXJlID0gdGhpcy5tb2RlbC5kZXB0aFRleHR1cmVWaWV3O1xyXG4gICAgfVxyXG5cclxuICAgICNjcmVhdGVSZXNpemVPYnNlcnZlcihtYXhEaW1lbnNpb246IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHJlc2l6ZUNhbnZhcyA9IChyYXdXaWR0aDogbnVtYmVyLCByYXdIZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsIE1hdGgubWluKHJhd1dpZHRoLCBtYXhEaW1lbnNpb24pKTtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocmF3SGVpZ2h0LCBtYXhEaW1lbnNpb24pKTtcclxuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHsgd2lkdGgsIGhlaWdodCB9O1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmFja2luZ3MoZGltZW5zaW9ucyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IGVudHJ5LmRldmljZVBpeGVsQ29udGVudEJveFNpemVbMF07XHJcbiAgICAgICAgICAgICAgICByZXNpemVDYW52YXMoc2l6ZS5pbmxpbmVTaXplLCBzaXplLmJsb2NrU2l6ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuY2FudmFzLCB7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfSk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94LCBzbyBpdCB3b3VsZCBmYWlsIGludG8gdGhpcy5cclxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBlbnRyeS5jb250ZW50Qm94U2l6ZVswXS5pbmxpbmVTaXplICogZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGVudHJ5LmNvbnRlbnRCb3hTaXplWzBdLmJsb2NrU2l6ZSAqIGRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgICAgICAgICByZXNpemVDYW52YXMod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuY2FudmFzLCB7IGJveDogJ2NvbnRlbnQtYm94JyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlcik7XHJcblxyXG4gICAgICAgIHRoaXMuZm9yd2FyZFVuaWZvcm1zLnVwZGF0ZURldmljZUJ1ZmZlcih0aGlzLmRldmljZS5xdWV1ZSwgdGhpcy5jYW1lcmEpO1xyXG5cclxuICAgICAgICBjb25zdCBlbmNvZGVyID0gdGhpcy5kZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoeyBsYWJlbDogJ21haW4gcmVuZGVyIGVuY29kZXInIH0pO1xyXG4gICAgICAgIGNvbnN0IHBhc3MgPSB0aGlzLm1vZGVsPy5yZW5kZXIoZW5jb2RlcikgPz8gZW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5wYXNzRGVzY3JpcHRvcik7XHJcbiAgICAgICAgdGhpcy5za3lib3hQYXNzLnBhc3MocGFzcyk7XHJcbiAgICAgICAgcGFzcy5lbmQoKTtcclxuXHJcbiAgICAgICAgdGhpcy50b25lbWFwUGFzcy5wYXNzKGVuY29kZXIsIHRoaXMuY29udGV4dC5nZXRDdXJyZW50VGV4dHVyZSgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2UucXVldWUuc3VibWl0KFtlbmNvZGVyLmZpbmlzaCgpXSk7XHJcbiAgICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///114\n")}}]);