"use strict";(self.webpackChunkcbunt_portfolio=self.webpackChunkcbunt_portfolio||[]).push([[114],{838:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GE: () => (/* binding */ TextureFormatToChannelSize),\n/* harmony export */   KO: () => (/* binding */ WebGPUToVkFormat),\n/* harmony export */   Oi: () => (/* binding */ VkFormatToWebGPU),\n/* harmony export */   T2: () => (/* binding */ TextureFormatToSize),\n/* harmony export */   vV: () => (/* binding */ TypeSizes)\n/* harmony export */ });\n/* unused harmony export textureTypeToDimension */\n/* harmony import */ var ktx_parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(380);\n\nconst TypeSizes = {\n    mat4x4Count: 16,\n    sizeofMat4x4f: 16 * Float32Array.BYTES_PER_ELEMENT,\n};\nconst VkFormatToWebGPU = {\n    // 8-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_UNORM */ .VIE]: 'r8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_SNORM */ .B7n]: 'r8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_UINT */ .W_U]: 'r8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8_SINT */ .YeG]: 'r8sint',\n    // 16-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16_UINT */ .HYY]: 'r16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16_SINT */ .brc]: 'r16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16_SFLOAT */ .eLQ]: 'r16float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_UNORM */ .sk6]: 'rg8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_SNORM */ .aiL]: 'rg8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_UINT */ .xWH]: 'rg8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8_SINT */ .$Kq]: 'rg8sint',\n    // 32-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32_UINT */ .nR0]: 'r32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32_SINT */ .rwM]: 'r32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32_SFLOAT */ .e4n]: 'r32float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16_UINT */ .P1c]: 'rg16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16_SINT */ .bc6]: 'rg16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16_SFLOAT */ .cps]: 'rg16float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_UNORM */ .tsP]: 'rgba8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_SRGB */ .Wm_]: 'rgba8unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_SNORM */ .zqn]: 'rgba8snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_UINT */ .MZV]: 'rgba8uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R8G8B8A8_SINT */ ._Je]: 'rgba8sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_B8G8R8A8_UNORM */ .J6Z]: 'bgra8unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_B8G8R8A8_SRGB */ .mIY]: 'bgra8unorm-srgb',\n    // Packed 32-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_E5B9G9R9_UFLOAT_PACK32 */ .KIZ]: 'rgb9e5ufloat',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_A2R10G10B10_UINT_PACK32 */ .eAA]: 'rgb10a2uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_A2R10G10B10_UNORM_PACK32 */ .fJh]: 'rgb10a2unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_B10G11R11_UFLOAT_PACK32 */ .kot]: 'rg11b10ufloat',\n    // 64-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32_UINT */ .nlo]: 'rg32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32_SINT */ .x9e]: 'rg32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32_SFLOAT */ .yAK]: 'rg32float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16B16A16_UINT */ .CSc]: 'rgba16uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16B16A16_SINT */ .GF$]: 'rgba16sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R16G16B16A16_SFLOAT */ .l2T]: 'rgba16float',\n    // 128-bit formats\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32B32A32_UINT */ .KMX]: 'rgba32uint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32B32A32_SINT */ .KBq]: 'rgba32sint',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_R32G32B32A32_SFLOAT */ .Ze1]: 'rgba32float',\n    // BC compressed formats usable if \"texture-compression-bc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC1_RGBA_UNORM_BLOCK */ .QFs]: 'bc1-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC1_RGBA_SRGB_BLOCK */ .bOE]: 'bc1-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC2_UNORM_BLOCK */ .wt4]: 'bc2-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC2_SRGB_BLOCK */ .ZBp]: 'bc2-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC3_UNORM_BLOCK */ .D_t]: 'bc3-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC3_SRGB_BLOCK */ .elk]: 'bc3-rgba-unorm-srgb',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC4_UNORM_BLOCK */ .ydS]: 'bc4-r-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC4_SNORM_BLOCK */ .iIv]: 'bc4-r-snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC5_UNORM_BLOCK */ .LHP]: 'bc5-rg-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC5_SNORM_BLOCK */ .xXb]: 'bc5-rg-snorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC6H_UFLOAT_BLOCK */ .mQu]: 'bc6h-rgb-ufloat',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC6H_SFLOAT_BLOCK */ .CpY]: 'bc6h-rgb-float',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC7_UNORM_BLOCK */ .FD_]: 'bc7-rgba-unorm',\n    [ktx_parse__WEBPACK_IMPORTED_MODULE_0__/* .VK_FORMAT_BC7_SRGB_BLOCK */ .GJu]: 'bc7-rgba-unorm-srgb',\n    // Currently unsupported extension formats:\n    // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // \"etc2-rgb8unorm\",\n    // \"etc2-rgb8unorm-srgb\",\n    // \"etc2-rgb8a1unorm\",\n    // \"etc2-rgb8a1unorm-srgb\",\n    // \"etc2-rgba8unorm\",\n    // \"etc2-rgba8unorm-srgb\",\n    // \"eac-r11unorm\",\n    // \"eac-r11snorm\",\n    // \"eac-rg11unorm\",\n    // \"eac-rg11snorm\",\n    // ASTC compressed formats usable if \"texture-compression-astc\" is both\n    // supported by the device/user agent and enabled in requestDevice.\n    // \"astc-4x4-unorm\",\n    // \"astc-4x4-unorm-srgb\",\n    // \"astc-5x4-unorm\",\n    // \"astc-5x4-unorm-srgb\",\n    // \"astc-5x5-unorm\",\n    // \"astc-5x5-unorm-srgb\",\n    // \"astc-6x5-unorm\",\n    // \"astc-6x5-unorm-srgb\",\n    // \"astc-6x6-unorm\",\n    // \"astc-6x6-unorm-srgb\",\n    // \"astc-8x5-unorm\",\n    // \"astc-8x5-unorm-srgb\",\n    // \"astc-8x6-unorm\",\n    // \"astc-8x6-unorm-srgb\",\n    // \"astc-8x8-unorm\",\n    // \"astc-8x8-unorm-srgb\",\n    // \"astc-10x5-unorm\",\n    // \"astc-10x5-unorm-srgb\",\n    // \"astc-10x6-unorm\",\n    // \"astc-10x6-unorm-srgb\",\n    // \"astc-10x8-unorm\",\n    // \"astc-10x8-unorm-srgb\",\n    // \"astc-10x10-unorm\",\n    // \"astc-10x10-unorm-srgb\",\n    // \"astc-12x10-unorm\",\n    // \"astc-12x10-unorm-srgb\",\n    // \"astc-12x12-unorm\",\n};\nconst TextureFormatToSize = {\n    // 8-bit formats\n    r8unorm: 1,\n    r8snorm: 1,\n    r8uint: 1,\n    r8sint: 1,\n    // 16-bit formats\n    r16uint: 2,\n    r16sint: 2,\n    r16float: 2,\n    rg8unorm: 2,\n    rg8snorm: 2,\n    rg8uint: 2,\n    rg8sint: 2,\n    // 32-bit formats\n    r32uint: 4,\n    r32sint: 4,\n    r32float: 4,\n    rg16uint: 4,\n    rg16sint: 4,\n    rg16float: 4,\n    rgba8unorm: 4,\n    'rgba8unorm-srgb': 4,\n    rgba8snorm: 4,\n    rgba8uint: 4,\n    rgba8sint: 4,\n    bgra8unorm: 4,\n    'bgra8unorm-srgb': 4,\n    // Packed 32-bit formats\n    rgb9e5ufloat: 4,\n    rgb10a2uint: 4,\n    rgb10a2unorm: 4,\n    rg11b10ufloat: 4,\n    // 64-bit formats\n    rg32uint: 8,\n    rg32sint: 8,\n    rg32float: 8,\n    rgba16uint: 8,\n    rgba16sint: 8,\n    rgba16float: 8,\n    // 128-bit formats\n    rgba32uint: 16,\n    rgba32sint: 16,\n    rgba32float: 16,\n};\nconst TextureFormatToChannelSize = {\n    // 8-bit formats\n    r8unorm: 1,\n    r8snorm: 1,\n    r8uint: 1,\n    r8sint: 1,\n    // 16-bit formats\n    r16uint: 2,\n    r16sint: 2,\n    r16float: 2,\n    rg8unorm: 1,\n    rg8snorm: 1,\n    rg8uint: 1,\n    rg8sint: 1,\n    // 32-bit formats\n    r32uint: 4,\n    r32sint: 4,\n    r32float: 4,\n    rg16uint: 2,\n    rg16sint: 2,\n    rg16float: 2,\n    rgba8unorm: 1,\n    'rgba8unorm-srgb': 1,\n    rgba8snorm: 1,\n    rgba8uint: 1,\n    rgba8sint: 1,\n    bgra8unorm: 1,\n    'bgra8unorm-srgb': 1,\n    // Packed 32-bit formats\n    rgb9e5ufloat: 4,\n    rgb10a2uint: 4,\n    rgb10a2unorm: 4,\n    rg11b10ufloat: 4,\n    // 64-bit formats\n    rg32uint: 4,\n    rg32sint: 4,\n    rg32float: 4,\n    rgba16uint: 2,\n    rgba16sint: 2,\n    rgba16float: 2,\n    // 128-bit formats\n    rgba32uint: 4,\n    rgba32sint: 4,\n    rgba32float: 4,\n};\nconst WebGPUToVkFormat = Object.fromEntries(Object.entries(VkFormatToWebGPU).map(([vk, wgpu]) => [wgpu, parseInt(vk, 10)]));\nconst textureTypeToDimension = {\n    texture_cube: 'cube',\n    texture_3d: '3d',\n    texture_2d: '2d',\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsTUFBTTtJQUNwQixVQUFVLEVBQUUsSUFBSTtJQUNoQixVQUFVLEVBQUUsSUFBSTtDQUNuQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy9jb25zdGFudHMudHM/MmU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBrdHhwIGZyb20gJ2t0eC1wYXJzZSc7XHJcblxyXG5leHBvcnQgY29uc3QgVHlwZVNpemVzID0ge1xyXG4gICAgbWF0NHg0Q291bnQ6IDE2LFxyXG4gICAgc2l6ZW9mTWF0NHg0ZjogMTYgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVmtGb3JtYXRUb1dlYkdQVTogUmVjb3JkPG51bWJlciwgR1BVVGV4dHVyZUZvcm1hdCB8IHVuZGVmaW5lZD4gPSB7XHJcbiAgICAvLyA4LWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfVU5PUk1dOiAncjh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfU05PUk1dOiAncjhzbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhfVUlOVF06ICdyOHVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4X1NJTlRdOiAncjhzaW50JyxcclxuICAgIC8vIDE2LWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1VJTlRdOiAncjE2dWludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1NJTlRdOiAncjE2c2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2X1NGTE9BVF06ICdyMTZmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9VTk9STV06ICdyZzh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9TTk9STV06ICdyZzhzbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOF9VSU5UXTogJ3JnOHVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhfU0lOVF06ICdyZzhzaW50JyxcclxuICAgIC8vIDMyLWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1VJTlRdOiAncjMydWludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1NJTlRdOiAncjMyc2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyX1NGTE9BVF06ICdyMzJmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2X1VJTlRdOiAncmcxNnVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1IxNkcxNl9TSU5UXTogJ3JnMTZzaW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMTZHMTZfU0ZMT0FUXTogJ3JnMTZmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfVU5PUk1dOiAncmdiYTh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjhHOEI4QThfU1JHQl06ICdyZ2JhOHVub3JtLXNyZ2InLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhCOEE4X1NOT1JNXTogJ3JnYmE4c25vcm0nLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1I4RzhCOEE4X1VJTlRdOiAncmdiYTh1aW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SOEc4QjhBOF9TSU5UXTogJ3JnYmE4c2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQjhHOFI4QThfVU5PUk1dOiAnYmdyYTh1bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQjhHOFI4QThfU1JHQl06ICdiZ3JhOHVub3JtLXNyZ2InLFxyXG4gICAgLy8gUGFja2VkIDMyLWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfRTVCOUc5UjlfVUZMT0FUX1BBQ0szMl06ICdyZ2I5ZTV1ZmxvYXQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX0EyUjEwRzEwQjEwX1VJTlRfUEFDSzMyXTogJ3JnYjEwYTJ1aW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9BMlIxMEcxMEIxMF9VTk9STV9QQUNLMzJdOiAncmdiMTBhMnVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CMTBHMTFSMTFfVUZMT0FUX1BBQ0szMl06ICdyZzExYjEwdWZsb2F0JyxcclxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjMyRzMyX1VJTlRdOiAncmczMnVpbnQnLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX1IzMkczMl9TSU5UXTogJ3JnMzJzaW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJfU0ZMT0FUXTogJ3JnMzJmbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1VJTlRdOiAncmdiYTE2dWludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1NJTlRdOiAncmdiYTE2c2ludCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfUjE2RzE2QjE2QTE2X1NGTE9BVF06ICdyZ2JhMTZmbG9hdCcsXHJcbiAgICAvLyAxMjgtYml0IGZvcm1hdHNcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfVUlOVF06ICdyZ2JhMzJ1aW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfU0lOVF06ICdyZ2JhMzJzaW50JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9SMzJHMzJCMzJBMzJfU0ZMT0FUXTogJ3JnYmEzMmZsb2F0JyxcclxuICAgIC8vIEJDIGNvbXByZXNzZWQgZm9ybWF0cyB1c2FibGUgaWYgXCJ0ZXh0dXJlLWNvbXByZXNzaW9uLWJjXCIgaXMgYm90aFxyXG4gICAgLy8gc3VwcG9ydGVkIGJ5IHRoZSBkZXZpY2UvdXNlciBhZ2VudCBhbmQgZW5hYmxlZCBpbiByZXF1ZXN0RGV2aWNlLlxyXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMV9SR0JBX1VOT1JNX0JMT0NLXTogJ2JjMS1yZ2JhLXVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzFfUkdCQV9TUkdCX0JMT0NLXTogJ2JjMS1yZ2JhLXVub3JtLXNyZ2InLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX0JDMl9VTk9STV9CTE9DS106ICdiYzItcmdiYS11bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkMyX1NSR0JfQkxPQ0tdOiAnYmMyLXJnYmEtdW5vcm0tc3JnYicsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkMzX1VOT1JNX0JMT0NLXTogJ2JjMy1yZ2JhLXVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzNfU1JHQl9CTE9DS106ICdiYzMtcmdiYS11bm9ybS1zcmdiJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzRfVU5PUk1fQkxPQ0tdOiAnYmM0LXItdW5vcm0nLFxyXG4gICAgW2t0eHAuVktfRk9STUFUX0JDNF9TTk9STV9CTE9DS106ICdiYzQtci1zbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM1X1VOT1JNX0JMT0NLXTogJ2JjNS1yZy11bm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM1X1NOT1JNX0JMT0NLXTogJ2JjNS1yZy1zbm9ybScsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM2SF9VRkxPQVRfQkxPQ0tdOiAnYmM2aC1yZ2ItdWZsb2F0JyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzZIX1NGTE9BVF9CTE9DS106ICdiYzZoLXJnYi1mbG9hdCcsXHJcbiAgICBba3R4cC5WS19GT1JNQVRfQkM3X1VOT1JNX0JMT0NLXTogJ2JjNy1yZ2JhLXVub3JtJyxcclxuICAgIFtrdHhwLlZLX0ZPUk1BVF9CQzdfU1JHQl9CTE9DS106ICdiYzctcmdiYS11bm9ybS1zcmdiJyxcclxuICAgIC8vIEN1cnJlbnRseSB1bnN1cHBvcnRlZCBleHRlbnNpb24gZm9ybWF0czpcclxuICAgIC8vIEVUQzIgY29tcHJlc3NlZCBmb3JtYXRzIHVzYWJsZSBpZiBcInRleHR1cmUtY29tcHJlc3Npb24tZXRjMlwiIGlzIGJvdGhcclxuICAgIC8vIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlL3VzZXIgYWdlbnQgYW5kIGVuYWJsZWQgaW4gcmVxdWVzdERldmljZS5cclxuICAgIC8vIFwiZXRjMi1yZ2I4dW5vcm1cIixcclxuICAgIC8vIFwiZXRjMi1yZ2I4dW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJldGMyLXJnYjhhMXVub3JtXCIsXHJcbiAgICAvLyBcImV0YzItcmdiOGExdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJldGMyLXJnYmE4dW5vcm1cIixcclxuICAgIC8vIFwiZXRjMi1yZ2JhOHVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiZWFjLXIxMXVub3JtXCIsXHJcbiAgICAvLyBcImVhYy1yMTFzbm9ybVwiLFxyXG4gICAgLy8gXCJlYWMtcmcxMXVub3JtXCIsXHJcbiAgICAvLyBcImVhYy1yZzExc25vcm1cIixcclxuICAgIC8vIEFTVEMgY29tcHJlc3NlZCBmb3JtYXRzIHVzYWJsZSBpZiBcInRleHR1cmUtY29tcHJlc3Npb24tYXN0Y1wiIGlzIGJvdGhcclxuICAgIC8vIHN1cHBvcnRlZCBieSB0aGUgZGV2aWNlL3VzZXIgYWdlbnQgYW5kIGVuYWJsZWQgaW4gcmVxdWVzdERldmljZS5cclxuICAgIC8vIFwiYXN0Yy00eDQtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy00eDQtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTV4NC11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTV4NC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtNXg1LXVub3JtXCIsXHJcbiAgICAvLyBcImFzdGMtNXg1LXVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiYXN0Yy02eDUtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy02eDUtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTZ4Ni11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTZ4Ni11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtOHg1LXVub3JtXCIsXHJcbiAgICAvLyBcImFzdGMtOHg1LXVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiYXN0Yy04eDYtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy04eDYtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTh4OC11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTh4OC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTB4NS11bm9ybVwiLFxyXG4gICAgLy8gXCJhc3RjLTEweDUtdW5vcm0tc3JnYlwiLFxyXG4gICAgLy8gXCJhc3RjLTEweDYtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy0xMHg2LXVub3JtLXNyZ2JcIixcclxuICAgIC8vIFwiYXN0Yy0xMHg4LXVub3JtXCIsXHJcbiAgICAvLyBcImFzdGMtMTB4OC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTB4MTAtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy0xMHgxMC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTJ4MTAtdW5vcm1cIixcclxuICAgIC8vIFwiYXN0Yy0xMngxMC11bm9ybS1zcmdiXCIsXHJcbiAgICAvLyBcImFzdGMtMTJ4MTItdW5vcm1cIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBUZXh0dXJlRm9ybWF0VG9TaXplOiBQYXJ0aWFsPFJlY29yZDxHUFVUZXh0dXJlRm9ybWF0LCBudW1iZXI+PiA9IHtcclxuICAgIC8vIDgtYml0IGZvcm1hdHNcclxuICAgIHI4dW5vcm06IDEsXHJcbiAgICByOHNub3JtOiAxLFxyXG4gICAgcjh1aW50OiAxLFxyXG4gICAgcjhzaW50OiAxLFxyXG4gICAgLy8gMTYtYml0IGZvcm1hdHNcclxuICAgIHIxNnVpbnQ6IDIsXHJcbiAgICByMTZzaW50OiAyLFxyXG4gICAgcjE2ZmxvYXQ6IDIsXHJcbiAgICByZzh1bm9ybTogMixcclxuICAgIHJnOHNub3JtOiAyLFxyXG4gICAgcmc4dWludDogMixcclxuICAgIHJnOHNpbnQ6IDIsXHJcbiAgICAvLyAzMi1iaXQgZm9ybWF0c1xyXG4gICAgcjMydWludDogNCxcclxuICAgIHIzMnNpbnQ6IDQsXHJcbiAgICByMzJmbG9hdDogNCxcclxuICAgIHJnMTZ1aW50OiA0LFxyXG4gICAgcmcxNnNpbnQ6IDQsXHJcbiAgICByZzE2ZmxvYXQ6IDQsXHJcbiAgICByZ2JhOHVub3JtOiA0LFxyXG4gICAgJ3JnYmE4dW5vcm0tc3JnYic6IDQsXHJcbiAgICByZ2JhOHNub3JtOiA0LFxyXG4gICAgcmdiYTh1aW50OiA0LFxyXG4gICAgcmdiYThzaW50OiA0LFxyXG4gICAgYmdyYTh1bm9ybTogNCxcclxuICAgICdiZ3JhOHVub3JtLXNyZ2InOiA0LFxyXG4gICAgLy8gUGFja2VkIDMyLWJpdCBmb3JtYXRzXHJcbiAgICByZ2I5ZTV1ZmxvYXQ6IDQsXHJcbiAgICByZ2IxMGEydWludDogNCxcclxuICAgIHJnYjEwYTJ1bm9ybTogNCxcclxuICAgIHJnMTFiMTB1ZmxvYXQ6IDQsXHJcbiAgICAvLyA2NC1iaXQgZm9ybWF0c1xyXG4gICAgcmczMnVpbnQ6IDgsXHJcbiAgICByZzMyc2ludDogOCxcclxuICAgIHJnMzJmbG9hdDogOCxcclxuICAgIHJnYmExNnVpbnQ6IDgsXHJcbiAgICByZ2JhMTZzaW50OiA4LFxyXG4gICAgcmdiYTE2ZmxvYXQ6IDgsXHJcbiAgICAvLyAxMjgtYml0IGZvcm1hdHNcclxuICAgIHJnYmEzMnVpbnQ6IDE2LFxyXG4gICAgcmdiYTMyc2ludDogMTYsXHJcbiAgICByZ2JhMzJmbG9hdDogMTYsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVGV4dHVyZUZvcm1hdFRvQ2hhbm5lbFNpemU6IFBhcnRpYWw8UmVjb3JkPEdQVVRleHR1cmVGb3JtYXQsIG51bWJlcj4+ID0ge1xyXG4gICAgLy8gOC1iaXQgZm9ybWF0c1xyXG4gICAgcjh1bm9ybTogMSxcclxuICAgIHI4c25vcm06IDEsXHJcbiAgICByOHVpbnQ6IDEsXHJcbiAgICByOHNpbnQ6IDEsXHJcbiAgICAvLyAxNi1iaXQgZm9ybWF0c1xyXG4gICAgcjE2dWludDogMixcclxuICAgIHIxNnNpbnQ6IDIsXHJcbiAgICByMTZmbG9hdDogMixcclxuICAgIHJnOHVub3JtOiAxLFxyXG4gICAgcmc4c25vcm06IDEsXHJcbiAgICByZzh1aW50OiAxLFxyXG4gICAgcmc4c2ludDogMSxcclxuICAgIC8vIDMyLWJpdCBmb3JtYXRzXHJcbiAgICByMzJ1aW50OiA0LFxyXG4gICAgcjMyc2ludDogNCxcclxuICAgIHIzMmZsb2F0OiA0LFxyXG4gICAgcmcxNnVpbnQ6IDIsXHJcbiAgICByZzE2c2ludDogMixcclxuICAgIHJnMTZmbG9hdDogMixcclxuICAgIHJnYmE4dW5vcm06IDEsXHJcbiAgICAncmdiYTh1bm9ybS1zcmdiJzogMSxcclxuICAgIHJnYmE4c25vcm06IDEsXHJcbiAgICByZ2JhOHVpbnQ6IDEsXHJcbiAgICByZ2JhOHNpbnQ6IDEsXHJcbiAgICBiZ3JhOHVub3JtOiAxLFxyXG4gICAgJ2JncmE4dW5vcm0tc3JnYic6IDEsXHJcbiAgICAvLyBQYWNrZWQgMzItYml0IGZvcm1hdHNcclxuICAgIHJnYjllNXVmbG9hdDogNCxcclxuICAgIHJnYjEwYTJ1aW50OiA0LFxyXG4gICAgcmdiMTBhMnVub3JtOiA0LFxyXG4gICAgcmcxMWIxMHVmbG9hdDogNCxcclxuICAgIC8vIDY0LWJpdCBmb3JtYXRzXHJcbiAgICByZzMydWludDogNCxcclxuICAgIHJnMzJzaW50OiA0LFxyXG4gICAgcmczMmZsb2F0OiA0LFxyXG4gICAgcmdiYTE2dWludDogMixcclxuICAgIHJnYmExNnNpbnQ6IDIsXHJcbiAgICByZ2JhMTZmbG9hdDogMixcclxuICAgIC8vIDEyOC1iaXQgZm9ybWF0c1xyXG4gICAgcmdiYTMydWludDogNCxcclxuICAgIHJnYmEzMnNpbnQ6IDQsXHJcbiAgICByZ2JhMzJmbG9hdDogNCxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBXZWJHUFVUb1ZrRm9ybWF0ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxyXG4gICAgT2JqZWN0LmVudHJpZXMoVmtGb3JtYXRUb1dlYkdQVSkubWFwKChbdmssIHdncHVdKSA9PiBbd2dwdSwgcGFyc2VJbnQodmssIDEwKV0pLFxyXG4pIGFzIFJlY29yZDxHUFVUZXh0dXJlRm9ybWF0LCBrdHhwLlZLRm9ybWF0PjtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXh0dXJlVHlwZVRvRGltZW5zaW9uOiBSZWNvcmQ8c3RyaW5nLCBHUFVUZXh0dXJlVmlld0RpbWVuc2lvbj4gPSB7XHJcbiAgICB0ZXh0dXJlX2N1YmU6ICdjdWJlJyxcclxuICAgIHRleHR1cmVfM2Q6ICczZCcsXHJcbiAgICB0ZXh0dXJlXzJkOiAnMmQnLFxyXG59O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///838\n")},114:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ renderer)\n});\n\n// EXTERNAL MODULE: ./node_modules/.pnpm/wgpu-matrix@3.0.1/node_modules/wgpu-matrix/dist/3.x/wgpu-matrix.module.js\nvar wgpu_matrix_module = __webpack_require__(836);\n// EXTERNAL MODULE: ./src/rendering/constants.ts\nvar constants = __webpack_require__(838);\n;// CONCATENATED MODULE: ./src/rendering/camera.ts\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Camera_instances, _a, _Camera_cacheProjection;\n\n\nclass Camera {\n    constructor(viewParams = {}) {\n        _Camera_instances.add(this);\n        /**\n       *  An ArrayBuffer containing the camera's worldToView, viewToClip, worldToClip,\n       *  viewToWorld, clipToView, and clipToWorld matrices as Float32Arrays for\n       *  easier transfer. Ordered as listed above.\n       */\n        this.buffer = new ArrayBuffer(_a.bufferLength);\n        this.worldToView = new Float32Array(this.buffer, _a.worldToViewOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.viewToClip = new Float32Array(this.buffer, _a.viewToClipOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.worldToClip = new Float32Array(this.buffer, _a.worldToClipOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.viewToWorld = new Float32Array(this.buffer, _a.viewToWorldOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.clipToView = new Float32Array(this.buffer, _a.clipToViewOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.clipToWorld = new Float32Array(this.buffer, _a.clipToWorldOffset, constants/* TypeSizes */.vV.mat4x4Count);\n        this.location = new Float32Array([0, 0, 0]);\n        this.rotation = new Float32Array([0, 0, 0, 1]);\n        this.params = {\n            nearPlane: 0.3,\n            farPlane: 500.0,\n            fov: 60,\n            width: 1920,\n            height: 1080,\n            projection: 'perspective',\n        };\n        this.updateParams(viewParams);\n    }\n    updateParams(val) {\n        this.params = Object.assign(Object.assign({}, this.params), val);\n        __classPrivateFieldGet(this, _Camera_instances, \"m\", _Camera_cacheProjection).call(this);\n    }\n    cacheView() {\n        wgpu_matrix_module/* mat4 */.pB.fromQuat(this.rotation, this.viewToWorld);\n        wgpu_matrix_module/* mat4 */.pB.setTranslation(this.viewToWorld, this.location, this.viewToWorld);\n        // mat4.mul(this.viewToWorld, Camera.orientation, this.viewToWorld);\n        wgpu_matrix_module/* mat4 */.pB.invert(this.viewToWorld, this.worldToView);\n        wgpu_matrix_module/* mat4 */.pB.mul(this.viewToClip, this.worldToView, this.worldToClip);\n        wgpu_matrix_module/* mat4 */.pB.mul(this.viewToWorld, this.clipToView, this.clipToWorld);\n    }\n}\n_a = Camera, _Camera_instances = new WeakSet(), _Camera_cacheProjection = function _Camera_cacheProjection() {\n    if (this.params.projection === 'perspective') {\n        wgpu_matrix_module/* mat4 */.pB.perspective(this.params.fov * (Math.PI / 180), this.params.width / this.params.height, this.params.nearPlane, this.params.farPlane, this.viewToClip);\n    }\n    else {\n        const x = this.params.width / 2;\n        const y = this.params.height / 2;\n        wgpu_matrix_module/* mat4 */.pB.ortho(-x, x, -y, y, this.params.nearPlane, this.params.farPlane, this.viewToClip);\n    }\n    wgpu_matrix_module/* mat4 */.pB.invert(this.viewToClip, this.clipToView);\n};\nCamera.orientation = new Float32Array([\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, -1, 0,\n    0, 0, 0, 1,\n]);\nCamera.worldToViewOffset = 0;\nCamera.viewToClipOffset = _a.worldToViewOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.worldToClipOffset = _a.viewToClipOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.viewToWorldOffset = _a.worldToClipOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.clipToViewOffset = _a.viewToWorldOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.clipToWorldOffset = _a.clipToViewOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\nCamera.bufferLength = _a.clipToWorldOffset + constants/* TypeSizes */.vV.sizeofMat4x4f;\n/* harmony default export */ const camera = (Camera);\n\n;// CONCATENATED MODULE: ./src/rendering/forward-uniforms.ts\n\nclass ForwardUniforms {\n    constructor(device) {\n        this.deviceBuffer = device.createBuffer(ForwardUniforms.bufferDescriptor);\n        this.bindGroupLayout = device.createBindGroupLayout(ForwardUniforms.layoutDescriptor);\n        this.bindGroupDescriptor = {\n            label: 'forward pass uniforms bind group',\n            layout: this.bindGroupLayout,\n            entries: [\n                {\n                    binding: 0,\n                    resource: {\n                        buffer: this.deviceBuffer,\n                        offset: 0,\n                        size: ForwardUniforms.bufferSize,\n                    },\n                },\n            ],\n        };\n        this.bindgroup = device.createBindGroup(this.bindGroupDescriptor);\n    }\n    updateDeviceBuffer(queue, camera) {\n        camera.cacheView();\n        queue.writeBuffer(this.deviceBuffer, 0, camera.buffer);\n    }\n}\nForwardUniforms.code = (group) => /* wgsl */ `\r\n        struct ForwardUniforms {\r\n            worldToView: mat4x4f,\r\n            viewToClip: mat4x4f,\r\n            worldToClip: mat4x4f,\r\n            inverseWorldToView: mat4x4f,\r\n            inverseViewToClip: mat4x4f,\r\n            inverseWorldToClip: mat4x4f,\r\n        }\r\n\r\n        @group(${group}) @binding(0) var<uniform> globals: ForwardUniforms;\r\n    `;\nForwardUniforms.bufferSize = camera.bufferLength;\nForwardUniforms.layoutDescriptor = {\n    label: 'Forward uniforms layout',\n    entries: [\n        {\n            binding: 0,\n            buffer: { minBindingSize: ForwardUniforms.bufferSize },\n            visibility: GPUShaderStage.VERTEX,\n        },\n    ],\n};\nForwardUniforms.bufferDescriptor = {\n    label: 'Forward uniforms buffer',\n    size: ForwardUniforms.bufferSize,\n    usage: GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST,\n};\n/* harmony default export */ const forward_uniforms = (ForwardUniforms);\n\n;// CONCATENATED MODULE: ./src/shaders/blit-vert.shader.ts\n/* harmony default export */ const blit_vert_shader = (/* wgsl */`\r\n    struct VertOut {\r\n        @builtin(position) pos: vec4f,\r\n        @location(0) uv: vec2f,\r\n    }\r\n\r\n    @vertex\r\n    fn vs(@builtin(vertex_index) idx: u32) -> VertOut {\r\n        const pos = array(\r\n            vec2f(-1,  3),\r\n            vec2f(3, -1),\r\n            vec2f(-1, -1),\r\n        );\r\n        var res: VertOut;\r\n        res.pos = vec4f(pos[idx], 0.0, 1.0);\r\n        res.uv = pos[idx];\r\n        return res;\r\n    }\r\n`);\n\n;// CONCATENATED MODULE: ./src/rendering/tonemap-pass.ts\n\nclass TonemapPass {\n    constructor(device, format) {\n        this.device = device;\n        this.colorAttachment = {\n            loadOp: 'load',\n            storeOp: 'store',\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            view: undefined,\n        };\n        this.passDescriptor = {\n            label: 'tonepass -- pass encoder',\n            colorAttachments: [this.colorAttachment],\n        };\n        this.renderTarget = { format };\n        this.bindgroupLayout = device.createBindGroupLayout(TonemapPass.bindGroupLayoutDescriptor);\n        const module = device.createShaderModule({ label: 'tonemap shader', code: TonemapPass.code });\n        this.pipelineDescriptor = {\n            label: 'tonemap pipeline',\n            layout: device.createPipelineLayout({\n                label: 'tone map pipeline layout',\n                bindGroupLayouts: [this.bindgroupLayout],\n            }),\n            vertex: {\n                module,\n                entryPoint: 'vs',\n            },\n            fragment: {\n                module,\n                entryPoint: 'fs',\n                targets: [this.renderTarget],\n            },\n        };\n        this.pipeline = device.createRenderPipeline(this.pipelineDescriptor);\n    }\n    updateInput(input) {\n        this.bindgroup = this.device.createBindGroup({\n            label: 'tonemap bindgroup',\n            layout: this.bindgroupLayout,\n            entries: [{\n                    binding: 0,\n                    resource: input,\n                }],\n        });\n    }\n    pass(encoder, output) {\n        if (this.bindgroup == null)\n            return;\n        if (this.renderTarget.format !== output.format) {\n            this.renderTarget.format = output.format;\n            this.pipeline = this.device.createRenderPipeline(this.pipelineDescriptor);\n        }\n        this.colorAttachment.view = output.createView({ dimension: '2d' });\n        const pass = encoder.beginRenderPass(this.passDescriptor);\n        pass.setPipeline(this.pipeline);\n        pass.setBindGroup(0, this.bindgroup);\n        pass.draw(3);\n        pass.end();\n    }\n}\nTonemapPass.code = `\r\n        @group(0) @binding(0) var colorTexture: texture_2d<f32>;\r\n\r\n        ${blit_vert_shader}\r\n\r\n        fn aces_tone_map(hdr: vec3f) -> vec3f {\r\n            const m1 = mat3x3(\r\n                0.59719, 0.07600, 0.02840,\r\n                0.35458, 0.90834, 0.13383,\r\n                0.04823, 0.01566, 0.83777,\r\n            );\r\n            const m2 = mat3x3(\r\n                1.60475, -0.10208, -0.00327,\r\n                -0.53108, 1.10813, -0.07276,\r\n                -0.07367, -0.00605, 1.07602,\r\n            );\r\n            const boost = 1.0 / 0.6;\r\n            let v = m1 * (hdr);\r\n            let a = v * (v + 0.0245786) - 0.000090537;\r\n            let b = v * (0.983729 * v + 0.4329510) + 0.238081;\r\n            return saturate(m2 * (a / b));\r\n        }\r\n\r\n        fn gamma_correct(color: vec3f) -> vec3f {\r\n            return linear_to_srgb(color / (color + vec3(1.0)));\r\n        }\r\n\r\n        fn linear_to_srgb(color: vec3f) -> vec3f {\r\n            return pow(color, vec3(1.0/2.2));\r\n        }\r\n\r\n        @fragment\r\n        fn fs(@builtin(position) pos: vec4f) -> @location(0) vec4f {\r\n            let uv = vec2<i32>(floor(pos.xy));\r\n            let color = textureLoad(colorTexture, uv, 0);\r\n            return vec4f(linear_to_srgb(aces_tone_map(color.rgb)), 1.0);\r\n        }\r\n    `;\nTonemapPass.bindGroupLayoutDescriptor = {\n    label: 'tonemap bindgroup layout',\n    entries: [{\n            binding: 0,\n            texture: { sampleType: 'float', viewDimension: '2d' },\n            visibility: GPUShaderStage.FRAGMENT,\n        }],\n};\n/* harmony default export */ const tonemap_pass = (TonemapPass);\n\n;// CONCATENATED MODULE: ./src/rendering/skybox-pass.ts\nvar skybox_pass_classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (undefined && undefined.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _SkyboxPass_instances, _SkyboxPass_skyTexture, _SkyboxPass_depthTexture, _SkyboxPass_targetFormat, _SkyboxPass_useNearestSample, _SkyboxPass_updateBindgroup;\n\nclass SkyboxPass {\n    get mipLevel() { return this.uniformArray[0]; }\n    set mipLevel(val) {\n        if (val === this.uniformArray[0])\n            return;\n        this.uniformArray[0] = val;\n        this.device.queue.writeBuffer(this.uniformBuffer, 0, this.uniformArray, 0, 1);\n    }\n    get useNearestSample() { return skybox_pass_classPrivateFieldGet(this, _SkyboxPass_useNearestSample, \"f\"); }\n    set useNearestSample(val) {\n        if (val === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_useNearestSample, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_useNearestSample, val, \"f\");\n        skybox_pass_classPrivateFieldGet(this, _SkyboxPass_instances, \"m\", _SkyboxPass_updateBindgroup).call(this);\n    }\n    get targetFormat() { return skybox_pass_classPrivateFieldGet(this, _SkyboxPass_targetFormat, \"f\"); }\n    set targetFormat(format) {\n        if (format === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_targetFormat, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_targetFormat, format, \"f\");\n        this.pipeline = this.device.createRenderPipeline({\n            label: 'skybox pass -- pipeline',\n            layout: this.pipelineLayout,\n            vertex: {\n                entryPoint: 'vs',\n                module: this.shader,\n            },\n            fragment: {\n                entryPoint: 'fs',\n                targets: [{ format }],\n                module: this.shader,\n            },\n        });\n    }\n    set skyTexture(skybox) {\n        if (skybox === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_skyTexture, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_skyTexture, skybox, \"f\");\n        skybox_pass_classPrivateFieldGet(this, _SkyboxPass_instances, \"m\", _SkyboxPass_updateBindgroup).call(this);\n    }\n    set depthTexture(depthTexture) {\n        if (depthTexture === skybox_pass_classPrivateFieldGet(this, _SkyboxPass_depthTexture, \"f\"))\n            return;\n        __classPrivateFieldSet(this, _SkyboxPass_depthTexture, depthTexture, \"f\");\n        skybox_pass_classPrivateFieldGet(this, _SkyboxPass_instances, \"m\", _SkyboxPass_updateBindgroup).call(this);\n    }\n    constructor(device, cameraUniforms, targetFormat, skybox) {\n        _SkyboxPass_instances.add(this);\n        this.device = device;\n        this.cameraUniforms = cameraUniforms;\n        this.uniformArray = new Float32Array(8);\n        _SkyboxPass_skyTexture.set(this, void 0);\n        _SkyboxPass_depthTexture.set(this, void 0);\n        _SkyboxPass_targetFormat.set(this, void 0);\n        _SkyboxPass_useNearestSample.set(this, false);\n        this.target = {\n            clearValue: { r: 0.0, g: 0.0, b: 0.0, a: 1.0 },\n            loadOp: 'clear',\n            storeOp: 'store',\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            view: undefined,\n        };\n        this.passDescriptor = { colorAttachments: [this.target] };\n        this.bindgroupLayout = device.createBindGroupLayout({\n            label: 'skybox pass -- bindgroup layout',\n            entries: [\n                {\n                    binding: 0,\n                    texture: { viewDimension: 'cube' },\n                    visibility: GPUShaderStage.FRAGMENT | GPUShaderStage.VERTEX,\n                },\n                {\n                    binding: 1,\n                    texture: {\n                        viewDimension: '2d',\n                        sampleType: 'depth',\n                    },\n                    visibility: GPUShaderStage.FRAGMENT,\n                },\n                {\n                    binding: 2,\n                    visibility: GPUShaderStage.FRAGMENT,\n                    sampler: {},\n                },\n                {\n                    binding: 3,\n                    visibility: GPUShaderStage.VERTEX,\n                    buffer: { type: 'uniform' },\n                },\n            ],\n        });\n        this.linearSampler = device.createSampler({\n            minFilter: 'linear',\n            magFilter: 'linear',\n            mipmapFilter: 'linear',\n        });\n        this.nearestSampler = device.createSampler({\n            minFilter: 'nearest',\n            magFilter: 'nearest',\n            mipmapFilter: 'nearest',\n        });\n        this.shader = device.createShaderModule({\n            code: SkyboxPass.code,\n            label: 'skybox pass -- shader',\n        });\n        this.pipelineLayout = device.createPipelineLayout({\n            label: 'skybox pass -- pipeline layout',\n            bindGroupLayouts: [\n                cameraUniforms.bindGroupLayout,\n                this.bindgroupLayout,\n            ],\n        });\n        this.uniformBuffer = device.createBuffer({\n            label: 'skybox pass -- uniform buffer',\n            size: 32,\n            usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.UNIFORM,\n        });\n        this.targetFormat = targetFormat;\n        if (skybox != null)\n            this.skyTexture = skybox;\n    }\n    pass(pass) {\n        if (this.textureBindgroup == null || this.pipeline == null)\n            return false;\n        pass.setPipeline(this.pipeline);\n        pass.setBindGroup(0, this.cameraUniforms.bindgroup);\n        pass.setBindGroup(1, this.textureBindgroup);\n        pass.draw(3);\n        return true;\n    }\n}\n_SkyboxPass_skyTexture = new WeakMap(), _SkyboxPass_depthTexture = new WeakMap(), _SkyboxPass_targetFormat = new WeakMap(), _SkyboxPass_useNearestSample = new WeakMap(), _SkyboxPass_instances = new WeakSet(), _SkyboxPass_updateBindgroup = function _SkyboxPass_updateBindgroup() {\n    if (skybox_pass_classPrivateFieldGet(this, _SkyboxPass_skyTexture, \"f\") == null || skybox_pass_classPrivateFieldGet(this, _SkyboxPass_depthTexture, \"f\") == null)\n        return;\n    this.textureBindgroup = this.device.createBindGroup({\n        label: 'skybox pass -- bindgroup',\n        layout: this.bindgroupLayout,\n        entries: [\n            {\n                binding: 0,\n                resource: skybox_pass_classPrivateFieldGet(this, _SkyboxPass_skyTexture, \"f\"),\n            },\n            {\n                binding: 1,\n                resource: skybox_pass_classPrivateFieldGet(this, _SkyboxPass_depthTexture, \"f\"),\n            },\n            {\n                binding: 2,\n                resource: this.useNearestSample\n                    ? this.nearestSampler\n                    : this.linearSampler,\n            },\n            {\n                binding: 3,\n                resource: { buffer: this.uniformBuffer },\n            },\n        ],\n    });\n};\nSkyboxPass.code = `\r\n        ${forward_uniforms.code(0)}\r\n\r\n        struct SkyboxUniforms {\r\n            mipBias: f32,\r\n        };\r\n\r\n        @group(1) @binding(0) var environmentTexture: texture_cube<f32>;\r\n        @group(1) @binding(1) var depthTexture: texture_depth_2d;\r\n        @group(1) @binding(2) var environmentSampler: sampler;\r\n        @group(1) @binding(3) var<uniform> skyboxUniforms: SkyboxUniforms;\r\n\r\n        struct Varyings {\r\n            @builtin(position) position: vec4f,\r\n            @location(0) pos: vec4f,\r\n            @location(1) mipBias: f32,\r\n        };\r\n    \r\n        @vertex \r\n        fn vs(@builtin(vertex_index) vNdx: u32) -> Varyings {\r\n            const pos = array(\r\n                vec2(-1.0,  3.0),\r\n                vec2(-1.0, -1.0),\r\n                vec2( 3.0, -1.0),\r\n            );\r\n    \r\n            var vsOut: Varyings;\r\n            vsOut.position = vec4(pos[vNdx], 0.0, 1.0);\r\n    \r\n            // Ignores the camera's translation without needing a separate rotation matrix.\r\n            vsOut.pos = globals.inverseViewToClip * vsOut.position;\r\n            let w = vsOut.pos.w;\r\n            vsOut.pos.w = 0.0;\r\n            vsOut.pos = globals.inverseWorldToView * vsOut.pos;\r\n            vsOut.pos.w = w;\r\n\r\n            vsOut.mipBias = clamp(skyboxUniforms.mipBias, 0, f32(textureNumLevels(environmentTexture)));\r\n            return vsOut;\r\n        }\r\n\r\n        @fragment\r\n        fn fs(in: Varyings) -> @location(0) vec4f {\r\n            let dimensions = textureDimensions(depthTexture);\r\n            let uv = min(vec2<u32>(floor(in.position.xy)), dimensions - 1);\r\n            let depth = textureLoad(depthTexture, uv, 0);\r\n            if (depth < 1.0) { discard; }\r\n\r\n            let t = normalize(in.pos.xyz / in.pos.w) * vec3(-1.0, 1.0, 1.0);\r\n            let color = textureSampleLevel(environmentTexture, environmentSampler, t, in.mipBias).rgb;\r\n            return vec4(color, 1.0);\r\n        }\r\n    `;\n/* harmony default export */ const skybox_pass = (SkyboxPass);\n\n// EXTERNAL MODULE: ./src/utils/general.ts\nvar general = __webpack_require__(986);\n;// CONCATENATED MODULE: ./src/rendering/renderer.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar renderer_classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Renderer_instances, _Renderer_createResizeObserver;\n\n\n\n\n\nclass Renderer {\n    setModel(ModelCtor) {\n        this.model = new ModelCtor(this.device, this.skyboxPass, {\n            view: this.colorAttachment.view,\n            format: Renderer.postProcessFormat,\n            size: { width: this.canvas.width, height: this.canvas.height },\n        });\n        return this.model;\n    }\n    constructor(canvas, device) {\n        _Renderer_instances.add(this);\n        this.canvas = canvas;\n        this.device = device;\n        this.colorAttachment = {\n            clearValue: { r: 0, g: 0, b: 0, a: 1 },\n            loadOp: 'clear',\n            storeOp: 'store',\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            view: undefined,\n        };\n        this.passDescriptor = { colorAttachments: [this.colorAttachment] };\n        this.render = () => {\n            var _a, _b;\n            requestAnimationFrame(this.render);\n            this.forwardUniforms.updateDeviceBuffer(this.device.queue, this.camera);\n            const encoder = this.device.createCommandEncoder({ label: 'main render encoder' });\n            const pass = (_b = (_a = this.model) === null || _a === void 0 ? void 0 : _a.render(encoder)) !== null && _b !== void 0 ? _b : encoder.beginRenderPass(this.passDescriptor);\n            this.skyboxPass.pass(pass);\n            pass.end();\n            this.tonemapPass.pass(encoder, this.context.getCurrentTexture());\n            this.device.queue.submit([encoder.finish()]);\n        };\n        const size = { width: this.canvas.width, height: this.canvas.height };\n        this.camera = new camera(size);\n        this.forwardUniforms = new forward_uniforms(this.device);\n        this.tonemapPass = new tonemap_pass(this.device, Renderer.outputFormat);\n        this.skyboxPass = new skybox_pass(this.device, this.forwardUniforms, Renderer.postProcessFormat);\n        const context = this.canvas.getContext('webgpu');\n        if (context == null)\n            throw new Error('renderer -- given canvas already initialized to non-webgpu context');\n        this.context = context;\n        this.context.configure({\n            device: this.device,\n            format: Renderer.outputFormat,\n            usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC,\n            alphaMode: 'opaque',\n            colorSpace: 'srgb',\n        });\n        this.updateBackings(size);\n        renderer_classPrivateFieldGet(this, _Renderer_instances, \"m\", _Renderer_createResizeObserver).call(this);\n    }\n    static CreateInitialized(canvas) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const adapter = yield navigator.gpu.requestAdapter();\n            if (adapter == null) {\n                throw new Error('Could not initialize GPU.');\n            }\n            const { maxComputeWorkgroupSizeX, maxComputeWorkgroupsPerDimension, maxComputeInvocationsPerWorkgroup, } = adapter.limits;\n            const device = yield adapter.requestDevice({\n                label: 'main logical device',\n                requiredFeatures: Renderer.requiredFeatures,\n                requiredLimits: {\n                    maxComputeWorkgroupSizeX,\n                    maxComputeWorkgroupsPerDimension,\n                    maxComputeInvocationsPerWorkgroup,\n                },\n            });\n            return new Renderer(canvas, device);\n        });\n    }\n    updateBackings(size) {\n        var _a;\n        this.camera.updateParams(size);\n        this.postprocessTarget = this.device.createTexture({\n            dimension: '2d',\n            format: Renderer.postProcessFormat,\n            usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.TEXTURE_BINDING,\n            size,\n        });\n        this.colorAttachment.view = this.postprocessTarget.createView();\n        this.tonemapPass.updateInput(this.colorAttachment.view);\n        (_a = this.model) === null || _a === void 0 ? void 0 : _a.setTarget({\n            view: this.colorAttachment.view,\n            format: Renderer.postProcessFormat,\n            size,\n        });\n        if (this.model != null)\n            this.skyboxPass.depthTexture = this.model.depthTextureView;\n    }\n}\n_Renderer_instances = new WeakSet(), _Renderer_createResizeObserver = function _Renderer_createResizeObserver() {\n    const resizeCanvas = (0,general/* debounce */.sg)((rawWidth, rawHeight) => {\n        const width = Math.max(1, Math.min(rawWidth | 0, this.device.limits.maxTextureDimension2D));\n        const height = Math.max(1, Math.min(rawHeight | 0, this.device.limits.maxTextureDimension2D));\n        const dimensions = { width, height };\n        this.canvas.width = width;\n        this.canvas.height = height;\n        this.updateBackings(dimensions);\n    }, 20);\n    try {\n        const observer = new ResizeObserver((entries) => {\n            const [{ inlineSize, blockSize }] = entries[entries.length - 1].devicePixelContentBoxSize;\n            resizeCanvas(inlineSize, blockSize);\n        });\n        observer.observe(this.canvas, { box: 'device-pixel-content-box' });\n    }\n    catch (_a) {\n        // Safari doesn't support device-pixel-content-box, so it would fail into this.\n        const observer = new ResizeObserver((entries) => {\n            const [{ inlineSize, blockSize }] = entries[entries.length - 1].contentBoxSize;\n            resizeCanvas(inlineSize * devicePixelRatio, blockSize * devicePixelRatio);\n        });\n        observer.observe(this.canvas, { box: 'content-box' });\n    }\n};\nRenderer.requiredFeatures = ['float32-filterable'];\nRenderer.outputFormat = navigator.gpu.getPreferredCanvasFormat();\nRenderer.postProcessFormat = 'rgba32float';\n/* harmony default export */ const renderer = (Renderer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7QUFySWUseUJBQWdCLEdBQXFCLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUM1RCxxQkFBWSxHQUFxQixTQUFTLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLENBQUM7QUFDMUUsMEJBQWlCLEdBQXFCLGFBQWEsQ0FBQzsrQ0FIbkQsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL2NidW50LXBvcnRmb2xpby8uL3NyYy9yZW5kZXJpbmcvY2FtZXJhLnRzPzFiOWYiLCJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy9mb3J3YXJkLXVuaWZvcm1zLnRzPzQxMTUiLCJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3NoYWRlcnMvYmxpdC12ZXJ0LnNoYWRlci50cz9hNTE4Iiwid2VicGFjazovL2NidW50LXBvcnRmb2xpby8uL3NyYy9yZW5kZXJpbmcvdG9uZW1hcC1wYXNzLnRzPzlhNTEiLCJ3ZWJwYWNrOi8vY2J1bnQtcG9ydGZvbGlvLy4vc3JjL3JlbmRlcmluZy9za3lib3gtcGFzcy50cz8yZWUzIiwid2VicGFjazovL2NidW50LXBvcnRmb2xpby8uL3NyYy9yZW5kZXJpbmcvcmVuZGVyZXIudHM/MmI4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWMzLCBNYXQ0LCBtYXQ0LCBRdWF0IH0gZnJvbSAnd2dwdS1tYXRyaXgnO1xyXG5pbXBvcnQgeyBUeXBlU2l6ZXMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgdHlwZSBDYW1lcmFQYXJhbXMgPSB7XHJcbiAgICBuZWFyUGxhbmU6IG51bWJlcixcclxuICAgIGZhclBsYW5lOiBudW1iZXIsXHJcbiAgICBmb3Y6IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIHByb2plY3Rpb246ICdwZXJzcGVjdGl2ZScgfCAnb3J0aG8nLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIHN0YXRpYyByZWFkb25seSBvcmllbnRhdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgICAgIDEsIDAsIDAsIDAsXHJcbiAgICAgICAgMCwgMSwgMCwgMCxcclxuICAgICAgICAwLCAwLCAtMSwgMCxcclxuICAgICAgICAwLCAwLCAwLCAxLFxyXG4gICAgXSk7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IHdvcmxkVG9WaWV3T2Zmc2V0ID0gMDtcclxuICAgIHN0YXRpYyByZWFkb25seSB2aWV3VG9DbGlwT2Zmc2V0ID0gdGhpcy53b3JsZFRvVmlld09mZnNldCArIFR5cGVTaXplcy5zaXplb2ZNYXQ0eDRmO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHdvcmxkVG9DbGlwT2Zmc2V0ID0gdGhpcy52aWV3VG9DbGlwT2Zmc2V0ICsgVHlwZVNpemVzLnNpemVvZk1hdDR4NGY7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgdmlld1RvV29ybGRPZmZzZXQgPSB0aGlzLndvcmxkVG9DbGlwT2Zmc2V0ICsgVHlwZVNpemVzLnNpemVvZk1hdDR4NGY7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgY2xpcFRvVmlld09mZnNldCA9IHRoaXMudmlld1RvV29ybGRPZmZzZXQgKyBUeXBlU2l6ZXMuc2l6ZW9mTWF0NHg0ZjtcclxuICAgIHN0YXRpYyByZWFkb25seSBjbGlwVG9Xb3JsZE9mZnNldCA9IHRoaXMuY2xpcFRvVmlld09mZnNldCArIFR5cGVTaXplcy5zaXplb2ZNYXQ0eDRmO1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBidWZmZXJMZW5ndGggPSB0aGlzLmNsaXBUb1dvcmxkT2Zmc2V0ICsgVHlwZVNpemVzLnNpemVvZk1hdDR4NGY7XHJcblxyXG4gICAgLyoqXHJcbiAgICogIEFuIEFycmF5QnVmZmVyIGNvbnRhaW5pbmcgdGhlIGNhbWVyYSdzIHdvcmxkVG9WaWV3LCB2aWV3VG9DbGlwLCB3b3JsZFRvQ2xpcCxcclxuICAgKiAgdmlld1RvV29ybGQsIGNsaXBUb1ZpZXcsIGFuZCBjbGlwVG9Xb3JsZCBtYXRyaWNlcyBhcyBGbG9hdDMyQXJyYXlzIGZvclxyXG4gICAqICBlYXNpZXIgdHJhbnNmZXIuIE9yZGVyZWQgYXMgbGlzdGVkIGFib3ZlLlxyXG4gICAqL1xyXG4gICAgcmVhZG9ubHkgYnVmZmVyOiBBcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihDYW1lcmEuYnVmZmVyTGVuZ3RoKTtcclxuXHJcbiAgICByZWFkb25seSB3b3JsZFRvVmlldzogTWF0NCA9IG5ldyBGbG9hdDMyQXJyYXkoXHJcbiAgICAgICAgdGhpcy5idWZmZXIsXHJcbiAgICAgICAgQ2FtZXJhLndvcmxkVG9WaWV3T2Zmc2V0LFxyXG4gICAgICAgIFR5cGVTaXplcy5tYXQ0eDRDb3VudCxcclxuICAgICk7XHJcblxyXG4gICAgcmVhZG9ubHkgdmlld1RvQ2xpcDogTWF0NCA9IG5ldyBGbG9hdDMyQXJyYXkoXHJcbiAgICAgICAgdGhpcy5idWZmZXIsXHJcbiAgICAgICAgQ2FtZXJhLnZpZXdUb0NsaXBPZmZzZXQsXHJcbiAgICAgICAgVHlwZVNpemVzLm1hdDR4NENvdW50LFxyXG4gICAgKTtcclxuXHJcbiAgICByZWFkb25seSB3b3JsZFRvQ2xpcDogTWF0NCA9IG5ldyBGbG9hdDMyQXJyYXkoXHJcbiAgICAgICAgdGhpcy5idWZmZXIsXHJcbiAgICAgICAgQ2FtZXJhLndvcmxkVG9DbGlwT2Zmc2V0LFxyXG4gICAgICAgIFR5cGVTaXplcy5tYXQ0eDRDb3VudCxcclxuICAgICk7XHJcblxyXG4gICAgcmVhZG9ubHkgdmlld1RvV29ybGQ6IE1hdDQgPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICAgIHRoaXMuYnVmZmVyLFxyXG4gICAgICAgIENhbWVyYS52aWV3VG9Xb3JsZE9mZnNldCxcclxuICAgICAgICBUeXBlU2l6ZXMubWF0NHg0Q291bnQsXHJcbiAgICApO1xyXG5cclxuICAgIHJlYWRvbmx5IGNsaXBUb1ZpZXc6IE1hdDQgPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICAgIHRoaXMuYnVmZmVyLFxyXG4gICAgICAgIENhbWVyYS5jbGlwVG9WaWV3T2Zmc2V0LFxyXG4gICAgICAgIFR5cGVTaXplcy5tYXQ0eDRDb3VudCxcclxuICAgICk7XHJcblxyXG4gICAgcmVhZG9ubHkgY2xpcFRvV29ybGQ6IE1hdDQgPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICAgIHRoaXMuYnVmZmVyLFxyXG4gICAgICAgIENhbWVyYS5jbGlwVG9Xb3JsZE9mZnNldCxcclxuICAgICAgICBUeXBlU2l6ZXMubWF0NHg0Q291bnQsXHJcbiAgICApO1xyXG5cclxuICAgIHJlYWRvbmx5IGxvY2F0aW9uOiBWZWMzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMF0pO1xyXG4gICAgcmVhZG9ubHkgcm90YXRpb246IFF1YXQgPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxXSk7XHJcblxyXG4gICAgcGFyYW1zOiBDYW1lcmFQYXJhbXMgPSB7XHJcbiAgICAgICAgbmVhclBsYW5lOiAwLjMsXHJcbiAgICAgICAgZmFyUGxhbmU6IDUwMC4wLFxyXG4gICAgICAgIGZvdjogNjAsXHJcbiAgICAgICAgd2lkdGg6IDE5MjAsXHJcbiAgICAgICAgaGVpZ2h0OiAxMDgwLFxyXG4gICAgICAgIHByb2plY3Rpb246ICdwZXJzcGVjdGl2ZScsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZpZXdQYXJhbXM6IFBhcnRpYWw8Q2FtZXJhUGFyYW1zPiA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYXJhbXModmlld1BhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUGFyYW1zKHZhbDogUGFydGlhbDxDYW1lcmFQYXJhbXM+KSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbXMgPSB7IC4uLnRoaXMucGFyYW1zLCAuLi52YWwgfTtcclxuICAgICAgICB0aGlzLiNjYWNoZVByb2plY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjYWNoZVZpZXcoKTogdm9pZCB7XHJcbiAgICAgICAgbWF0NC5mcm9tUXVhdCh0aGlzLnJvdGF0aW9uLCB0aGlzLnZpZXdUb1dvcmxkKTtcclxuICAgICAgICBtYXQ0LnNldFRyYW5zbGF0aW9uKHRoaXMudmlld1RvV29ybGQsIHRoaXMubG9jYXRpb24sIHRoaXMudmlld1RvV29ybGQpO1xyXG4gICAgICAgIC8vIG1hdDQubXVsKHRoaXMudmlld1RvV29ybGQsIENhbWVyYS5vcmllbnRhdGlvbiwgdGhpcy52aWV3VG9Xb3JsZCk7XHJcbiAgICAgICAgbWF0NC5pbnZlcnQodGhpcy52aWV3VG9Xb3JsZCwgdGhpcy53b3JsZFRvVmlldyk7XHJcbiAgICAgICAgbWF0NC5tdWwodGhpcy52aWV3VG9DbGlwLCB0aGlzLndvcmxkVG9WaWV3LCB0aGlzLndvcmxkVG9DbGlwKTtcclxuICAgICAgICBtYXQ0Lm11bCh0aGlzLnZpZXdUb1dvcmxkLCB0aGlzLmNsaXBUb1ZpZXcsIHRoaXMuY2xpcFRvV29ybGQpO1xyXG4gICAgfVxyXG5cclxuICAgICNjYWNoZVByb2plY3Rpb24oKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnByb2plY3Rpb24gPT09ICdwZXJzcGVjdGl2ZScpIHtcclxuICAgICAgICAgICAgbWF0NC5wZXJzcGVjdGl2ZShcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmZvdiAqIChNYXRoLlBJIC8gMTgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLndpZHRoIC8gdGhpcy5wYXJhbXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMubmVhclBsYW5lLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuZmFyUGxhbmUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdUb0NsaXAsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMucGFyYW1zLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMucGFyYW1zLmhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgICAgICBtYXQ0Lm9ydGhvKFxyXG4gICAgICAgICAgICAgICAgLXgsXHJcbiAgICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgICAgLXksXHJcbiAgICAgICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMubmVhclBsYW5lLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuZmFyUGxhbmUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdUb0NsaXAsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtYXQ0LmludmVydCh0aGlzLnZpZXdUb0NsaXAsIHRoaXMuY2xpcFRvVmlldyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IENhbWVyYSBmcm9tICcuL2NhbWVyYSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3J3YXJkVW5pZm9ybXMge1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGNvZGUgPSAoZ3JvdXA6IG51bWJlcikgPT4gLyogd2dzbCAqL2BcclxuICAgICAgICBzdHJ1Y3QgRm9yd2FyZFVuaWZvcm1zIHtcclxuICAgICAgICAgICAgd29ybGRUb1ZpZXc6IG1hdDR4NGYsXHJcbiAgICAgICAgICAgIHZpZXdUb0NsaXA6IG1hdDR4NGYsXHJcbiAgICAgICAgICAgIHdvcmxkVG9DbGlwOiBtYXQ0eDRmLFxyXG4gICAgICAgICAgICBpbnZlcnNlV29ybGRUb1ZpZXc6IG1hdDR4NGYsXHJcbiAgICAgICAgICAgIGludmVyc2VWaWV3VG9DbGlwOiBtYXQ0eDRmLFxyXG4gICAgICAgICAgICBpbnZlcnNlV29ybGRUb0NsaXA6IG1hdDR4NGYsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBAZ3JvdXAoJHtncm91cH0pIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBnbG9iYWxzOiBGb3J3YXJkVW5pZm9ybXM7XHJcbiAgICBgO1xyXG5cclxuICAgIHN0YXRpYyByZWFkb25seSBidWZmZXJTaXplID0gQ2FtZXJhLmJ1ZmZlckxlbmd0aDtcclxuXHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgbGF5b3V0RGVzY3JpcHRvcjogR1BVQmluZEdyb3VwTGF5b3V0RGVzY3JpcHRvciA9IHtcclxuICAgICAgICBsYWJlbDogJ0ZvcndhcmQgdW5pZm9ybXMgbGF5b3V0JyxcclxuICAgICAgICBlbnRyaWVzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJpbmRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICBidWZmZXI6IHsgbWluQmluZGluZ1NpemU6IEZvcndhcmRVbmlmb3Jtcy5idWZmZXJTaXplIH0sXHJcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5WRVJURVgsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IGJ1ZmZlckRlc2NyaXB0b3I6IEdQVUJ1ZmZlckRlc2NyaXB0b3IgPSB7XHJcbiAgICAgICAgbGFiZWw6ICdGb3J3YXJkIHVuaWZvcm1zIGJ1ZmZlcicsXHJcbiAgICAgICAgc2l6ZTogRm9yd2FyZFVuaWZvcm1zLmJ1ZmZlclNpemUsXHJcbiAgICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcclxuICAgIH07XHJcblxyXG4gICAgZGV2aWNlQnVmZmVyOiBHUFVCdWZmZXI7XHJcbiAgICBiaW5kR3JvdXBMYXlvdXQ6IEdQVUJpbmRHcm91cExheW91dDtcclxuICAgIGJpbmRHcm91cERlc2NyaXB0b3IhOiBHUFVCaW5kR3JvdXBEZXNjcmlwdG9yO1xyXG4gICAgYmluZGdyb3VwITogR1BVQmluZEdyb3VwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRldmljZTogR1BVRGV2aWNlKSB7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VCdWZmZXIgPSBkZXZpY2UuY3JlYXRlQnVmZmVyKEZvcndhcmRVbmlmb3Jtcy5idWZmZXJEZXNjcmlwdG9yKTtcclxuICAgICAgICB0aGlzLmJpbmRHcm91cExheW91dCA9IGRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoRm9yd2FyZFVuaWZvcm1zLmxheW91dERlc2NyaXB0b3IpO1xyXG5cclxuICAgICAgICB0aGlzLmJpbmRHcm91cERlc2NyaXB0b3IgPSB7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnZm9yd2FyZCBwYXNzIHVuaWZvcm1zIGJpbmQgZ3JvdXAnLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMuYmluZEdyb3VwTGF5b3V0LFxyXG4gICAgICAgICAgICBlbnRyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IHRoaXMuZGV2aWNlQnVmZmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IEZvcndhcmRVbmlmb3Jtcy5idWZmZXJTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYmluZGdyb3VwID0gZGV2aWNlLmNyZWF0ZUJpbmRHcm91cCh0aGlzLmJpbmRHcm91cERlc2NyaXB0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZURldmljZUJ1ZmZlcihxdWV1ZTogR1BVUXVldWUsIGNhbWVyYTogQ2FtZXJhKSB7XHJcbiAgICAgICAgY2FtZXJhLmNhY2hlVmlldygpO1xyXG4gICAgICAgIHF1ZXVlLndyaXRlQnVmZmVyKHRoaXMuZGV2aWNlQnVmZmVyLCAwLCBjYW1lcmEuYnVmZmVyKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovYFxyXG4gICAgc3RydWN0IFZlcnRPdXQge1xyXG4gICAgICAgIEBidWlsdGluKHBvc2l0aW9uKSBwb3M6IHZlYzRmLFxyXG4gICAgICAgIEBsb2NhdGlvbigwKSB1djogdmVjMmYsXHJcbiAgICB9XHJcblxyXG4gICAgQHZlcnRleFxyXG4gICAgZm4gdnMoQGJ1aWx0aW4odmVydGV4X2luZGV4KSBpZHg6IHUzMikgLT4gVmVydE91dCB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gYXJyYXkoXHJcbiAgICAgICAgICAgIHZlYzJmKC0xLCAgMyksXHJcbiAgICAgICAgICAgIHZlYzJmKDMsIC0xKSxcclxuICAgICAgICAgICAgdmVjMmYoLTEsIC0xKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciByZXM6IFZlcnRPdXQ7XHJcbiAgICAgICAgcmVzLnBvcyA9IHZlYzRmKHBvc1tpZHhdLCAwLjAsIDEuMCk7XHJcbiAgICAgICAgcmVzLnV2ID0gcG9zW2lkeF07XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuYDtcclxuIiwiaW1wb3J0IGJsaXQgZnJvbSAnLi4vc2hhZGVycy9ibGl0LXZlcnQuc2hhZGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvbmVtYXBQYXNzIHtcclxuICAgIHN0YXRpYyByZWFkb25seSBjb2RlID0gLyogd2dzbCAqL2BcclxuICAgICAgICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyIGNvbG9yVGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xyXG5cclxuICAgICAgICAke2JsaXR9XHJcblxyXG4gICAgICAgIGZuIGFjZXNfdG9uZV9tYXAoaGRyOiB2ZWMzZikgLT4gdmVjM2Yge1xyXG4gICAgICAgICAgICBjb25zdCBtMSA9IG1hdDN4MyhcclxuICAgICAgICAgICAgICAgIDAuNTk3MTksIDAuMDc2MDAsIDAuMDI4NDAsXHJcbiAgICAgICAgICAgICAgICAwLjM1NDU4LCAwLjkwODM0LCAwLjEzMzgzLFxyXG4gICAgICAgICAgICAgICAgMC4wNDgyMywgMC4wMTU2NiwgMC44Mzc3NyxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3QgbTIgPSBtYXQzeDMoXHJcbiAgICAgICAgICAgICAgICAxLjYwNDc1LCAtMC4xMDIwOCwgLTAuMDAzMjcsXHJcbiAgICAgICAgICAgICAgICAtMC41MzEwOCwgMS4xMDgxMywgLTAuMDcyNzYsXHJcbiAgICAgICAgICAgICAgICAtMC4wNzM2NywgLTAuMDA2MDUsIDEuMDc2MDIsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvb3N0ID0gMS4wIC8gMC42O1xyXG4gICAgICAgICAgICBsZXQgdiA9IG0xICogKGhkcik7XHJcbiAgICAgICAgICAgIGxldCBhID0gdiAqICh2ICsgMC4wMjQ1Nzg2KSAtIDAuMDAwMDkwNTM3O1xyXG4gICAgICAgICAgICBsZXQgYiA9IHYgKiAoMC45ODM3MjkgKiB2ICsgMC40MzI5NTEwKSArIDAuMjM4MDgxO1xyXG4gICAgICAgICAgICByZXR1cm4gc2F0dXJhdGUobTIgKiAoYSAvIGIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZuIGdhbW1hX2NvcnJlY3QoY29sb3I6IHZlYzNmKSAtPiB2ZWMzZiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5lYXJfdG9fc3JnYihjb2xvciAvIChjb2xvciArIHZlYzMoMS4wKSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm4gbGluZWFyX3RvX3NyZ2IoY29sb3I6IHZlYzNmKSAtPiB2ZWMzZiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3coY29sb3IsIHZlYzMoMS4wLzIuMikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQGZyYWdtZW50XHJcbiAgICAgICAgZm4gZnMoQGJ1aWx0aW4ocG9zaXRpb24pIHBvczogdmVjNGYpIC0+IEBsb2NhdGlvbigwKSB2ZWM0ZiB7XHJcbiAgICAgICAgICAgIGxldCB1diA9IHZlYzI8aTMyPihmbG9vcihwb3MueHkpKTtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0gdGV4dHVyZUxvYWQoY29sb3JUZXh0dXJlLCB1diwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWM0ZihsaW5lYXJfdG9fc3JnYihhY2VzX3RvbmVfbWFwKGNvbG9yLnJnYikpLCAxLjApO1xyXG4gICAgICAgIH1cclxuICAgIGA7XHJcblxyXG4gICAgc3RhdGljIHJlYWRvbmx5IGJpbmRHcm91cExheW91dERlc2NyaXB0b3I6IEdQVUJpbmRHcm91cExheW91dERlc2NyaXB0b3IgPSB7XHJcbiAgICAgICAgbGFiZWw6ICd0b25lbWFwIGJpbmRncm91cCBsYXlvdXQnLFxyXG4gICAgICAgIGVudHJpZXM6IFt7XHJcbiAgICAgICAgICAgIGJpbmRpbmc6IDAsXHJcbiAgICAgICAgICAgIHRleHR1cmU6IHsgc2FtcGxlVHlwZTogJ2Zsb2F0Jywgdmlld0RpbWVuc2lvbjogJzJkJyB9LFxyXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcclxuICAgICAgICB9XSxcclxuICAgIH07XHJcblxyXG4gICAgY29sb3JBdHRhY2htZW50OiBHUFVSZW5kZXJQYXNzQ29sb3JBdHRhY2htZW50ID0ge1xyXG4gICAgICAgIGxvYWRPcDogJ2xvYWQnLFxyXG4gICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cclxuICAgICAgICB2aWV3OiB1bmRlZmluZWQhLFxyXG4gICAgfTtcclxuXHJcbiAgICBwYXNzRGVzY3JpcHRvcjogR1BVUmVuZGVyUGFzc0Rlc2NyaXB0b3IgPSB7XHJcbiAgICAgICAgbGFiZWw6ICd0b25lcGFzcyAtLSBwYXNzIGVuY29kZXInLFxyXG4gICAgICAgIGNvbG9yQXR0YWNobWVudHM6IFt0aGlzLmNvbG9yQXR0YWNobWVudF0sXHJcbiAgICB9O1xyXG5cclxuICAgIHBpcGVsaW5lOiBHUFVSZW5kZXJQaXBlbGluZTtcclxuICAgIHBpcGVsaW5lRGVzY3JpcHRvcjogR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yO1xyXG5cclxuICAgIHJlbmRlclRhcmdldDogR1BVQ29sb3JUYXJnZXRTdGF0ZTtcclxuICAgIGJpbmRncm91cExheW91dDogR1BVQmluZEdyb3VwTGF5b3V0O1xyXG4gICAgYmluZGdyb3VwPzogR1BVQmluZEdyb3VwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBkZXZpY2U6IEdQVURldmljZSxcclxuICAgICAgICBmb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLnJlbmRlclRhcmdldCA9IHsgZm9ybWF0IH07XHJcbiAgICAgICAgdGhpcy5iaW5kZ3JvdXBMYXlvdXQgPSBkZXZpY2UuY3JlYXRlQmluZEdyb3VwTGF5b3V0KFRvbmVtYXBQYXNzLmJpbmRHcm91cExheW91dERlc2NyaXB0b3IpO1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IGRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoeyBsYWJlbDogJ3RvbmVtYXAgc2hhZGVyJywgY29kZTogVG9uZW1hcFBhc3MuY29kZSB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waXBlbGluZURlc2NyaXB0b3IgPSB7XHJcbiAgICAgICAgICAgIGxhYmVsOiAndG9uZW1hcCBwaXBlbGluZScsXHJcbiAgICAgICAgICAgIGxheW91dDogZGV2aWNlLmNyZWF0ZVBpcGVsaW5lTGF5b3V0KHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAndG9uZSBtYXAgcGlwZWxpbmUgbGF5b3V0JyxcclxuICAgICAgICAgICAgICAgIGJpbmRHcm91cExheW91dHM6IFt0aGlzLmJpbmRncm91cExheW91dF0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB2ZXJ0ZXg6IHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZSxcclxuICAgICAgICAgICAgICAgIGVudHJ5UG9pbnQ6ICd2cycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZyYWdtZW50OiB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUsXHJcbiAgICAgICAgICAgICAgICBlbnRyeVBvaW50OiAnZnMnLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogW3RoaXMucmVuZGVyVGFyZ2V0XSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBpcGVsaW5lID0gZGV2aWNlLmNyZWF0ZVJlbmRlclBpcGVsaW5lKHRoaXMucGlwZWxpbmVEZXNjcmlwdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbnB1dChpbnB1dDogR1BVVGV4dHVyZVZpZXcpIHtcclxuICAgICAgICB0aGlzLmJpbmRncm91cCA9IHRoaXMuZGV2aWNlLmNyZWF0ZUJpbmRHcm91cCh7XHJcbiAgICAgICAgICAgIGxhYmVsOiAndG9uZW1hcCBiaW5kZ3JvdXAnLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMuYmluZGdyb3VwTGF5b3V0LFxyXG4gICAgICAgICAgICBlbnRyaWVzOiBbe1xyXG4gICAgICAgICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgICAgICAgIHJlc291cmNlOiBpbnB1dCxcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFzcyhlbmNvZGVyOiBHUFVDb21tYW5kRW5jb2Rlciwgb3V0cHV0OiBHUFVUZXh0dXJlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmluZGdyb3VwID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyVGFyZ2V0LmZvcm1hdCAhPT0gb3V0cHV0LmZvcm1hdCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldC5mb3JtYXQgPSBvdXRwdXQuZm9ybWF0O1xyXG4gICAgICAgICAgICB0aGlzLnBpcGVsaW5lID0gdGhpcy5kZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUodGhpcy5waXBlbGluZURlc2NyaXB0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb2xvckF0dGFjaG1lbnQudmlldyA9IG91dHB1dC5jcmVhdGVWaWV3KHsgZGltZW5zaW9uOiAnMmQnIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwYXNzID0gZW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5wYXNzRGVzY3JpcHRvcik7XHJcbiAgICAgICAgcGFzcy5zZXRQaXBlbGluZSh0aGlzLnBpcGVsaW5lKTtcclxuICAgICAgICBwYXNzLnNldEJpbmRHcm91cCgwLCB0aGlzLmJpbmRncm91cCk7XHJcbiAgICAgICAgcGFzcy5kcmF3KDMpO1xyXG4gICAgICAgIHBhc3MuZW5kKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEZvcndhcmRVbmlmb3JtcyBmcm9tICcuL2ZvcndhcmQtdW5pZm9ybXMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2t5Ym94UGFzcyB7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgY29kZSA9IC8qIHdnc2wgKi9gXHJcbiAgICAgICAgJHtGb3J3YXJkVW5pZm9ybXMuY29kZSgwKX1cclxuXHJcbiAgICAgICAgc3RydWN0IFNreWJveFVuaWZvcm1zIHtcclxuICAgICAgICAgICAgbWlwQmlhczogZjMyLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIEBncm91cCgxKSBAYmluZGluZygwKSB2YXIgZW52aXJvbm1lbnRUZXh0dXJlOiB0ZXh0dXJlX2N1YmU8ZjMyPjtcclxuICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMSkgdmFyIGRlcHRoVGV4dHVyZTogdGV4dHVyZV9kZXB0aF8yZDtcclxuICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMikgdmFyIGVudmlyb25tZW50U2FtcGxlcjogc2FtcGxlcjtcclxuICAgICAgICBAZ3JvdXAoMSkgQGJpbmRpbmcoMykgdmFyPHVuaWZvcm0+IHNreWJveFVuaWZvcm1zOiBTa3lib3hVbmlmb3JtcztcclxuXHJcbiAgICAgICAgc3RydWN0IFZhcnlpbmdzIHtcclxuICAgICAgICAgICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0ZixcclxuICAgICAgICAgICAgQGxvY2F0aW9uKDApIHBvczogdmVjNGYsXHJcbiAgICAgICAgICAgIEBsb2NhdGlvbigxKSBtaXBCaWFzOiBmMzIsXHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIEB2ZXJ0ZXggXHJcbiAgICAgICAgZm4gdnMoQGJ1aWx0aW4odmVydGV4X2luZGV4KSB2TmR4OiB1MzIpIC0+IFZhcnlpbmdzIHtcclxuICAgICAgICAgICAgY29uc3QgcG9zID0gYXJyYXkoXHJcbiAgICAgICAgICAgICAgICB2ZWMyKC0xLjAsICAzLjApLFxyXG4gICAgICAgICAgICAgICAgdmVjMigtMS4wLCAtMS4wKSxcclxuICAgICAgICAgICAgICAgIHZlYzIoIDMuMCwgLTEuMCksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIHZzT3V0OiBWYXJ5aW5ncztcclxuICAgICAgICAgICAgdnNPdXQucG9zaXRpb24gPSB2ZWM0KHBvc1t2TmR4XSwgMC4wLCAxLjApO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIElnbm9yZXMgdGhlIGNhbWVyYSdzIHRyYW5zbGF0aW9uIHdpdGhvdXQgbmVlZGluZyBhIHNlcGFyYXRlIHJvdGF0aW9uIG1hdHJpeC5cclxuICAgICAgICAgICAgdnNPdXQucG9zID0gZ2xvYmFscy5pbnZlcnNlVmlld1RvQ2xpcCAqIHZzT3V0LnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBsZXQgdyA9IHZzT3V0LnBvcy53O1xyXG4gICAgICAgICAgICB2c091dC5wb3MudyA9IDAuMDtcclxuICAgICAgICAgICAgdnNPdXQucG9zID0gZ2xvYmFscy5pbnZlcnNlV29ybGRUb1ZpZXcgKiB2c091dC5wb3M7XHJcbiAgICAgICAgICAgIHZzT3V0LnBvcy53ID0gdztcclxuXHJcbiAgICAgICAgICAgIHZzT3V0Lm1pcEJpYXMgPSBjbGFtcChza3lib3hVbmlmb3Jtcy5taXBCaWFzLCAwLCBmMzIodGV4dHVyZU51bUxldmVscyhlbnZpcm9ubWVudFRleHR1cmUpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2c091dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEBmcmFnbWVudFxyXG4gICAgICAgIGZuIGZzKGluOiBWYXJ5aW5ncykgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcclxuICAgICAgICAgICAgbGV0IGRpbWVuc2lvbnMgPSB0ZXh0dXJlRGltZW5zaW9ucyhkZXB0aFRleHR1cmUpO1xyXG4gICAgICAgICAgICBsZXQgdXYgPSBtaW4odmVjMjx1MzI+KGZsb29yKGluLnBvc2l0aW9uLnh5KSksIGRpbWVuc2lvbnMgLSAxKTtcclxuICAgICAgICAgICAgbGV0IGRlcHRoID0gdGV4dHVyZUxvYWQoZGVwdGhUZXh0dXJlLCB1diwgMCk7XHJcbiAgICAgICAgICAgIGlmIChkZXB0aCA8IDEuMCkgeyBkaXNjYXJkOyB9XHJcblxyXG4gICAgICAgICAgICBsZXQgdCA9IG5vcm1hbGl6ZShpbi5wb3MueHl6IC8gaW4ucG9zLncpICogdmVjMygtMS4wLCAxLjAsIDEuMCk7XHJcbiAgICAgICAgICAgIGxldCBjb2xvciA9IHRleHR1cmVTYW1wbGVMZXZlbChlbnZpcm9ubWVudFRleHR1cmUsIGVudmlyb25tZW50U2FtcGxlciwgdCwgaW4ubWlwQmlhcykucmdiO1xyXG4gICAgICAgICAgICByZXR1cm4gdmVjNChjb2xvciwgMS4wKTtcclxuICAgICAgICB9XHJcbiAgICBgO1xyXG5cclxuICAgIGJpbmRncm91cExheW91dDogR1BVQmluZEdyb3VwTGF5b3V0O1xyXG4gICAgcGlwZWxpbmVMYXlvdXQ6IEdQVVBpcGVsaW5lTGF5b3V0O1xyXG4gICAgc2hhZGVyOiBHUFVTaGFkZXJNb2R1bGU7XHJcblxyXG4gICAgbGluZWFyU2FtcGxlcjogR1BVU2FtcGxlcjtcclxuICAgIG5lYXJlc3RTYW1wbGVyOiBHUFVTYW1wbGVyO1xyXG4gICAgdGV4dHVyZUJpbmRncm91cD86IEdQVUJpbmRHcm91cDtcclxuXHJcbiAgICB1bmlmb3JtQnVmZmVyOiBHUFVCdWZmZXI7XHJcbiAgICB1bmlmb3JtQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xyXG5cclxuICAgIHBpcGVsaW5lPzogR1BVUmVuZGVyUGlwZWxpbmU7XHJcblxyXG4gICAgI3NreVRleHR1cmU/OiBHUFVUZXh0dXJlVmlldztcclxuICAgICNkZXB0aFRleHR1cmU/OiBHUFVUZXh0dXJlVmlldztcclxuICAgICN0YXJnZXRGb3JtYXQhOiBHUFVUZXh0dXJlRm9ybWF0O1xyXG4gICAgI3VzZU5lYXJlc3RTYW1wbGUgPSBmYWxzZTtcclxuXHJcbiAgICBnZXQgbWlwTGV2ZWwoKSB7IHJldHVybiB0aGlzLnVuaWZvcm1BcnJheVswXTsgfVxyXG4gICAgc2V0IG1pcExldmVsKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gdGhpcy51bmlmb3JtQXJyYXlbMF0pIHJldHVybjtcclxuICAgICAgICB0aGlzLnVuaWZvcm1BcnJheVswXSA9IHZhbDtcclxuICAgICAgICB0aGlzLmRldmljZS5xdWV1ZS53cml0ZUJ1ZmZlcih0aGlzLnVuaWZvcm1CdWZmZXIsIDAsIHRoaXMudW5pZm9ybUFycmF5LCAwLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdXNlTmVhcmVzdFNhbXBsZSgpIHsgcmV0dXJuIHRoaXMuI3VzZU5lYXJlc3RTYW1wbGU7IH1cclxuICAgIHNldCB1c2VOZWFyZXN0U2FtcGxlKHZhbDogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh2YWwgPT09IHRoaXMuI3VzZU5lYXJlc3RTYW1wbGUpIHJldHVybjtcclxuICAgICAgICB0aGlzLiN1c2VOZWFyZXN0U2FtcGxlID0gdmFsO1xyXG4gICAgICAgIHRoaXMuI3VwZGF0ZUJpbmRncm91cCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0YXJnZXRGb3JtYXQoKSB7IHJldHVybiB0aGlzLiN0YXJnZXRGb3JtYXQ7IH1cclxuICAgIHNldCB0YXJnZXRGb3JtYXQoZm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0KSB7XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdGhpcy4jdGFyZ2V0Rm9ybWF0KSByZXR1cm47XHJcbiAgICAgICAgdGhpcy4jdGFyZ2V0Rm9ybWF0ID0gZm9ybWF0O1xyXG5cclxuICAgICAgICB0aGlzLnBpcGVsaW5lID0gdGhpcy5kZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUoe1xyXG4gICAgICAgICAgICBsYWJlbDogJ3NreWJveCBwYXNzIC0tIHBpcGVsaW5lJyxcclxuICAgICAgICAgICAgbGF5b3V0OiB0aGlzLnBpcGVsaW5lTGF5b3V0LFxyXG4gICAgICAgICAgICB2ZXJ0ZXg6IHtcclxuICAgICAgICAgICAgICAgIGVudHJ5UG9pbnQ6ICd2cycsXHJcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuc2hhZGVyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmcmFnbWVudDoge1xyXG4gICAgICAgICAgICAgICAgZW50cnlQb2ludDogJ2ZzJyxcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IFt7IGZvcm1hdCB9XSxcclxuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5zaGFkZXIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNreVRleHR1cmUoc2t5Ym94OiBHUFVUZXh0dXJlVmlldykge1xyXG4gICAgICAgIGlmIChza3lib3ggPT09IHRoaXMuI3NreVRleHR1cmUpIHJldHVybjtcclxuICAgICAgICB0aGlzLiNza3lUZXh0dXJlID0gc2t5Ym94O1xyXG4gICAgICAgIHRoaXMuI3VwZGF0ZUJpbmRncm91cCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkZXB0aFRleHR1cmUoZGVwdGhUZXh0dXJlOiBHUFVUZXh0dXJlVmlldykge1xyXG4gICAgICAgIGlmIChkZXB0aFRleHR1cmUgPT09IHRoaXMuI2RlcHRoVGV4dHVyZSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuI2RlcHRoVGV4dHVyZSA9IGRlcHRoVGV4dHVyZTtcclxuICAgICAgICB0aGlzLiN1cGRhdGVCaW5kZ3JvdXAoKTtcclxuICAgIH1cclxuXHJcbiAgICB0YXJnZXQ6IEdQVVJlbmRlclBhc3NDb2xvckF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgY2xlYXJWYWx1ZTogeyByOiAwLjAsIGc6IDAuMCwgYjogMC4wLCBhOiAxLjAgfSxcclxuICAgICAgICBsb2FkT3A6ICdjbGVhcicsXHJcbiAgICAgICAgc3RvcmVPcDogJ3N0b3JlJyxcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxyXG4gICAgICAgIHZpZXc6IHVuZGVmaW5lZCEsXHJcbiAgICB9O1xyXG5cclxuICAgIHJlYWRvbmx5IHBhc3NEZXNjcmlwdG9yOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciA9IHsgY29sb3JBdHRhY2htZW50czogW3RoaXMudGFyZ2V0XSB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBkZXZpY2U6IEdQVURldmljZSxcclxuICAgICAgICBwdWJsaWMgY2FtZXJhVW5pZm9ybXM6IEZvcndhcmRVbmlmb3JtcyxcclxuICAgICAgICB0YXJnZXRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQsXHJcbiAgICAgICAgc2t5Ym94PzogR1BVVGV4dHVyZVZpZXcsXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLmJpbmRncm91cExheW91dCA9IGRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoe1xyXG4gICAgICAgICAgICBsYWJlbDogJ3NreWJveCBwYXNzIC0tIGJpbmRncm91cCBsYXlvdXQnLFxyXG4gICAgICAgICAgICBlbnRyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlOiB7IHZpZXdEaW1lbnNpb246ICdjdWJlJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHwgR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld0RpbWVuc2lvbjogJzJkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlVHlwZTogJ2RlcHRoJyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxyXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXI6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLlZFUlRFWCxcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IHsgdHlwZTogJ3VuaWZvcm0nIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmxpbmVhclNhbXBsZXIgPSBkZXZpY2UuY3JlYXRlU2FtcGxlcih7XHJcbiAgICAgICAgICAgIG1pbkZpbHRlcjogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIG1hZ0ZpbHRlcjogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIG1pcG1hcEZpbHRlcjogJ2xpbmVhcicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubmVhcmVzdFNhbXBsZXIgPSBkZXZpY2UuY3JlYXRlU2FtcGxlcih7XHJcbiAgICAgICAgICAgIG1pbkZpbHRlcjogJ25lYXJlc3QnLFxyXG4gICAgICAgICAgICBtYWdGaWx0ZXI6ICduZWFyZXN0JyxcclxuICAgICAgICAgICAgbWlwbWFwRmlsdGVyOiAnbmVhcmVzdCcsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hhZGVyID0gZGV2aWNlLmNyZWF0ZVNoYWRlck1vZHVsZSh7XHJcbiAgICAgICAgICAgIGNvZGU6IFNreWJveFBhc3MuY29kZSxcclxuICAgICAgICAgICAgbGFiZWw6ICdza3lib3ggcGFzcyAtLSBzaGFkZXInLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBpcGVsaW5lTGF5b3V0ID0gZGV2aWNlLmNyZWF0ZVBpcGVsaW5lTGF5b3V0KHtcclxuICAgICAgICAgICAgbGFiZWw6ICdza3lib3ggcGFzcyAtLSBwaXBlbGluZSBsYXlvdXQnLFxyXG4gICAgICAgICAgICBiaW5kR3JvdXBMYXlvdXRzOiBbXHJcbiAgICAgICAgICAgICAgICBjYW1lcmFVbmlmb3Jtcy5iaW5kR3JvdXBMYXlvdXQsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRncm91cExheW91dCxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51bmlmb3JtQnVmZmVyID0gZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnc2t5Ym94IHBhc3MgLS0gdW5pZm9ybSBidWZmZXInLFxyXG4gICAgICAgICAgICBzaXplOiAzMixcclxuICAgICAgICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUIHwgR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50YXJnZXRGb3JtYXQgPSB0YXJnZXRGb3JtYXQ7XHJcbiAgICAgICAgaWYgKHNreWJveCAhPSBudWxsKSB0aGlzLnNreVRleHR1cmUgPSBza3lib3g7XHJcbiAgICB9XHJcblxyXG4gICAgcGFzcyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcikge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHR1cmVCaW5kZ3JvdXAgPT0gbnVsbCB8fCB0aGlzLnBpcGVsaW5lID09IG51bGwpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBwYXNzLnNldFBpcGVsaW5lKHRoaXMucGlwZWxpbmUpO1xyXG4gICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIHRoaXMuY2FtZXJhVW5pZm9ybXMuYmluZGdyb3VwKTtcclxuICAgICAgICBwYXNzLnNldEJpbmRHcm91cCgxLCB0aGlzLnRleHR1cmVCaW5kZ3JvdXApO1xyXG4gICAgICAgIHBhc3MuZHJhdygzKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAjdXBkYXRlQmluZGdyb3VwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLiNza3lUZXh0dXJlID09IG51bGwgfHwgdGhpcy4jZGVwdGhUZXh0dXJlID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlQmluZGdyb3VwID0gdGhpcy5kZXZpY2UuY3JlYXRlQmluZEdyb3VwKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdza3lib3ggcGFzcyAtLSBiaW5kZ3JvdXAnLFxyXG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMuYmluZGdyb3VwTGF5b3V0LFxyXG4gICAgICAgICAgICBlbnRyaWVzOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogdGhpcy4jc2t5VGV4dHVyZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZzogMSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogdGhpcy4jZGVwdGhUZXh0dXJlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiB0aGlzLnVzZU5lYXJlc3RTYW1wbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLm5lYXJlc3RTYW1wbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5saW5lYXJTYW1wbGVyLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiB7IGJ1ZmZlcjogdGhpcy51bmlmb3JtQnVmZmVyIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDYW1lcmEgZnJvbSAnLi9jYW1lcmEnO1xyXG5pbXBvcnQgRm9yd2FyZFVuaWZvcm1zIGZyb20gJy4vZm9yd2FyZC11bmlmb3Jtcyc7XHJcbmltcG9ydCBUb25lbWFwUGFzcyBmcm9tICcuL3RvbmVtYXAtcGFzcyc7XHJcbmltcG9ydCBTa3lib3hQYXNzIGZyb20gJy4vc2t5Ym94LXBhc3MnO1xyXG5pbXBvcnQgeyBSZW5kZXJNb2RlbCwgTW9kZWxDb25zdHJ1Y3RvciB9IGZyb20gJy4vcmVuZGVyLW1vZGVsJztcclxuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICcuLi91dGlscy9nZW5lcmFsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIHtcclxuICAgIHN0YXRpYyByZWFkb25seSByZXF1aXJlZEZlYXR1cmVzOiBHUFVGZWF0dXJlTmFtZVtdID0gWydmbG9hdDMyLWZpbHRlcmFibGUnXTtcclxuICAgIHN0YXRpYyByZWFkb25seSBvdXRwdXRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQgPSBuYXZpZ2F0b3IuZ3B1LmdldFByZWZlcnJlZENhbnZhc0Zvcm1hdCgpO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IHBvc3RQcm9jZXNzRm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0ID0gJ3JnYmEzMmZsb2F0JztcclxuXHJcbiAgICBjb2xvckF0dGFjaG1lbnQ6IEdQVVJlbmRlclBhc3NDb2xvckF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgY2xlYXJWYWx1ZTogeyByOiAwLCBnOiAwLCBiOiAwLCBhOiAxIH0sXHJcbiAgICAgICAgbG9hZE9wOiAnY2xlYXInLFxyXG4gICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cclxuICAgICAgICB2aWV3OiB1bmRlZmluZWQhLFxyXG4gICAgfTtcclxuXHJcbiAgICBwYXNzRGVzY3JpcHRvcjogR1BVUmVuZGVyUGFzc0Rlc2NyaXB0b3IgPSB7IGNvbG9yQXR0YWNobWVudHM6IFt0aGlzLmNvbG9yQXR0YWNobWVudF0gfTtcclxuXHJcbiAgICBjb250ZXh0OiBHUFVDYW52YXNDb250ZXh0O1xyXG4gICAgbW9kZWw/OiBSZW5kZXJNb2RlbDtcclxuXHJcbiAgICBjYW1lcmE6IENhbWVyYTtcclxuXHJcbiAgICBmb3J3YXJkVW5pZm9ybXM6IEZvcndhcmRVbmlmb3JtcztcclxuICAgIHNreWJveFBhc3M6IFNreWJveFBhc3M7XHJcbiAgICB0b25lbWFwUGFzczogVG9uZW1hcFBhc3M7XHJcblxyXG4gICAgcG9zdHByb2Nlc3NUYXJnZXQhOiBHUFVUZXh0dXJlO1xyXG5cclxuICAgIHNldE1vZGVsKE1vZGVsQ3RvcjogTW9kZWxDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWxDdG9yKHRoaXMuZGV2aWNlLCB0aGlzLnNreWJveFBhc3MsIHtcclxuICAgICAgICAgICAgdmlldzogdGhpcy5jb2xvckF0dGFjaG1lbnQudmlldyxcclxuICAgICAgICAgICAgZm9ybWF0OiBSZW5kZXJlci5wb3N0UHJvY2Vzc0Zvcm1hdCxcclxuICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogdGhpcy5jYW52YXMud2lkdGgsIGhlaWdodDogdGhpcy5jYW52YXMuaGVpZ2h0IH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAgICAgICAgcHVibGljIGRldmljZTogR1BVRGV2aWNlLFxyXG4gICAgKSB7XHJcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHsgd2lkdGg6IHRoaXMuY2FudmFzLndpZHRoLCBoZWlnaHQ6IHRoaXMuY2FudmFzLmhlaWdodCB9O1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYShzaXplKTtcclxuICAgICAgICB0aGlzLmZvcndhcmRVbmlmb3JtcyA9IG5ldyBGb3J3YXJkVW5pZm9ybXModGhpcy5kZXZpY2UpO1xyXG4gICAgICAgIHRoaXMudG9uZW1hcFBhc3MgPSBuZXcgVG9uZW1hcFBhc3ModGhpcy5kZXZpY2UsIFJlbmRlcmVyLm91dHB1dEZvcm1hdCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2t5Ym94UGFzcyA9IG5ldyBTa3lib3hQYXNzKFxyXG4gICAgICAgICAgICB0aGlzLmRldmljZSxcclxuICAgICAgICAgICAgdGhpcy5mb3J3YXJkVW5pZm9ybXMsXHJcbiAgICAgICAgICAgIFJlbmRlcmVyLnBvc3RQcm9jZXNzRm9ybWF0LFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCd3ZWJncHUnKTtcclxuICAgICAgICBpZiAoY29udGV4dCA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoJ3JlbmRlcmVyIC0tIGdpdmVuIGNhbnZhcyBhbHJlYWR5IGluaXRpYWxpemVkIHRvIG5vbi13ZWJncHUgY29udGV4dCcpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0IGFzIHVua25vd24gYXMgR1BVQ2FudmFzQ29udGV4dDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgICAgIGRldmljZTogdGhpcy5kZXZpY2UsXHJcbiAgICAgICAgICAgIGZvcm1hdDogUmVuZGVyZXIub3V0cHV0Rm9ybWF0LFxyXG4gICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UIHwgR1BVVGV4dHVyZVVzYWdlLkNPUFlfU1JDLFxyXG4gICAgICAgICAgICBhbHBoYU1vZGU6ICdvcGFxdWUnLFxyXG4gICAgICAgICAgICBjb2xvclNwYWNlOiAnc3JnYicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlQmFja2luZ3Moc2l6ZSk7XHJcbiAgICAgICAgdGhpcy4jY3JlYXRlUmVzaXplT2JzZXJ2ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYXN5bmMgQ3JlYXRlSW5pdGlhbGl6ZWQoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IFByb21pc2U8UmVuZGVyZXI+IHtcclxuICAgICAgICBjb25zdCBhZGFwdGVyID0gYXdhaXQgbmF2aWdhdG9yLmdwdS5yZXF1ZXN0QWRhcHRlcigpO1xyXG4gICAgICAgIGlmIChhZGFwdGVyID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSBHUFUuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIG1heENvbXB1dGVXb3JrZ3JvdXBTaXplWCxcclxuICAgICAgICAgICAgbWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb24sXHJcbiAgICAgICAgICAgIG1heENvbXB1dGVJbnZvY2F0aW9uc1Blcldvcmtncm91cCxcclxuICAgICAgICB9ID0gYWRhcHRlci5saW1pdHM7XHJcbiAgICAgICAgY29uc3QgZGV2aWNlID0gYXdhaXQgYWRhcHRlci5yZXF1ZXN0RGV2aWNlKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdtYWluIGxvZ2ljYWwgZGV2aWNlJyxcclxuICAgICAgICAgICAgcmVxdWlyZWRGZWF0dXJlczogUmVuZGVyZXIucmVxdWlyZWRGZWF0dXJlcyxcclxuICAgICAgICAgICAgcmVxdWlyZWRMaW1pdHM6IHtcclxuICAgICAgICAgICAgICAgIG1heENvbXB1dGVXb3JrZ3JvdXBTaXplWCxcclxuICAgICAgICAgICAgICAgIG1heENvbXB1dGVXb3JrZ3JvdXBzUGVyRGltZW5zaW9uLFxyXG4gICAgICAgICAgICAgICAgbWF4Q29tcHV0ZUludm9jYXRpb25zUGVyV29ya2dyb3VwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKGNhbnZhcywgZGV2aWNlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCYWNraW5ncyhzaXplOiB7IHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH0pIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQYXJhbXMoc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5wb3N0cHJvY2Vzc1RhcmdldCA9IHRoaXMuZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xyXG4gICAgICAgICAgICBkaW1lbnNpb246ICcyZCcsXHJcbiAgICAgICAgICAgIGZvcm1hdDogUmVuZGVyZXIucG9zdFByb2Nlc3NGb3JtYXQsXHJcbiAgICAgICAgICAgIHVzYWdlOiBHUFVUZXh0dXJlVXNhZ2UuUkVOREVSX0FUVEFDSE1FTlQgfCBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HLFxyXG4gICAgICAgICAgICBzaXplLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbG9yQXR0YWNobWVudC52aWV3ID0gdGhpcy5wb3N0cHJvY2Vzc1RhcmdldC5jcmVhdGVWaWV3KCk7XHJcbiAgICAgICAgdGhpcy50b25lbWFwUGFzcy51cGRhdGVJbnB1dCh0aGlzLmNvbG9yQXR0YWNobWVudC52aWV3KTtcclxuICAgICAgICB0aGlzLm1vZGVsPy5zZXRUYXJnZXQoe1xyXG4gICAgICAgICAgICB2aWV3OiB0aGlzLmNvbG9yQXR0YWNobWVudC52aWV3LFxyXG4gICAgICAgICAgICBmb3JtYXQ6IFJlbmRlcmVyLnBvc3RQcm9jZXNzRm9ybWF0LFxyXG4gICAgICAgICAgICBzaXplLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGVsICE9IG51bGwpIHRoaXMuc2t5Ym94UGFzcy5kZXB0aFRleHR1cmUgPSB0aGlzLm1vZGVsLmRlcHRoVGV4dHVyZVZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgI2NyZWF0ZVJlc2l6ZU9ic2VydmVyKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc2l6ZUNhbnZhcyA9IGRlYm91bmNlKChyYXdXaWR0aDogbnVtYmVyLCByYXdIZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDEsIE1hdGgubWluKHJhd1dpZHRoIHwgMCwgdGhpcy5kZXZpY2UubGltaXRzLm1heFRleHR1cmVEaW1lbnNpb24yRCkpO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihyYXdIZWlnaHQgfCAwLCB0aGlzLmRldmljZS5saW1pdHMubWF4VGV4dHVyZURpbWVuc2lvbjJEKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB7IHdpZHRoLCBoZWlnaHQgfTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJhY2tpbmdzKGRpbWVuc2lvbnMpO1xyXG4gICAgICAgIH0sIDIwKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt7IGlubGluZVNpemUsIGJsb2NrU2l6ZSB9XSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xyXG4gICAgICAgICAgICAgICAgcmVzaXplQ2FudmFzKGlubGluZVNpemUsIGJsb2NrU2l6ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuY2FudmFzLCB7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfSk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94LCBzbyBpdCB3b3VsZCBmYWlsIGludG8gdGhpcy5cclxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt7IGlubGluZVNpemUsIGJsb2NrU2l6ZSB9XSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5jb250ZW50Qm94U2l6ZTtcclxuICAgICAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyhpbmxpbmVTaXplICogZGV2aWNlUGl4ZWxSYXRpbywgYmxvY2tTaXplICogZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuY2FudmFzLCB7IGJveDogJ2NvbnRlbnQtYm94JyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlcik7XHJcblxyXG4gICAgICAgIHRoaXMuZm9yd2FyZFVuaWZvcm1zLnVwZGF0ZURldmljZUJ1ZmZlcih0aGlzLmRldmljZS5xdWV1ZSwgdGhpcy5jYW1lcmEpO1xyXG5cclxuICAgICAgICBjb25zdCBlbmNvZGVyID0gdGhpcy5kZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoeyBsYWJlbDogJ21haW4gcmVuZGVyIGVuY29kZXInIH0pO1xyXG4gICAgICAgIGNvbnN0IHBhc3MgPSB0aGlzLm1vZGVsPy5yZW5kZXIoZW5jb2RlcikgPz8gZW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5wYXNzRGVzY3JpcHRvcik7XHJcbiAgICAgICAgdGhpcy5za3lib3hQYXNzLnBhc3MocGFzcyk7XHJcbiAgICAgICAgcGFzcy5lbmQoKTtcclxuXHJcbiAgICAgICAgdGhpcy50b25lbWFwUGFzcy5wYXNzKGVuY29kZXIsIHRoaXMuY29udGV4dC5nZXRDdXJyZW50VGV4dHVyZSgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXZpY2UucXVldWUuc3VibWl0KFtlbmNvZGVyLmZpbmlzaCgpXSk7XHJcbiAgICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///114\n")}}]);